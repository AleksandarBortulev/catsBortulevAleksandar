/*! For license information please see player.v2.modern.js.LICENSE.txt */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=338)}([function(e,t,n){"use strict";function r(e){return e}function i(e){return function(e){return Math.floor(e)}(e)}function a(e){return e}function o(e){return e}function s(e){return e}function c(e){return e}function d(e){return e}function l(e){return e}n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return l}));const u=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t+=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t},h=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t-=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t},p=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t*=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t},f=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t/=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.DEFAULT_ERROR="DEFAULT_ERROR",e.YANDEX_RPC_ERROR="YANDEX_RPC_ERROR",e.BROADCAST_AD_BLOCK_INIT_ERROR="BROADCAST_AD_BLOCK_INIT_ERROR",e.AD_LOADER_INIT_ERROR="AD_LOADER_INIT_ERROR",e.AD_TYPE_IS_NOT_RECOGNIZED="AD_TYPE_IS_NOT_RECOGNIZED",e.INVALID_METADATA="INVALID_METADATA",e.INVALID_STREAM_URL="INVALID_STREAM_URL",e.PUBLIC_API_CALL_ERROR="PUBLIC_API_CALL_ERROR",e.UNSUPPORTED_MEDIA_TYPE="UNSUPPORTED_MEDIA_TYPE",e.SCRIPT_INIT_ERROR="SCRIPT_INIT_ERROR",e.MPD_WIDEVINE_CERT_LOAD_ERROR="MPD_WIDEVINE_CERT_LOAD_ERROR",e.MPD_SHAKA_INIT_ERROR="MPD_SHAKA_INIT_ERROR",e.MPD_NOT_SUPPORTED_ERROR="MPD_NOT_SUPPORTED_ERROR",e.NATIVE_HLS_NOT_SUPPORTED_ERROR="NATIVE_HLS_NOT_SUPPORTED_ERROR",e.HLS_JS_NOT_SUPPORTED_ERROR="HLS_JS_NOT_SUPPORTED_ERROR",e.HLS_JS_INVALID_MANIFEST_URL="HLS_JS_INVALID_MANIFEST_URL",e.HLS_CONTROLLER_SCRIPT_LOAD_ERROR="HLS_CONTROLLER_SCRIPT_LOAD_ERROR",e.MPD_CONTROLLER_SCRIPT_LOAD_ERROR="MPD_CONTROLLER_SCRIPT_LOAD_ERROR",e.YANDEX_CONTROLLER_SCRIPT_LOAD_ERROR="YANDEX_CONTROLLER_SCRIPT_LOAD_ERROR",e.MP4_CONTROLLER_SCRIPT_LOAD_ERROR="MP4_CONTROLLER_SCRIPT_LOAD_ERROR",e.REFRESH_SUBTITLES_ERROR="REFRESH_SUBTITLES_ERROR",e.ON_TICK_ERROR="ON_TICK_ERROR",e.FAIRPLAY_NOT_SUPPORTED="FAIRPLAY_NOT_SUPPORTED",e.FAIRPLAY_CERT_LOAD_ERROR="FAIRPLAY_CERT_LOAD_ERROR",e.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR="FAIRPLAY_CREATE_MEDIA_KEYS_ERROR",e.FAIRPLAY_CREATE_KEY_SESSION_ERROR="FAIRPLAY_CREATE_KEY_SESSION_ERROR",e.FAIRPLAY_SPC_LOAD_ERROR="FAIRPLAY_SPC_LOAD_ERROR",e.FAIRPLAY_CREATE_KEY_ERROR="FAIRPLAY_CREATE_KEY_ERROR",e.FAIRPLAY_INVALID_CONTENT_ID="FAIRPLAY_INVALID_CONTENT_ID",e.DRM_PROXY_ERROR="DRM_PROXY_ERROR",e.DRM_PROXY_ERROR_SIGNATURE_EXPIRED="DRM_PROXY_ERROR_SIGNATURE_EXPIRED",e.NO_HLS_JS_INSTANCE="NO_HLS_JS_INSTANCE",e.AD_IS_ALREADY_PLAYING="AD_IS_ALREADY_PLAYING",e.AD_CANNOT_FIND_CONTAINER_TO_PLAY="AD_CANNOT_FIND_CONTAINER_TO_PLAY",e.RAA_TAKING_2SEC="RAA_TAKING_2SEC",e.RAA_TAKING_10SEC="RAA_TAKING_10SEC",e.META_INFO_REQUEST_FAILED="META_INFO_REQUEST_FAILED",e.MULTIROLL_INIT_ERROR="MULTIROLL_INIT_ERROR",e.PREROLL_ERROR="PREROLL_ERROR",e.REACT_COMPONENT_DID_CATCH_ERROR_INFO="REACT_COMPONENT_DID_CATCH_ERROR_INFO",e.UNEXPECTED_FEATURE_NAME="UNEXPECTED_FEATURE_NAME",e.UNEXPECTED_FEATURE_ACTION_NAME="UNEXPECTED_FEATURE_ACTION_NAME",e.NO_PARAMS_IN_FEATURE_ACTION="NO_PARAMS_IN_FEATURE_ACTION",e.FEATURE_ACTION_DISPATCH_ERROR="FEATURE_ACTION_DISPATCH_ERROR",e.PLAY_AD_VIEWERS_ERROR="PLAY_AD_VIEWERS_ERROR",e.SAGA_ERROR="SAGA_ERROR",e.STRM_ABD_INVALID_RESPONSE="STRM_ABD_INVALID_RESPONSE",e.REQUIRED_FEATURE_IS_NOT_IN_BUNDLE="REQUIRED_FEATURE_IS_NOT_IN_BUNDLE",e.TANKER_KEY_ERROR="TANKER_KEY_ERROR",e.RECOVER_TASK_ERROR="RECOVER_TASK_ERROR",e.PRELOAD_SOURCE_FAILED="PRELOAD_SOURCE_FAILED",e.REGIONAL_LIMITATION_MANIFEST="REGIONAL_LIMITATION_MANIFEST",e.REGIONAL_LIMITATION_LEVEL="REGIONAL_LIMITATION_LEVEL",e.REGIONAL_LIMITATION_SEGMENT="REGIONAL_LIMITATION_SEGMENT",e.SIGNATURE_EXPIRED_MANIFEST="SIGNATURE_EXPIRED_MANIFEST",e.SIGNATURE_EXPIRED_LEVEL="SIGNATURE_EXPIRED_LEVEL",e.SIGNATURE_EXPIRED_SEGMENT="SIGNATURE_EXPIRED_SEGMENT",e.NO_STREAMS="NO_STREAMS",e.NO_CODECS="NO_CODECS",e.NO_MSE="NO_MSE",e.NO_DRM="NO_DRM",e.NO_PLAYABLE_STREAMS="NO_PLAYABLE_STREAMS",e.SHAKA_FILTER_ERROR="SHAKA_FILTER_ERROR",e.SHAKA_CONFIGURE_ERROR="SHAKA_CONFIGURE_ERROR",e.DRM_TYPE_NOT_SUPPORTED="DRM_TYPE_NOT_SUPPORTED",e.MISSING_WEBOS_DRM_CLIENT_ID="MISSING_WEBOS_DRM_CLIENT_ID",e.UNEXPECTED_WEBOS_DRM_ERROR="UNEXPECTED_WEBOS_DRM_ERROR",e.CANNOT_SELECT_TRACK="CANNOT_SELECT_TRACK",e.WEBOS_SERVICE_REQUEST_ERROR="WEBOS_SERVICE_REQUEST_ERROR",e.MEDIA_ERR_CUSTOM="MEDIA_ERR_CUSTOM",e.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",e.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",e.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",e.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",e.MEDIA_ERR_ENCRYPTED="MEDIA_ERR_ENCRYPTED",e.XRAY_REQUEST_BOXES_ERROR="XRAY_REQUEST_BOXES_ERROR",e.XRAY_SEND_FEEDBACK_ERROR="XRAY_SEND_FEEDBACK_ERROR"}(r||(r={}))},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.BUFFER_STALLED_ERROR="bufferStalledError",e.SHAKA_VIDEO_ERROR_3016="shaka.VIDEO_ERROR_3016",e.FRAG_PARSING_ERROR="fragParsingError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.PIPELINE_ERROR_DECODE="PIPELINE_ERROR_DECODE",e.DECODER_ERROR_NOT_SUPPORTED="DECODER_ERROR_NOT_SUPPORTED",e.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032="shaka.CONTENT_UNSUPPORTED_BY_BROWSER_4032",e.BUFFER_APPEND_ERROR="bufferAppendError",e.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015="shaka.MEDIA_SOURCE_OPERATION_THREW_3015",e.MEDIA_ELEMENT_ERROR_FORMAT_ERROR="MEDIA_ELEMENT_ERROR: Format error",e.REMUX_ALLOC_ERROR="remuxAllocError",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.DEMUXER_ERROR_COULD_NOT_OPEN="DEMUXER_ERROR_COULD_NOT_OPEN",e.NS_ERROR_DOM_INVALID_STATE_ERR="NS_ERROR_DOM_INVALID_STATE_ERR",e.SHAKA_DASH_INVALID_XML_4001="shaka.DASH_INVALID_XML_4001",e.SHAKA_QUOTA_EXCEEDED_ERROR_3017="shaka.QUOTA_EXCEEDED_ERROR_3017",e.CHUNK_DEMUXER_ERROR_APPEND_FAILED="CHUNK_DEMUXER_ERROR_APPEND_FAILED",e.FAILED_TO_INIT_DECODER="Failed to init decoder",e.PIPELINE_ERROR_INITIALIZATION_FAILED="PIPELINE_ERROR_INITIALIZATION_FAILED",e.NS_ERROR_FAILURE="NS_ERROR_FAILURE",e.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014="shaka.MEDIA_SOURCE_OPERATION_FAILED_3014",e.REQUEST_FAILED="2147500036: Request failed",e.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED="PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED",e.PIPELINE_ERROR_COULD_NOT_RENDER="PIPELINE_ERROR_COULD_NOT_RENDER",e.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE="MEDIA_ELEMENT_ERROR: Empty src attribute",e.NS_ERROR_DOM_MEDIA_METADATA_ERR="NS_ERROR_DOM_MEDIA_METADATA_ERR",e.NS_ERROR_DOM_MEDIA_FATAL_ERR="NS_ERROR_DOM_MEDIA_FATAL_ERR",e.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012="shaka.RESTRICTIONS_CANNOT_BE_MET_4012",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.FRAG_LOAD_ERROR="fragLoadError",e.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST="shaka.BAD_HTTP_STATUS_1001_MANIFEST",e.SHAKA_HTTP_ERROR_1002_SEGMENT="shaka.HTTP_ERROR_1002_SEGMENT",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.LEVEL_LOAD_ERROR="levelLoadError",e.SHAKA_HTTP_ERROR_1002_MANIFEST="shaka.HTTP_ERROR_1002_MANIFEST",e.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT="shaka.BAD_HTTP_STATUS_1001_SEGMENT",e.SHAKA_UNSUPPORTED_SCHEME_1000="shaka.UNSUPPORTED_SCHEME_1000",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.SHAKA_TIMEOUT_1003_SEGMENT="shaka.TIMEOUT_1003_SEGMENT",e.FRAG_LOAD_TIME_OUT="fragLoadTimeOut",e.MANIFEST_LOAD_TIME_OUT="manifestLoadTimeOut",e.LEVEL_LOAD_TIME_OUT="levelLoadTimeOut",e.SHAKA_TIMEOUT_1003_MANIFEST="shaka.TIMEOUT_1003_MANIFEST",e.SHAKA_TIMEOUT_1003_LICENSE="shaka.TIMEOUT_1003_LICENSE",e.AUDIO_TRACK_LOAD_TIME_OUT="audioTrackLoadTimeOut",e.INTERNAL_EXCEPTION="internalException",e.SHAKA_OPERATION_ABORTED_7001="shaka.OPERATION_ABORTED_7001",e.ON_PLAYER_INIT_ERROR_INTERNAL="ON_PLAYER_INIT_ERROR_INTERNAL",e.UNABLE_TO_LOAD_PLAYER_IFRAME="UNABLE_TO_LOAD_PLAYER_IFRAME",e.ON_PLAYER_INIT_ERROR="ON_PLAYER_INIT_ERROR",e.LOADER_INIT_ERROR="LoaderInitError",e.XRAY_REQUEST_BOXES_ERROR="XRAY_REQUEST_BOXES_ERROR",e.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT="UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT",e.FAILED_TO_DOWNLOAD_DEBUG_INFO="FAILED_TO_DOWNLOAD_DEBUG_INFO",e.SHAKA_REQUEST_FILTER_ERROR_1006="shaka.REQUEST_FILTER_ERROR_1006",e.PLAYER_CONTAINER_NOT_FOUND="PLAYER_CONTAINER_NOT_FOUND",e.KEY_LOAD_ERROR="keyLoadError",e.FEATURE_HANDLER_ERROR="FEATURE_HANDLER_ERROR",e.SHAKA_NO_LICENSE_SERVER_GIVEN_6012="shaka.NO_LICENSE_SERVER_GIVEN_6012",e.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER="InvalidConfigElementInCreatePlayer",e.INVALID_CONFIG_IN_CREATE_PLAYER="InvalidConfigInCreatePlayer",e.INVALID_CONFIG_IN_SET_SOURCE="InvalidConfigInSetSource",e.SHAKA_FAILED_TO_CREATE_CDM_6002="shaka.FAILED_TO_CREATE_CDM_6002",e.SHAKA_HTTP_ERROR_1002_LICENSE="shaka.HTTP_ERROR_1002_LICENSE",e.SHAKA_LICENSE_REQUEST_FAILED_6007="shaka.LICENSE_REQUEST_FAILED_6007",e.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006="shaka.FAILED_TO_GENERATE_LICENSE_REQUEST_6006",e.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001="shaka.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001",e.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003="shaka.FAILED_TO_ATTACH_TO_VIDEO_6003",e.SHAKA_LICENSE_RESPONSE_REJECTED_6008="shaka.LICENSE_RESPONSE_REJECTED_6008",e.SHAKA_INVALID_SERVER_CERTIFICATE_6004="shaka.INVALID_SERVER_CERTIFICATE_6004",e.SHAKA_EXPIRED_6014="shaka.EXPIRED_6014",e.SHAKA_BAD_HTTP_STATUS_1001_LICENSE="shaka.BAD_HTTP_STATUS_1001_LICENSE",e.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.LOAD_SKIN_ERROR="LOAD_SKIN_ERROR",e.INSERT_INTO_WITH_SECURE_FRAME="INSERT_INTO_WITH_SECURE_FRAME"}(r||(r={}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.onStateChange="onStateChange",e.onSeek="onSeek",e.onAdStateChange="onAdStateChange",e.onAdPodStart="onAdPodStart",e.onDurationChange="onDurationChange",e.onPositionChange="onPositionChange",e.onTimelineInfoChange="onTimelineInfoChange",e.onVolumeChange="onVolumeChange",e.onReady="onReady",e.onInitError="onInitError",e.onError="onError",e.onRecover="onRecover",e.onUserAction="onUserAction",e.onLogEvent="onLogEvent",e.onChangeStream="onChangeStream",e.onStreamsWithSupportInfoChange="onStreamsWithSupportInfoChange",e.onSkinReady="onSkinReady",e.onVideoTrackChange="onVideoTrackChange",e.onVideoTracksChange="onVideoTracksChange",e.onAudioTrackChange="onAudioTrackChange",e.onAudioTracksChange="onAudioTracksChange",e.onTextTrackChange="onTextTrackChange",e.onTextTracksChange="onTextTracksChange",e.onSubtitlesChange="onSubtitlesChange",e.onThumbnailTileGeneralMetaInfoChange="onThumbnailTileGeneralMetaInfoChange",e.onLogoWidgetActionCall="onLogoWidgetActionCall",e.onVideoTypeChange="onVideoTypeChange",e.onFullScreenChange="onFullScreenChange",e.onVideoSizeChange="onVideoSizeChange",e.onVideoReadyStateChange="onVideoReadyStateChange",e.onOriginalBroadcastAdStateChange="onOriginalBroadcastAdStateChange",e.onKeyEvent="onKeyEvent",e.onInit="onInit",e.onFeatureEvent="onFeatureEvent",e.onErrorScreenVisibilityChange="onErrorScreenVisibilityChange",e.onContentImpression="onContentImpression",e.onResourcesIdle="onResourcesIdle",e.onSetSourceRequest="onSetSourceRequest",e.onVisualStateChange="onVisualStateChange",e.onSaveDataOutsideIframe="onSaveDataOutsideIframe",e.onBufferingRangesChange="onBufferingRangesChange",e.onStartStageChange="onStartStageChange",e.onPlaybackRateChange="onPlaybackRateChange",e.onNextAdRemainingTimeChange="onNextAdRemainingTimeChange",e.onVideoClickerEvent="onVideoClickerEvent",e.onAdSDKVersionDefined="onAdSDKVersionDefined",e.onEngineChange="onEngineChange",e.onNetworkScoreChange="onNetworkScoreChange"}(r||(r={}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return s}));var i=n(45),a=n(105);const o=n(203);class s extends Error{constructor(e,t){const n="object"===typeof e?e:{message:String(e)};if(super(String(n.message)),this.message=void 0,this.messageDetails=void 0,this.code=void 0,this.category=void 0,this.isFatal=void 0,this.details=void 0,this.stack=void 0,this.vsid=void 0,o(this,s.prototype),this.message=n.message||this.message,this.messageDetails=n.messageDetails,this.code=n.code||0,this.category=n.category||Object(a.a)(n.code),this.details=n.details,this.isFatal=void 0===n.isFatal||n.isFatal,this.stack=n.stack&&"?:?:?"!==n.stack?n.stack:this.details&&this.details.stack||((e,t)=>{const{url:n,line:r,col:i,fileName:a,columnNumber:o,lineNumber:s}=e;return String(t||(n||a||"?")+":"+(r||s||"?")+":"+(i||o||"?"))})(n,this.stack),!this.stack||this.stack===i.a.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack||i.a.stack}this.vsid=t}toString(){return JSON.stringify(this.toJSON())}toJSON(){const e={message:this.message,messageDetails:this.messageDetails,code:this.code,category:this.category,isFatal:this.isFatal,details:this.details,stack:this.stack};return r({},e,{raw:JSON.stringify(e)})}}},function(e,t,n){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(r||(r={}))},function(e,t,n){"use strict";function r(e){return"number"===typeof e&&isFinite(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.preroll="preroll",e.midroll="midroll",e.overlay="overlay",e.postroll="postroll",e.notReplaced="notReplaced",e.inroll="inroll",e.externalInroll="externalInroll",e.inrollOverlay="inroll-overlay",e.intro="intro",e.jingle="jingle",e.overlaySelfPromo="overlaySelfPromo"}(r||(r={}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.DEFAULT="DEFAULT",e.MEDIA="MEDIA",e.NETWORK_MEDIA="NETWORK_MEDIA",e.NETWORK_PLAYER="NETWORK_PLAYER",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NO_CODECS="NO_CODECS",e.CANNOT_PLAY="CANNOT_PLAY",e.UNSUPPORTED_ENV="UNSUPPORTED_ENV",e.EXCEPTION="EXCEPTION",e.ADS="ADS",e.CONFIG="CONFIG",e.REGIONAL="REGIONAL",e.DRM="DRM",e.ACCESS="ACCESS"}(r||(r={}))},function(e,t,n){"use strict";function r(e){return"function"===typeof e||"Function"===Object(i.a)(e)}n.d(t,"a",(function(){return r}));var i=n(61)},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map(i),a="YA PLAYER: "+(new Date).toString()+" "+r.join(" ");return a}function i(e){return"object"===typeof e?JSON.stringify(e,Object.getOwnPropertyNames(e)):e}n.d(t,"a",(function(){return s}));var a=n(69);const o=[];class s{static enableConsole(){s.consoleEnabled=!0,s.log("YA PLAYER VERSION: 1.0-6125")}static log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.consoleEnabled&&console.log(r(...t)),s.addToHistory("log",t)}static warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.consoleEnabled&&console.warn(r(...t)),s.addToHistory("warn",t)}static error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.consoleEnabled&&console.error(r(...t)),s.addToHistory("error",t)}static getHistory(){return[...o]}static addToHistory(e,t){o.length>=150&&o.shift(),o.push("["+e+"]["+Date.now()+"] "+t.map(e=>{try{return Object(a.a)(e)}catch(e){return JSON.stringify(["stringify_error",e.stack])}}).join())}}s.consoleEnabled=void 0},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){E.href=e;let t=E.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const n=(E.search||"")+(E.hash||""),a=e.lastIndexOf(n),o=-1===a?e:e.slice(0,a);if(g.test(e)){const t=i(e.replace(g,"https:"));return E.href=e,r({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:E.href})}const s=E.protocol&&/^[a-z\-]+:/i.test(E.protocol)?E.protocol:"";return{originalPath:o,href:E.href,protocol:s,host:E.host,hostname:E.hostname,port:E.port,pathname:t,search:E.search,hash:E.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,n="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(n?"/":"")+e.search+e.hash}const n="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+n+e.pathname+e.search+e.hash}function o(e){const t={},n=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let e=0;e<n.length;e++){const r=n[e].indexOf("=");let i,a;if(-1===r?(i=m(n[e]),a=""):(i=m(n[e].slice(0,r)),a=n[e].slice(r+1)),i){const e=Boolean(/(\[\])$/.exec(i));i=i.replace(/\[\]$/,""),e?void 0===t[i]?t[i]=[m(a)]:t[i]=[].concat(t[i],m(a)):t[i]=m(a)}}return t}function s(e){return o(i(e).search)}function c(e){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];Object(p.a)(r)?t.push(y(n,r)):void 0!==r&&t.push(n+"="+encodeURIComponent(r))}return"?"+t.join("&")}function d(e,t,n){if(void 0===n)return e;const s=i(e),d=o(s.search);return d[t]=n,a(r({},s,{search:c(d)}))}function l(e,t,n){let{override:s=!0,saveOriginalPath:d=!1}=void 0===n?{}:n;const l=i(e),u=o(l.search);Object(v.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)});return a(r({},l,{search:c(u)}),d)}function u(e){return i(e).pathname.split("/").pop()||""}function h(e){const t=u(e).split(".");return t.length>1?t.pop():""}n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return h}));var p=n(89),f=n(177),v=n(32);const E=document.createElement("a"),g=(Object(f.a)(e=>r({},i(e))),/^(android-app:|chrome-extension:)/),m=e=>{try{return decodeURIComponent(e)}catch(t){return e}},y=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(r||(r={}))},function(e,t,n){"use strict";function r(e,t,n,r){const o=function(e){let t=!1,n=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),n=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:n,once:r}}(r),s=a.a?o:o.capture,c=o.once&&!a.b?function(e){d(),n.call(this,e)}:n,d=()=>{Object(i.b)(e,t,c,s)};return Object(i.a)(e,t,c,s),d}n.d(t,"a",(function(){return r}));var i=n(71),a=n(108)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.BroadcastAdReceived="BroadcastAdReceived",e.BroadcastAdInit="BroadcastAdInit",e.StreamPlayerReceivedMetadata="StreamPlayerReceivedMetadata",e.StreamPlayerChooseMetadata="StreamPlayerChooseMetadata",e.PlayWithoutRAAResults="PlayWithoutRAAResults",e.CanPlay="CanPlay",e.ContentImpression="ContentImpression",e.WaitForPlayCompleted="WaitForPlayCompleted",e.DrmSystemsSupportDetected="DrmSystemsSupportDetected",e.InrollAdStart="InrollAdStart",e.InrollAdPodStart="InrollAdPodStart",e.InrollAdPodEnd="InrollAdPodEnd",e.InrollAdEnd="InrollAdEnd",e.PlayAdViewers="PlayAdViewers",e.AdStart="AdStart",e.AdPodLoading="AdPodLoading",e.AdPodError="AdPodError",e.AdPodEnd="AdPodEnd",e.AdEnd="AdEnd",e.AdClickThru="AdClickThru",e.NoAdPodsToPlayAd="NoAdPodsToPlayAd",e.Stalled="Stalled",e.LoadSource="LoadSource",e.PrerollInit="PrerollInit",e.WaitForUserGesture="WaitForUserGesture",e.WaitForDocumentVisibility="WaitForDocumentVisibility",e.CallPublicApiAfterDestroy="CallPublicApiAfterDestroy",e.HiddenAutoplayPrevented="HiddenAutoplayPrevented",e.PlayVideoOnVisibilityChange="PlayVideoOnVisibilityChange",e.PauseVideoOnVisibilityChange="PauseVideoOnVisibilityChange",e.StreamStopWhileLoadingMultiroll="StreamStopWhileLoadingMultiroll",e.StreamStopWhileChoosingStream="StreamStopWhileChoosingStream",e.StreamStopWhileDestroyVideoController="StreamStopWhileDestroyVideoController",e.StreamStopDuringDefineAutoplaySettings="StreamStopDuringDefineAutoplaySettings",e.StreamStopWhileWaitingForPlay="StreamStopWhileWaitingForPlay",e.StreamStopWhileWaitingForDocumentVisibility="StreamStopWhileWaitingForDocumentVisibility",e.StreamStopWhileLoadingPreroll="StreamStopWhileLoadingPreroll",e.StreamStopWhilePreloadingPreroll="StreamStopWhilePreloadingPreroll",e.SkippableFragmentWidgetDrawn="SkippableFragmentWidgetDrawn",e.SkippableFragmentWidgetHidden="SkippableFragmentWidgetHidden",e.HlsJsLoadSourceCalledTwice="HlsJsLoadSourceCalledTwice",e.PreloadSource="PreloadSource",e.UsePreloadedHlsJs="UsePreloadedHlsJs",e.PlayAfterWaitingForDocumentVisibility="PlayAfterWaitingForDocumentVisibility",e.ResourcesIdle="ResourcesIdle",e.HlsJsForceCappingStart="HlsJsForceCappingStart",e.CanRenderSkinCalledBeforeSkinIsReady="CanRenderSkinCalledBeforeSkinIsReady",e.ExternalPlaybackOpenButtonClick="ExternalPlaybackOpenButtonClick",e.ExternalPlaybackCloseButtonClick="ExternalPlaybackCloseButtonClick",e.ExternalPlayerListVisibleStatusChange="ExternalPlayerListVisibleStatusChange",e.ExternalPlaybackPlayerCsrfFetching="ExternalPlaybackPlayerCsrfFetching",e.ExternalPlaybackPlayerCsrfFetchSuccess="ExternalPlaybackPlayerCsrfFetchSuccess",e.ExternalPlaybackPlayerCsrfFetchError="ExternalPlaybackPlayerCsrfFetchError",e.ExternalPlaybackPlayerListHasAnyDevice="ExternalPlaybackPlayerListHasAnyDevice",e.ExternalPlaybackPlayerListFetching="ExternalPlaybackPlayerListFetching",e.ExternalPlaybackPlayerListFetchSuccess="ExternalPlaybackPlayerListFetchSuccess",e.ExternalPlaybackPlayerListFetchError="ExternalPlaybackPlayerListFetchError",e.ExternalPlaybackPlayerListAboutInfoClick="ExternalPlaybackPlayerListAboutInfoClick",e.ExternalPlaybackPlayerListRefresh="ExternalPlaybackPlayerListRefresh",e.ExternalPlaybackPlayerActivate="ExternalPlaybackPlayerActivate",e.ExternalPlaybackPlayerActivateSucceed="ExternalPlaybackPlayerActivateSucceed",e.ExternalPlaybackPlayerActivateFailed="ExternalPlaybackPlayerActivateFailed",e.ExternalPlaybackCsrfTokenExpired="ExternalPlaybackCsrfTokenExpired",e.YandexRpcError="YandexRpcError",e.YandexAndroidVsidChanged="YandexAndroidVsidChanged",e.Seek="Seek",e.RecommendationsSetParams="RecommendationsSetParams",e.RecommendationSelect="RecommendationSelect",e.RecommendationsWidgetVisibilityChange="RecommendationsWidgetVisibilityChange",e.RepresentationsChange="RepresentationsChange",e.MediaInternalsHistoryOnFatal="MediaInternalsHistoryOnFatal",e.PlayInrollAd="PlayInrollAd",e.ShareButtonClick="ShareButtonClick"}(r||(r={}))},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(e){return""}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){e.forEach(e=>{Object(i.a)(e,t)})}n.d(t,"a",(function(){return a}));var i=n(124);class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.play="play",e.pause="pause",e.seek="seek",e.setSource="setSource",e.sendPosition="sendPosition",e.getPosition="getPosition",e.setVolume="setVolume",e.setMuted="setMuted",e.setFullscreen="setFullscreen",e.setPlaybackRate="setPlaybackRate",e.setVideoTrack="setVideoTrack",e.setAudioTrack="setAudioTrack",e.setTextTrack="setTextTrack",e.setNativeTextTrackVisibility="setNativeTextTrackVisibility",e.setHiddenControls="setHiddenControls",e.setVideoStyle="setVideoStyle",e.setPictureInPictureEnabled="setPictureInPictureEnabled",e.setExternalVisualState="setExternalVisualState",e.getExternalVisualState="getExternalVisualState",e.getConfig="getConfig",e.sendDebugInfo="sendDebugInfo",e.requestDebugInfo="requestDebugInfo",e.callFeatureAction="callFeatureAction",e.setTitleSettings="setTitleSettings",e.xhrRequest="xhrRequest",e.stopAd="stopAd",e.playInrollAd="playInrollAd",e.destroy="destroy",e.setLogoWidgetExpanded="setLogoWidgetExpanded",e.setLogoWidgetActionCompleted="setLogoWidgetActionCompleted",e.addPromoConfig="addPromoConfig"}(r||(r={}))},function(e,t,n){"use strict";function r(e){return"string"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStorage=t.CookieStorage=t.isSupported=t.storage=void 0;var i=r(n(259)),a=r(n(213)),o=r(n(261)),s=null;(0,i.default)("localStorage")?t.storage=s=window.localStorage:(0,i.default)("sessionStorage")?t.storage=s=window.sessionStorage:(0,i.default)("cookieStorage")?t.storage=s=new a.default:t.storage=s=new o.default,t.default=s,t.storage=s,t.isSupported=i.default,t.CookieStorage=a.default,t.MemoryStorage=o.default},function(e,t,n){"use strict";function r(e,t){try{return e()}catch(e){"function"===typeof t&&t(e)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){let t=function(){t=()=>n;const n=e.apply(this,arguments);return n};return function(){return t.apply(this,arguments)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const n in e)Object(i.a)(e,n)&&t.push(n);return t}}n.d(t,"a",(function(){return r}));var i=n(52)},function(e,t,n){"use strict";function r(e){if(!e)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){Object(o.a)(()=>{window.Ya.Rum.time(e)})}function a(e,t){void 0===t&&(t={}),Object(c.a)()&&Object(o.a)(()=>{const n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["additional"]);window.Ya.Rum.timeEnd(e,r({},n,{"-additional":Object(s.b)(t)}))})}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n(22),s=n(28),c=n(109)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(){return E||(!function(){try{v=encodeURIComponent(JSON.stringify(r({},p,f)))}catch(e){}}(),E=!0),v}function a(){return r({},p,f)}function o(){try{return JSON.parse(window.Ya.Rum._vars["-additional"])}catch(e){return{}}}function s(){try{return window.Ya.Rum.setVars({"-additional":JSON.stringify(p)})}catch(e){}}function c(){try{return window.Ya.Rum.updateErrors({additional:r({},p)})}catch(e){}}function d(e){return void 0===e||void 0===e.additional?i():encodeURIComponent(JSON.stringify(r({},p,f,e.additional)))}function l(e){p=r({},o(),e),s(),c(),E=!1}function u(e,t){p=r({},o(),{[e]:t}),s(),c(),E=!1}function h(e){f=e,E=!1}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return h}));let p={},f={},v="",E=!1},function(e,t,n){"use strict";function r(e){return s.indexOf(e)>-1}function i(e){return void 0===e&&(e=""),e.split(",").map(e=>e.trim()).filter(r)}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(25);let o;!function(e){e.ALL="*",e.PLAY="play",e.START_SCREEN_PLAY="startScreenPlay",e.VOLUME="sound",e.VOLUME_SLIDER="volumeSlider",e.SETTINGS="settings",e.SETTINGS_ITEM="settingsItem",e.FULLSCREEN="fullscreen",e.TIMELINE="timeline",e.TIMELINE_PREVIEW="timelinePreview",e.LIVE="live",e.POSTER="poster",e.START_POSITION_CONFIRM="startPositionConfirm",e.TIME_DISPLAY="time",e.TITLE_DISPLAY="title",e.SHARE="share",e.REPORT="report",e.FORWARD="forward",e.BACKWARD="backward",e.BRAND_LOGO_BUTTON="brandLogoButton",e.LOGO="logo",e.PRELOADER="preloader",e.CONTEXT_MENU="contextMenu",e.START_SCREEN="startScreen",e.PLAYBACK_RATE="playbackRate",e.DEEP_HD="deepHd",e.SKIPPABLE_FRAGMENTS="skippableFragments",e.XRAY="xray",e.EXTERNAL_PLAYBACK="externalPlayback",e.RECOMMENDATIONS="recommendations",e.NON_STOP="nonStop",e.CLOSE_BUTTON="closeButton",e.NEXT_AD_INFO="nextAdInfo",e.SUBTITLES_TOGGLE="subtitlesToggle",e.LOGO_WIDGET="logoWidget"}(o||(o={}));const s=Object(a.a)(o).map(e=>o[e])},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.init="init",e.waitForUserPlay="waitForUserPlay",e.waitForDocumentVisibility="waitForDocumentVisibility",e.starting="starting",e.started="started",e.broken="broken",e.destroyed="destroyed"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{static internalToPublic(e){return Math.round(100*e)}static publicToInternal(e){return e/100}}},function(e,t,n){"use strict";function r(e,t,n){for(const r in e)Object(i.a)(e,r)&&t.call(n,e[r],r,e)}n.d(t,"a",(function(){return r}));var i=n(52)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING"}(r||(r={}))},function(e,t,n){"use strict";let r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e.PLAYING=1]="PLAYING",e[e.NOT_PLAYING=2]="NOT_PLAYING"}(r||(r={})),function(e){e.INIT="INIT",e.SET_SOURCE="SET_SOURCE"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(44),n(168),n(90);var r=n(2),i=n(157);Object(i.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class a{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=r,this.destroyHandlers.forEach(e=>e(...t)),this.destroyHandlers.length=0)}getIsDestroyed(){return this._isDestroyed}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let n=e;return function(){t.isDestroyed&&(n=r.a);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];n.apply(t,i)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}},function(e,t,n){"use strict";function r(e){const t=e;return t.Ya||(t.Ya={}),t.Ya.streamPlayer||(t.Ya.streamPlayer={}),t.Ya.streamPlayer}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const i=r(window)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e[e.XS=340]="XS",e[e.S=440]="S",e[e.M=980]="M",e[e.L=1e5]="L"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=t.call(n,e[i],i,e);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(91);const i=Object(r.a)()},function(e,t,n){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):Object(i.a)(e).map(t=>[t,e[t]])}n.d(t,"a",(function(){return r}));var i=n(25)},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o,s,c,d=r(t),l=r(n);if(d&&l){if((s=t.length)!=n.length)return!1;for(o=s;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(d!=l)return!1;var u=t instanceof Date,h=n instanceof Date;if(u!=h)return!1;if(u&&h)return t.getTime()==n.getTime();var p=t instanceof RegExp,f=n instanceof RegExp;if(p!=f)return!1;if(p&&f)return t.toString()==n.toString();var v=i(t);if((s=v.length)!==i(n).length)return!1;for(o=s;0!==o--;)if(!a.call(n,v[o]))return!1;for(o=s;0!==o--;)if(!e(t[c=v[o]],n[c]))return!1;return!0}return t!==t&&n!==n}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(142),i=n(69),a=n(45);const o=n(258);class s extends Error{constructor(e,t){void 0===t&&(t={});const n="object"===typeof e?e:{message:String(e||a.a.message)};super(),o(this,s.prototype),this.message=t.message||n.message||a.a.message,this.code=t.code||n.code||n.id||a.a.code,this.isFatal=Boolean(function(e){const[t]=Object(r.a)(e,e=>void 0!==e);return t}([t.isFatal,n.isFatal,a.a.isFatal])),this.details=t.details||n.details||a.a.details;const c=t.stack||n.stack||function(e){const{url:t,line:n,col:r,fileName:i,columnNumber:a,lineNumber:o}=e;return(t||i||"?")+":"+(n||o||"?")+":"+(r||a||"?")}(n);let d=c===a.a.stack?this.stack:c;if(d&&d!==a.a.stack)this.stack=d;else if(!this.stack)try{throw new Error(this.message)}catch(e){this.stack=d=e.stack||a.a.stack}this.toString=()=>Object(i.a)(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:d})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!0);const n=Object(i.a)(e);if(!n)return t;return!e[n]}n.d(t,"a",(function(){return r}));var i=n(143)},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.event="event",e.error="error",e.fatal="fatal",e.deprecated="deprecated",e.warning="warning",e.value="value",e.values="values"}(r||(r={}))},function(e,t,n){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(68);const i=Object(r.a)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(18),i=n(124);class a extends r.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(n=>{e(n)&&Object(i.a)(t,n)})}subscribeValueConditionOnce(e,t){const n=this.subscribeValueCondition(e,e=>{n(),Object(i.a)(t,e)});return n}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.AdCompleted="AdCompleted",e.LoadSource="LoadSource",e.PlayerDestroy="PlayerDestroy",e.CutOff="CutOff",e.PlayerError="PlayerError",e.AdTypeChange="AdTypeChange",e.InsertIntoCalled="InsertIntoCalled",e.PlayInrollAd="PlayInrollAd"}(r||(r={}))},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(7),i=n(0),a=n(56),o=n(226),s=n(78),c=n(162),d=n(235),l=n(95),u=n(242),h=n(243),p=n(145),f=n(30),v=n(59);let E;!function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(E||(E={}));var g=n(64);const m={autoplay:c.a,initialAutoplay:c.a,allowMuted:o.a,requireUserGestureToUnmute:!1,autoplayImpossible:!1,startStage:f.a.init,preload:c.b,from:void 0,encoderAttached:!1,vsid:p.a,streams:[],stream:void 0,sourceParams:void 0,sourceId:0,volume:1,muted:!1,wasVolumeChanged:!1,userVolume:NaN,duration:Object(i.j)(NaN),currentTime:d.a,currentTimeLowGranularity:d.a,watchedTime:Object(i.j)(0),startPosition:{},programDateTime:void 0,fragmentDuration:l.a,dvrStartTime:Object(i.j)(0),dvrDuration:Object(i.j)(NaN),videoType:void 0,playingState:r.a.PAUSE,bufferingRanges:[],preview:s.a,isFullscreen:!1,isPip:!1,isVisible:void 0,pausedCauseVisibilityChange:!0,togglePlaybackOnVisibilityChangeSetting:void 0,errorInfo:{},lastRecoverPosition:void 0,isOnline:!0,netParams:h.a,isDocumentVisible:!0,lastKnownBandwidthEstimate:Object(i.e)(NaN),videoTagReadyState:E.HAVE_NOTHING,isAbrSupported:!1,isAbrEnabled:!1,videoTrackValue:void 0,videoTracks:[],userVideoTrackName:void 0,userVideoTrackHeight:void 0,audioTrackValue:void 0,audioTracks:[],userAudioTrackName:void 0,userAudioTrackLang:void 0,textTrackEnabled:!1,nativeTextTrackVisible:void 0,textTrackValue:void 0,textTracks:[],userTextTrackEnabled:void 0,userTextTrackLang:void 0,userTextTrackName:void 0,subtitles:[],playbackRate:a.a,expectedStalled:Object(g.a)(v.a.Init,void 0),liveOffset:u.a,featuresParams:{},featuresEnabled:[],tileMetaInfo:void 0,videoWidth:Object(i.i)(0),videoHeight:Object(i.i)(0),initTime:Object(i.j)(0),videoInfo:{},networkScore:void 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"HARDCODED_ADSDK_URL",(function(){return i})),n.d(t,"MODERN_BUNDLE_FORCED_MODE",(function(){return a})),n.d(t,"NATIVE_UI_MODE",(function(){return o})),n.d(t,"AD_SESSION_ID_LAST_UTC_TIMESTAMP",(function(){return s})),n.d(t,"AD_SESSION_ID_LAST_ADSID",(function(){return c})),n.d(t,"AD_SESSION_ID_LAST_SERVICE_NAME",(function(){return d})),n.d(t,"AD_SESSION_ID_LAST_AD_SESSION_WATCHED_TIME",(function(){return l}));const r="videoplayer",i=r+"-adsdk-url",a=r+"-modern-bundle-forced-mode",o=r+"-native-ui-mode",s=r+"-ad-session-id-last-utc-timestamp",c=r+"-ad-session-id-last-adsid",d=r+"-ad-session-id-last-service-name",l=r+"-ad-session-id-last-ad-session-watched-time"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(23);const i=!Object(r.a)(Math.random)||Math.random()===Math.random();var a=n(172);let o=Date.now()*Object(a.a)()%2147483647;const s=i?function(){return o=16807*o%2147483647,(o-1)/2147483646}:function(){return Math.random()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=1},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));const r="modern",i="https://yastatic.net/yandex-video-player-iframe-api-bundles/1.0-6125/js/skin-loader.js",a="https://yastatic.net/yandex-video-player-iframe-api-bundles/hlsjs/0.12.2-1761-1846-1976_tmp-2080-2095-2146-2171-2-2172-2232_tmp-2427-2498/hls.min.js",o="https://yastatic.net/yandex-video-player-iframe-api-bundles/shaka/2.5.17-yandex-patched-custom-build/shaka-player.compiled.js",s="https://yastatic.net/yandex-video-player-iframe-api/is-android-player-supported/is-yandex-player-supported.js",c="https://yastatic.net/react/16.8.4/react-with-dom.min.js";"undefined"===typeof WEBPACK_IS_CI||WEBPACK_IS_CI},function(e,t,n){"use strict";function r(e){return e.supported&&void 0!==e.engine}function i(e){return!e.supported&&void 0!==e.noSupportReason}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return i}));var a=n(72);const o={supported:!1,noSupportReason:a.a.NO_MSE},s={supported:!1,noSupportReason:a.a.NO_CODECS},c={supported:!1,noSupportReason:a.a.NO_SUPPORTED_DRM},d={supported:!1,noSupportReason:a.a.NO_SUPPORTED_FORMAT}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.Init="Init",e.SetSource="SetSource",e.AdEnd="AdEnd",e.Seek="Seek",e.VideoTrackChange="VideoTrackChange",e.Recover="Recover",e.MediaError="MediaError",e.Offline="Offline",e.Other="Other",e.RepresentationsChange="RepresentationsChange"}(r||(r={}))},function(e,t,n){"use strict";function r(e){const t=[...e],n=t.pop();if(!n||0===t.length)throw new Error("memoizeSingle need at least 2 functions as arg");return{preparers:t,resolver:n}}function i(e){return Object(p.a)(e.className)?e.className:e.namespaceURI===v.svg&&e.getAttribute("class")||""}function a(e,t){Object(p.a)(e.className)?e.className=t:e.namespaceURI===v.svg&&e.setAttributeNS("","class",t)}function o(e){Object(p.a)(e.className)?e.className="":e.namespaceURI===v.svg&&e.setAttributeNS("","class","")}function s(e,t){void 0===t&&(t=""),0!==e.className.length?m(e)?T(e,t):function(e,t){let n=i(e).split(" ").concat(t.split(" "));n=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=n;return Object(l.a)(t)}(Object(c.a)(n,(function(e){return""!==e}))),a(e,n.join(" "))}(e,t):e.className=t}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return b}));var c=n(142),d=n(174),l=n(25);const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const{resolver:i,preparers:a}=r(t);let o,s=null,c=null;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(s&&s.every((e,n)=>t[n]===e))return o;const r=a.map(e=>e(...t));if(c&&c.every((e,t)=>r[t]===e))return s=t,o;const d=i(...r);return s=t,c=r,o=d,d}};var h=n(23),p=n(20),f=n(32);const v={xml:"http://www.w3.org/XML/1998/namespace",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},E={};Object(f.a)({xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type"},(function(e,t){const n=e.split(":"),r=v[n[0]];r&&(E[t]=r)}));const g="classList"in document.documentElement,m=u(e=>e.classList&&e.classList.add,h.a),y=u(e=>e.classList&&e.classList.remove,h.a),A=(u(e=>e.classList&&e.classList.toggle,h.a),(()=>{const e=document.createElement("p");return!!g&&(e.classList.add("c1","c2"),!!e.classList.contains("c2")&&(e.classList.toggle("c3",!1),!e.classList.contains("c3")))})()),S=((()=>{const e=document.createElement("p");!!g&&(e.classList.toggle("a",!1),e.classList.contains("a"))})(),e=>e.split(" ").filter(e=>Boolean(e))),T=A?(e,t)=>{const n=S(t);e.classList.add(...n)}:(e,t)=>{const n=S(t);for(let t=0;t<n.length;t++)e.classList.add(n[t])},b=function(e,t){return void 0===t&&(t=""),y(e)?O(e,t):function(e,t){const n=i(e).split(" "),r=t.split(" "),o=[];for(let e=0;e<n.length;e++)n[e]&&-1===Object(d.a)(r,n[e])&&o.push(n[e]);a(e,o.join(" "))}(e,t)},O=A?(e,t)=>{const n=S(t);e.classList.remove(...n)}:(e,t)=>{const n=S(t);for(let t=0;t<n.length;t++)e.classList.remove(n[t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r={}.toString,i=/\[object (\w+)\]/,a=e=>{const t=r.call(e);if(!t)return null;const n=t.match(i);if(!n)return null;const a=n[1];return a||null}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=["","webkit","moz","o","ms"],i=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));const r=1e3,i=60,a=60*i},function(e,t,n){"use strict";function r(e,t){return{reason:e,details:t,getElapsedTime:Object(i.a)()}}n.d(t,"a",(function(){return r}));var i=n(77)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{try{const{left:t,right:n,top:r,bottom:i}=e.getBoundingClientRect();return{left:t,right:n,top:r,bottom:i,width:n-t,height:i-r}}catch(e){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(39),i=n(152),a=n(125);class o{static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)}static isSafariDesktop(){return i.a&&!r.a}static setDeviceType(e){this.deviceType=e}static isSmartTV(){return"SMART_TV"===this.deviceType||/Smart.?TV/i.test(navigator.userAgent)}static canPlayHlsOnNative(){return this.isSmartTV()||a.a}}o.deviceType=void 0},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(48);const i=e=>{const t=[];for(;e;)try{if(Object(r.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(e){break}return t}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const{userAgent:t=""}=e.navigator,n=/Android/.test(t),r=Object(i.a)(e),a=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return n&&!r||a}n.d(t,"a",(function(){return r}));var i=n(178)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=window),void 0===l&&(l=function(e){void 0===e&&(e=window);return e.JSON&&Object(d.a)(e.JSON.stringify)&&Object(d.a)(e.JSON.parse)}(e)?e.JSON:{stringify:h("stringify"),parse:h("parse")}),l}function i(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(n,r)=>{if(void 0!==e)try{e.set(n,r)}catch(e){t.push({path:r,value:n})}else t.push({path:r,value:n})},get:n=>{const r=Object(a.a)(t,e=>e.value===n);return void 0!==e&&void 0===r?e.get(n):r?r.path:void 0}}}();return(n,r)=>{if(Object(o.a)(r))return Object(f.a)(r.name)?r.name:"[Function]";if(!Object(p.a)(r))return r;const i=t.get(r);if(i)return"[Circular "+i+"]";for(;e.length>0&&e[e.length-1].value[n]!==r;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:a,value:r}),t.set(r,a),r}}())}n.d(t,"a",(function(){return i}));var a=n(169),o=n(11),s=n(170),c=n(40),d=n(23);let l;const u=function(e){void 0===e&&(e=document.body);const t=Object(s.a)(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",Object(c.a)(e)}(t)}},h=e=>t=>{const{JSON:n,clean:r}=u();try{return n[e](t)}finally{r()}};var p=n(6),f=n(20)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){const t=f[e];if(t)return t;p.href=e;let n=p.pathname||"";"/"!==n.charAt(0)&&(n="/"+n);const i={href:p.href,protocol:p.protocol,host:p.host,hostname:p.hostname,port:p.port,pathname:n,search:p.search,hash:p.hash,baseDomain:(p.hostname||"").split(".").slice(-2).join(".")};return f[e]=i,r({},i)}function a(e,t,n){if(void 0===t)return e;{if(void 0===n)return e;const r=encodeURIComponent(t)+"="+encodeURIComponent(n);return p.href=e,p.search=p.search?p.search+"&"+r:"?"+r,p.href}}function o(e,t){p.href=e;return((p.hash||"").slice(1).split("&").map(e=>e.split("=")).map(e=>{let[t,n]=e;return[t,void 0===n?"":n]}).find(e=>{let[n]=e;return n===t})||[])[1]}function s(e,t,n){if(void 0===t)return e;{if(void 0===n)return e;const r=encodeURIComponent(t)+"="+encodeURIComponent(n);return p.href=e,p.hash=p.hash?p.hash+"&"+r:"#"+r,p.href}}function c(e,t,n){return e=function(e,t){if(-1===e.indexOf("#"))return e;p.href=e;const n=u(p.hash.slice(1),t);return p.hash=n?"#"+n:"",p.href}(e,t),void 0===n?e:s(e,t,n)}function d(e,t,n){void 0===n&&(n={});for(const n in t)t.hasOwnProperty(n)&&(e=a(e,n,t[n]));for(const t in n)n.hasOwnProperty(t)&&(e=s(e,t,n[t]));return e}function l(e,t){if(-1===e.indexOf("?"))return e;p.href=e;const n=u(p.search.slice(1),t);return p.search=n?"?"+n:"",p.href}function u(e,t){return e.split("&").filter(e=>e!==t&&0!==e.indexOf(t+"=")).join("&")}function h(e,t){return-1===e.indexOf("?")?e:t.reduce(l,e)}n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return h}));const p=document.createElement("a"),f={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(96);let i=function(e,t,n){e.attachEvent("on"+t,n)},a=function(e,t,n){e.detachEvent("on"+t,n)};Object(r.a)(document,"addEventListener")&&Object(r.a)(document,"removeEventListener")&&(i=function(e,t,n,i){const a=e&&Object(r.a)(e,"addEventListener");a&&a.call(e,t,n,i)},a=function(e,t,n,i){const a=e&&Object(r.a)(e,"removeEventListener");a&&a.call(e,t,n,i)})},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.NO_MSE="NO_MSE",e.NO_CODECS="NO_CODECS",e.NO_SUPPORTED_DRM="NO_SUPPORTED_DRM",e.NO_SUPPORTED_FORMAT="NO_SUPPORTED_FORMAT"}(r||(r={}))},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.USER_VOLUME="yandexJSPlayerApiSavedUserAdjustedVolume",e.VOLUME="yandexJSPlayerApiSavedUserVolume",e.MUTED="yandexJSPlayerApiSavedUserMuted",e.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD="yandexJSPlayerApiSavedSingleVideoSessionWatchedTimeSinceAd",e.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD_UTC_TIMESTAMP="yandexJSPlayerApiSavedSingleVideoSessionWatchedTimeSinceAdUtcTimestamp"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=n(211),i=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Object(i.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...n)})}n.d(t,"a",(function(){return r}));var i=n(89)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(44),i=n(20),a=n(22),o=n(105);class s extends r.a{constructor(e,t){super(e,t),this.category=void 0,this.toJSON=void 0;const n=t&&t.category,r=t&&t.code;n?this.category=n:e.category&&!r?this.category=e.category:this.category=Object(o.a)(r||e.code),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:Object(a.a)(()=>Object(i.a)(this.details)?this.details:JSON.stringify(this.details))||this.details,stack:this.stack,category:this.category})}}},function(e,t,n){"use strict";function r(e){void 0===e&&(e=i.a);const t=e();return()=>Math.max(0,e()-t)}n.d(t,"a",(function(){return r}));var i=n(172)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(93).a?"":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";function r(e){let{src:t,checkLoad:n,onLoad:r=d.a,onBeforeLoad:i=d.a,withCredentials:a=!1}=e;return v[t]||(v[t]=Object(l.a)({checkLoad:n,src:t,retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{a||(e.crossOrigin="anonymous"),i()}}).then(r),v[t].catch(()=>delete v[t])),v[t]}function i(){let e=!1;return r({src:p.c,checkLoad:()=>"undefined"!==typeof Hls,onBeforeLoad:()=>{e=!0,Object(h.b)("lib.hlsjs")},onLoad:()=>{e&&Object(h.a)("lib.hlsjs")}})}function a(){let e=!1;return r({src:p.e,checkLoad:()=>"undefined"!==typeof shaka,onBeforeLoad:()=>{e=!0,Object(h.b)("lib.shaka")},onLoad:()=>{e&&Object(h.a)("lib.shaka")}}).then(()=>shaka.polyfill.installAll())}function o(){let e=!1;return r({src:"./js/avplay_proxy_controller.js",checkLoad:()=>void 0!==f.b.avplayProxyController,onBeforeLoad:()=>{e=!0,Object(h.b)("int.avplay")},onLoad:()=>{e&&Object(h.a)("int.avplay")}})}function s(){let e=!1;return r({src:u.a,checkLoad:()=>void 0!==f.b.webOSController,onBeforeLoad:()=>{e=!0,Object(h.b)("int.webos")},onLoad:()=>{e&&Object(h.a)("int.webos")}})}function c(){let e=!1;return r({src:"./js/orsay_video_element.js",checkLoad:()=>void 0!==f.b.orsayVideoElement,onBeforeLoad:()=>{e=!0,Object(h.b)("int.orsay")},onLoad:()=>{e&&Object(h.a)("int.orsay")}})}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c}));var d=n(2),l=(n(32),n(116));var u=n(163),h=n(27),p=n(57),f=n(36);const v={}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.Unknown="Unknown",e.ExternalApi="ExternalApi",e.VisiblePlayback="VisiblePlayback",e.RestoreAfterInsertInto="RestoreAfterInsertInto",e.WaitForSourceConfigUpdate="WaitForSourceConfigUpdate"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(136);const i=-1===r.b.indexOf(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=document.createElement("video")},function(e,t,n){"use strict";function r(e){e&&"function"===typeof e.catch&&e.catch(e=>{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){const n=e.style;for(const e in t)if(t.hasOwnProperty(e)){n[u(e)]=t[e]}}n.d(t,"a",(function(){return r}));var i=n(20);let a;const o=(void 0===(s=window)&&(s=window),a||(a=s.document.createElement("div")),a);var s;const c=(e,t)=>{const n="undefined"!==typeof o.style[e];if(n&&t&&Object(i.a)(t))try{o.style.cssText=e+": "+t+";";const n=Boolean(o.style.cssText);return o.style.cssText="",n}catch(e){return!1}return n};var d=n(62);const l={},u=function(e){return void 0===e&&(e=""),l[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let n=0;n<d.b.length;n++){const r=d.b[n],i=r?""+r+t:e;if(c(i))return l[e]=i}return l[e]=e}(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(20),i=n(151);var a=n(185);const o=e=>{try{const t=Object(r.a)(e)?Object(a.a)(e):e;return"number"===typeof t&&t>=1410}catch(e){return!1}},s=o("1.0-6125"),c=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(e){}return!1})(e)&&Object(i.a)(e))(window)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.OFFLINE="offline",e.IDLE="idle",e.ATTEMPT="attempt",e.PLAYING="playing",e.ERROR="error"}(r||(r={}))},function(e,t,n){"use strict";let r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.FULL="stream_player_js.full",e.DEFAULT="stream_player_js",e.NATIVE_UI="stream_player_js.native_ui",e.KINOPOISK="stream_player_js.kinopoisk"}(r||(r={})),function(e){e.FULL="stream_player_js.full.modern",e.DEFAULT="stream_player_js.modern",e.NATIVE_UI="stream_player_js.native_ui.modern",e.KINOPOISK="stream_player_js.kinopoisk.modern"}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(61),i=n(96);const a=Object(i.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(r.a)(e)},function(e,t,n){"use strict";function r(e){let t="";for(let n=0;n<e;n++)t+=(16*Object(i.a)()|0).toString(16);return t}n.d(t,"a",(function(){return r}));var i=n(55)},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!Object(i.a)(e)}n.d(t,"a",(function(){return r}));var i=n(148)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(0);const i=1,a=Object(r.j)(10)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(97),i=n(91),a=n(149);const o=(void 0===s&&(s=window),Object(a.a)(s)||Object(i.a)(s)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&Object(r.a)(e)}(s));var s},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.TestFeature="TestFeature",e.NativeUI="NativeUI",e.SkippableFragments="SkippableFragments",e.Xray="Xray",e.NonStop="NonStop",e.Recommendations="Recommendations",e.CloseButton="CloseButton"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.k)(Object(r.j)(5))},function(e,t,n){"use strict";function r(e,t){let n=e[t];if(!Object(i.a)(n)){const r=n;try{delete e[t];const i=e[t];"function"===typeof i&&(n=i),e[t]=r}catch(e){}}return n}n.d(t,"a",(function(){return r}));var i=n(23)},function(e,t,n){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:n,maxTouchPoints:r}=t;return n||r||0}(e)>0&&!Object(o.a)(e)}function i(e,t){if(!Object(c.a)(e.matchMedia))return!1;const n=e.matchMedia(t);return Object(d.a)(n)&&Boolean(n.matches)}function a(e){return void 0===e&&(e=window),r(e)||function(e){return i(e,u)}(e)||function(e){return i(e,h)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}n.d(t,"a",(function(){return a}));var o=n(130),s=n(38),c=n(11),d=n(6),l=n(62);const u=Object(s.a)(l.a,e=>"("+e+"any-pointer:coarse)").join(","),h=Object(s.a)(l.a,e=>"("+e+"touch-enabled)").join(",")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(144),i=n(145);const a={from:r.a,reqid:void 0,hash:void 0,vsid:i.a,adsid:void 0}},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.SetMuted="SetMuted",e.SetVolume="SetVolume",e.RequestAutoplaySettings="RequestAutoplaySettings",e.VolumeChangeEvent="VolumeChangeEvent",e.RestoreSavedMuted="RestoreSavedMuted"}(r||(r={}))},,function(e,t,n){"use strict";function r(){const[e]=function(e){void 0===e&&(e=window);const t=Object(c.a)(e).match(u);if(t)return t[1].split(".").map(e=>parseInt(e,10))}()||[],t=void 0!==e&&e<11,n=l.a||d||t,r=a.a<5;return n||r}function i(){return s.a||o.a&&r()}n.d(t,"a",(function(){return i}));var a=n(159),o=n(49),s=n(121),c=n(17);const d=function(e){void 0===e&&(e=window);const t=Object(c.a)(e).toLowerCase();return-1!==t.indexOf("huaweibrowser")||-1!==t.indexOf("cmsurfclient")}(window);var l=n(191);const u=/XiaoMi\/MiuiBrowser\/([\d\.]+)/i},function(e,t,n){"use strict";function r(e){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){let t="",n="";if(e){Object(i.a)(e).reverse().forEach(e=>{let{location:r,referrer:i}=e;t=t||r,n=n||i})}return{location:t,referrer:n}}n.d(t,"a",(function(){return r}));var i=n(150)},function(e,t,n){"use strict";function r(){return Object(i.j)(Date.now()/1e3)}n.d(t,"a",(function(){return r}));var i=n(0)},function(e,t,n){"use strict";function r(e){if(void 0===e)return a.a.DEFAULT;const t=function(e){switch(e){case o.a.DEFAULT_ERROR:return a.a.DEFAULT;case o.a.BROADCAST_AD_BLOCK_INIT_ERROR:case o.a.AD_LOADER_INIT_ERROR:case o.a.AD_TYPE_IS_NOT_RECOGNIZED:case o.a.AD_IS_ALREADY_PLAYING:case o.a.AD_CANNOT_FIND_CONTAINER_TO_PLAY:case o.a.MULTIROLL_INIT_ERROR:case o.a.PREROLL_ERROR:case o.a.PLAY_AD_VIEWERS_ERROR:return a.a.ADS;case o.a.INVALID_METADATA:case o.a.INVALID_STREAM_URL:case o.a.UNEXPECTED_FEATURE_NAME:case o.a.UNEXPECTED_FEATURE_ACTION_NAME:case o.a.NO_PARAMS_IN_FEATURE_ACTION:case o.a.REQUIRED_FEATURE_IS_NOT_IN_BUNDLE:case o.a.NO_STREAMS:return a.a.CONFIG;case o.a.YANDEX_RPC_ERROR:case o.a.PUBLIC_API_CALL_ERROR:case o.a.ON_TICK_ERROR:case o.a.SAGA_ERROR:case o.a.SHAKA_FILTER_ERROR:case o.a.SHAKA_CONFIGURE_ERROR:case o.a.REFRESH_SUBTITLES_ERROR:case o.a.NO_HLS_JS_INSTANCE:case o.a.RAA_TAKING_2SEC:case o.a.RAA_TAKING_10SEC:case o.a.REACT_COMPONENT_DID_CATCH_ERROR_INFO:case o.a.FEATURE_ACTION_DISPATCH_ERROR:case o.a.TANKER_KEY_ERROR:case o.a.RECOVER_TASK_ERROR:case o.a.PRELOAD_SOURCE_FAILED:case o.a.CANNOT_SELECT_TRACK:case o.a.MEDIA_ERR_ABORTED:return a.a.EXCEPTION;case o.a.UNSUPPORTED_MEDIA_TYPE:case o.a.MPD_NOT_SUPPORTED_ERROR:case o.a.NATIVE_HLS_NOT_SUPPORTED_ERROR:case o.a.HLS_JS_NOT_SUPPORTED_ERROR:case o.a.HLS_JS_INVALID_MANIFEST_URL:case o.a.MEDIA_ERR_SRC_NOT_SUPPORTED:case o.a.MEDIA_ERR_DECODE:case o.a.MEDIA_ERR_CUSTOM:return a.a.MEDIA;case o.a.HLS_CONTROLLER_SCRIPT_LOAD_ERROR:case o.a.MPD_CONTROLLER_SCRIPT_LOAD_ERROR:case o.a.MP4_CONTROLLER_SCRIPT_LOAD_ERROR:case o.a.YANDEX_CONTROLLER_SCRIPT_LOAD_ERROR:case o.a.SCRIPT_INIT_ERROR:case o.a.MPD_SHAKA_INIT_ERROR:case o.a.META_INFO_REQUEST_FAILED:case o.a.STRM_ABD_INVALID_RESPONSE:case o.a.WEBOS_SERVICE_REQUEST_ERROR:case o.a.XRAY_REQUEST_BOXES_ERROR:case o.a.XRAY_SEND_FEEDBACK_ERROR:return a.a.NETWORK_PLAYER;case o.a.MEDIA_ERR_NETWORK:return a.a.NETWORK_MEDIA;case o.a.MPD_WIDEVINE_CERT_LOAD_ERROR:case o.a.FAIRPLAY_CERT_LOAD_ERROR:case o.a.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR:case o.a.FAIRPLAY_CREATE_KEY_SESSION_ERROR:case o.a.FAIRPLAY_SPC_LOAD_ERROR:case o.a.FAIRPLAY_CREATE_KEY_ERROR:case o.a.FAIRPLAY_INVALID_CONTENT_ID:case o.a.DRM_PROXY_ERROR:case o.a.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:case o.a.DRM_TYPE_NOT_SUPPORTED:case o.a.MISSING_WEBOS_DRM_CLIENT_ID:case o.a.UNEXPECTED_WEBOS_DRM_ERROR:case o.a.MEDIA_ERR_ENCRYPTED:case o.a.FAIRPLAY_NOT_SUPPORTED:case o.a.NO_DRM:return a.a.DRM;case o.a.REGIONAL_LIMITATION_MANIFEST:case o.a.REGIONAL_LIMITATION_LEVEL:case o.a.REGIONAL_LIMITATION_SEGMENT:return a.a.REGIONAL;case o.a.SIGNATURE_EXPIRED_MANIFEST:case o.a.SIGNATURE_EXPIRED_LEVEL:case o.a.SIGNATURE_EXPIRED_SEGMENT:return a.a.ACCESS;case o.a.NO_CODECS:return a.a.NO_CODECS;case o.a.NO_PLAYABLE_STREAMS:return a.a.CANNOT_PLAY;case o.a.NO_MSE:return a.a.UNSUPPORTED_ENV;default:Object(i.a)(e)}return a.a.DEFAULT}(e);if(t!==a.a.DEFAULT)return t;const n=e;switch(n){case s.a.BUFFER_FULL_ERROR:case s.a.BUFFER_NUDGE_ON_STALL:case s.a.BUFFER_STALLED_ERROR:case s.a.SHAKA_VIDEO_ERROR_3016:case s.a.FRAG_PARSING_ERROR:case s.a.BUFFER_SEEK_OVER_HOLE:case s.a.BUFFER_APPENDING_ERROR:case s.a.PIPELINE_ERROR_DECODE:case s.a.DECODER_ERROR_NOT_SUPPORTED:case s.a.BUFFER_APPEND_ERROR:case s.a.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015:case s.a.MEDIA_ELEMENT_ERROR_FORMAT_ERROR:case s.a.REMUX_ALLOC_ERROR:case s.a.BUFFER_ADD_CODEC_ERROR:case s.a.DEMUXER_ERROR_COULD_NOT_OPEN:case s.a.NS_ERROR_DOM_INVALID_STATE_ERR:case s.a.SHAKA_DASH_INVALID_XML_4001:case s.a.SHAKA_QUOTA_EXCEEDED_ERROR_3017:case s.a.CHUNK_DEMUXER_ERROR_APPEND_FAILED:case s.a.FAILED_TO_INIT_DECODER:case s.a.PIPELINE_ERROR_INITIALIZATION_FAILED:case s.a.NS_ERROR_FAILURE:case s.a.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014:case s.a.REQUEST_FAILED:case s.a.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED:case s.a.PIPELINE_ERROR_COULD_NOT_RENDER:case s.a.NS_ERROR_DOM_MEDIA_METADATA_ERR:case s.a.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE:case s.a.NS_ERROR_DOM_MEDIA_FATAL_ERR:case s.a.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012:case s.a.MANIFEST_PARSING_ERROR:return a.a.MEDIA;case s.a.FRAG_LOAD_ERROR:case s.a.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST:case s.a.SHAKA_HTTP_ERROR_1002_SEGMENT:case s.a.MANIFEST_LOAD_ERROR:case s.a.LEVEL_LOAD_ERROR:case s.a.SHAKA_HTTP_ERROR_1002_MANIFEST:case s.a.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT:case s.a.SHAKA_UNSUPPORTED_SCHEME_1000:case s.a.AUDIO_TRACK_LOAD_ERROR:return a.a.NETWORK_MEDIA;case s.a.SHAKA_TIMEOUT_1003_SEGMENT:case s.a.FRAG_LOAD_TIME_OUT:case s.a.MANIFEST_LOAD_TIME_OUT:case s.a.LEVEL_LOAD_TIME_OUT:case s.a.SHAKA_TIMEOUT_1003_MANIFEST:case s.a.SHAKA_TIMEOUT_1003_LICENSE:case s.a.AUDIO_TRACK_LOAD_TIME_OUT:return a.a.NETWORK_TIMEOUT;case s.a.INTERNAL_EXCEPTION:case s.a.SHAKA_OPERATION_ABORTED_7001:case s.a.ON_PLAYER_INIT_ERROR_INTERNAL:case s.a.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case s.a.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case s.a.LOAD_SKIN_ERROR:case s.a.INSERT_INTO_WITH_SECURE_FRAME:return a.a.EXCEPTION;case s.a.UNABLE_TO_LOAD_PLAYER_IFRAME:case s.a.ON_PLAYER_INIT_ERROR:case s.a.LOADER_INIT_ERROR:case s.a.XRAY_REQUEST_BOXES_ERROR:case s.a.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT:case s.a.FAILED_TO_DOWNLOAD_DEBUG_INFO:case s.a.SHAKA_REQUEST_FILTER_ERROR_1006:return a.a.NETWORK_PLAYER;case s.a.PLAYER_CONTAINER_NOT_FOUND:case s.a.KEY_LOAD_ERROR:case s.a.FEATURE_HANDLER_ERROR:case s.a.SHAKA_NO_LICENSE_SERVER_GIVEN_6012:case s.a.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER:case s.a.INVALID_CONFIG_IN_CREATE_PLAYER:case s.a.INVALID_CONFIG_IN_SET_SOURCE:return a.a.CONFIG;case s.a.SHAKA_FAILED_TO_CREATE_CDM_6002:case s.a.SHAKA_HTTP_ERROR_1002_LICENSE:case s.a.SHAKA_LICENSE_REQUEST_FAILED_6007:case s.a.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006:case s.a.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001:case s.a.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003:case s.a.SHAKA_LICENSE_RESPONSE_REJECTED_6008:case s.a.SHAKA_INVALID_SERVER_CERTIFICATE_6004:case s.a.SHAKA_EXPIRED_6014:case s.a.SHAKA_BAD_HTTP_STATUS_1001_LICENSE:return a.a.DRM;case s.a.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032:return a.a.NO_CODECS;default:Object(i.a)(n)}return a.a.DEFAULT}n.d(t,"a",(function(){return r}));var i=n(102),a=n(10),o=n(1),s=n(3)},function(e,t,n){"use strict";function r(e,t){const n=function(e){const t=Object(s.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return n?Object(a.a)(e,n,()=>{t(Object(o.a)(e))}):i.a}n.d(t,"a",(function(){return r}));var i=n(2),a=n(15),o=n(46),s=n(143)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}));var i=n(2);const a={loadCsrfToken:e=>({promise:e.request({method:"GET",url:"https://frontend.vh.yandex.ru/csrf_token",retries:3,withCredentials:!0}).then(e=>{try{return{token:e}}catch(e){return{token:""}}}),abort:i.a}),loadCachedPlayers:e=>({promise:e.request({method:"GET",url:"https://cloud-api.yandex.ru/videoplayer/v1/personality/profile/yandex_io/devices/",retries:3,withCredentials:!0}).then(e=>{try{const{items:t}=JSON.parse(e);return t&&t.length?t:[]}catch(e){return[]}}),abort:i.a}),loadPlayers:e=>({promise:e.request({method:"GET",url:"https://quasar.yandex.<tld>/devices_online_stats",retries:3,withCredentials:!0}).then(e=>{try{const{items:t}=JSON.parse(e);return t&&t.length?t:[]}catch(e){return[]}}),abort:i.a}),requestPlay:(e,t,n)=>{const a={msg:r({},t.config,{start_position:t.startPosition}),device:t.externalPlayerId};return{promise:e.request({method:"POST",url:"https://yandex.ru/video/station",headers:{"X-CSRF-TOKEN":n},data:JSON.stringify(a),retries:3,withCredentials:!0}).then(e=>{const t=JSON.parse(e);if("play"!==t.status)throw new Error("ExternalPlaybackError: "+t.msg)}),abort:i.a}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(2),i=n(71);let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(i.a)(e,"click",r.a,t)}}catch(e){}},function(e,t,n){"use strict";function r(){s=Object(a.a)(document)}function i(){return s}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(46),o=n(106);let s=Object(a.a)(document);Object(o.a)(document,e=>{e||(s=e)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(127);const a={inStreamPlayingState:void 0,adConfig:void 0,adSessionWatchedTime:Object(r.j)(0),adInfo:void 0,originalBroadcastAdCueId:void 0,originalBroadcastAdCues:{},adblockDetected:!1,hasPreroll:!1,adSyncInit:!1,watchedTimeSinceAd:i.a,nextAdInfo:void 0}},function(e,t){function n(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"===typeof btoa){var a=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,n){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"===typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"===typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){"use strict";function r(e){const t=e.document;let n=t.getElementsByTagName("head")[0];return n||(n=t.createElement("head"),t.documentElement.appendChild(n)),n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return a.a.indexOf(Object(i.g)(e).hostname)>-1}n.d(t,"a",(function(){return r}));var i=n(13),a=n(239)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);const i=function(e){return void 0===e&&(e=window),/YaBrowser/.test(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(97);const i=Object(r.a)()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return new Promise((t,n)=>{Object(a.a)(r({},e,{onLoad:t,onError:n}))})}n.d(t,"a",(function(){return i}));var a=n(195)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);const i=function(e){return void 0===e&&(e=window),Object(r.a)(e).toLowerCase().indexOf("web0s")>-1}},function(e,t,n){"use strict";function r(e){return 0===o.length&&(a=window.setInterval(()=>{o.forEach(e=>e())},i.a)),o.push(e),()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1),0===o.length&&clearInterval(a)}}n.d(t,"a",(function(){return r}));var i=n(146);let a=0;const o=[]},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){const{method:t,url:n,async:d=!0,data:l,responseType:u="text",onBeforeSend:h=o.a,onRetry:p=o.a,checkStatus:f=(e=>c===e),headers:v={},xhrConstructor:E=XMLHttpRequest,retries:g=0,timeout:m=0,withCredentials:y,onAbort:A,onSetup:S}=e,T=e.onSuccess?Object(a.a)(e.onSuccess):o.a,b=e.onError?Object(a.a)(e.onError):o.a;let O,R=!1,_=0,P=e=>{R=!0,P=o.a,O=e,C(new Error("Abort request")),"function"===typeof A&&A(e)};const C=t=>{I.onerror=null,I.onreadystatechange=null,_&&clearTimeout(_);if(_&&4!==I.readyState||R)try{I.abort()}catch(t){}if(!R)if(g>0){const n=p(t,I);if("boolean"!==typeof n||Boolean(n)||P(),R)return;i(r({},e,{onSetup:e=>{let{abort:t}=e;P=e=>t(e),R&&t(O)},retries:g-1}))}else P=o.a,b(t,I)},I=new E;try{I.open(t,n,d)}catch(e){return void C(e)}if(I.responseType=u,I.withCredentials=Boolean(y),Object(s.a)(v,(e,t)=>{try{I.setRequestHeader(t,e)}catch(e){}}),m>0&&isFinite(m)&&(_=window.setTimeout(()=>{C(new Error("Request timeout, "+n))},m)),I.onerror=C,I.onreadystatechange=()=>{if(4===I.readyState){const{status:e}=I;f(e)?(P=o.a,clearTimeout(_),T(I)):C(new Error("Invalid request status "+e+", "+n))}},("function"!==typeof S||(S({abort:e=>P(e)}),!R))&&(h(I,e),!R))try{I.send(l)}catch(e){C(e)}}n.d(t,"a",(function(){return i}));var a=n(24),o=n(2),s=n(32);const c=200},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="function"===typeof n(82).a.load},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(68);var i=n(97);const a=function(e){void 0===e&&(e=window);const{platform:t=""}=e.navigator||{};return function(e){void 0===e&&(e=window);const{vendor:t=""}=e.navigator||{};return 0===t.indexOf("Google")}(e)&&!Object(r.a)(e)&&0===t.indexOf("Linux ")&&Object(i.a)(e)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(31);const i=1,a=0,o=r.a.internalToPublic(a),s=r.a.internalToPublic(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="#FFCC00",i="#EEEEEE"},function(e,t,n){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(159),i=n(181);const a=Object(i.a)("application/vnd.apple.mpegurl")||r.a>=4.4},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={min:0,max:1/0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63),i=n(0);const a=Object(i.j)(r.b)},function(e,t,n){"use strict";function r(e){for(var t=-1,n=0;n<p.length;n++)if(p[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},i=[],a=0;a<e.length;a++){var o=e[a],s=t.base?o[0]+t.base:o[0],d=n[s]||0,l="".concat(s," ").concat(d);n[s]=d+1;var u=r(l),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(p[u].references++,p[u].updater(h)):p.push({identifier:l,updater:c(h,t),references:1}),i.push(l)}return i}function a(e){var t=document.createElement("style"),r=e.attributes||{};if("undefined"===typeof r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"===typeof e.insert)e.insert(t);else{var a=h(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}function o(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function s(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function c(e,t){var n,r,i;if(t.singleton){var c=E++;n=v||(v=a(t)),r=o.bind(null,n,c,!1),i=o.bind(null,n,c,!0)}else n=a(t),r=s.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}var d,l,u=function(){return"undefined"===typeof d&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},h=function(){var e={};return function(t){if("undefined"===typeof e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),p=[],f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")}),v=null,E=0;e.exports=function(e,t){(t=t||{}).singleton||"boolean"===typeof t.singleton||(t.singleton=u());var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var o=r(n[a]);p[o].references--}for(var s=i(e,t),c=0;c<n.length;c++){var d=r(n[c]);0===p[d].references&&(p[d].updater(),p.splice(d,1))}n=s}}}},function(e,t,n){"use strict";function r(e,t){const n=Object(s.a)({UrlParams:()=>{const n=Object(o.a)(e.document);for(let e=0;e<n.length;e++){const{location:r}=n[e],i=Object(l.e)(r)[t];if(i)return i}},LocalStorage:()=>e.localStorage.getItem(t),globalVariable:()=>{const n=Object(a.a)(e);for(let e=0;e<n.length;e++){const r=n[e],i=r&&r.Ya&&r.Ya.hardcodedParams&&r.Ya.hardcodedParams[t];if(i)return String(i)}}});for(let e=0;e<n.length;e++){const[r,i]=n[e],a=Object(d.a)(i);if("string"===typeof a&&a.length>0)return c.b.deprecated("HardcodedParamObtainedFrom"+r,"ATTENTION! Product parameter obtained from "+r+" ["+t+"]["+a+"]"),a}}function i(e,t,n){const i=r(e,t);return i?Number(i):Object(u.a)(n)}n.r(t),n.d(t,"getHardcodedParam",(function(){return r})),n.d(t,"getBundlesVersion",(function(){return i}));var a=n(67),o=n(150),s=n(41),c=n(156),d=n(22),l=n(13),u=n(187)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(74);const i=function(e){return void 0===e&&(e=window),Object(r.a)(e)>11}},function(e,t,n){"use strict";function r(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:n}=t;return n||void 0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}]},function(e,t){e.exports=function(e){var t;return function(e){return navigator.clipboard?navigator.clipboard.writeText(e):Promise.reject()}(e).catch((function(n){return t=n,function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);var i,a=!1;try{a=window.document.execCommand("copy")}catch(e){i=e}return n.removeAllRanges(),window.document.body.removeChild(t),a?Promise.resolve():Promise.reject(i)}(e)})).catch((function(e){throw e||t||new DOMException("The request is not allowed","NotAllowedError")}))}},function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t=!1),e===l.a.NO_CODECS&&a.a&&s>6)return{title:e+"_TITLE",message:e+"_MESSAGE",helpLink:"https://yandex.ru/support/video-player/player-issues.html#no-codecs",helpLinkButtonText:e+"_HELP_LINK"};const n=Object(c.a)(e);return t&&function(e){return[d.a.NETWORK_PLAYER,d.a.NETWORK_MEDIA,d.a.NETWORK_TIMEOUT,d.a.DRM].indexOf(e)>-1}(n)?{title:"ADBLOCK_DETECTED_TITLE",message:"ADBLOCK_DETECTED_MESSAGE",helpLink:"https://yandex.ru/support/video-player/blocker-settings.html",helpLinkButtonText:"ERROR_SCREEN_DEFAULT_HELP_LINK"}:function(e){return{title:e+"_ERROR_CATEGORY_TITLE",message:e===d.a.REGIONAL?"":e+"_ERROR_CATEGORY_MESSAGE",helpLink:u[e],helpLinkButtonText:i(e)?e+"_ERROR_CATEGORY_HELP_LINK":"ERROR_SCREEN_DEFAULT_HELP_LINK"}}(n)}function i(e){return[d.a.UNSUPPORTED_ENV,d.a.NO_CODECS].indexOf(e)>-1}n.d(t,"a",(function(){return r}));var a=n(200),o=n(17);const s=function(e){void 0===e&&(e=window);const t=Object(o.a)(e).toLowerCase(),n=/windows nt (\d+\.\d+)/.exec(t);if(n){const e=Number(n[1]);return e>0?e:-1}return-1}();var c=n(105),d=n(10),l=n(1);const u={[d.a.DEFAULT]:void 0,[d.a.MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[d.a.NETWORK_MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[d.a.NETWORK_PLAYER]:"https://yandex.ru/support/video-player/player-issues.html",[d.a.NETWORK_TIMEOUT]:"https://yandex.ru/support/video-player/player-issues.html",[d.a.NO_CODECS]:"https://yandex.ru/search/?text=\u043a\u043e\u0434\u0435\u043a\u0438",[d.a.UNSUPPORTED_ENV]:"https://yandex.ru/soft/browsers/",[d.a.CANNOT_PLAY]:void 0,[d.a.EXCEPTION]:"https://yandex.ru/support/video-player/loading-issues.html",[d.a.CONFIG]:void 0,[d.a.REGIONAL]:void 0,[d.a.DRM]:"https://yandex.ru/support/video-player/drm.html",[d.a.ADS]:void 0,[d.a.ACCESS]:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(74);const i=(void 0===a&&(a=window),-1!==Object(r.a)(a));var a},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="https://strm.yandex.net/int/enc/srvr.xml",i="int/enc/srvr.xml"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);const i=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(31);const i=n(122).a,a=r.a.internalToPublic(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(74);const i=Object(r.a)()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){const{partnerId:t,partner_id:n=t,category:i=o,impId:c,imp_id:d=c,hasPreroll:l,useAdSession:u,countableNonLinearInAdSession:h,videoContentId:p,video_content_id:f=p,videoContentName:v,video_content_name:E=v,videoPublisherId:g,video_publisher_id:m=g,videoPublisherName:y,video_publisher_name:A=y,videoGenreId:S,video_genre_id:T=S,videoGenreName:b,video_genre_name:O=b,distrId:R,distr_id:_=R,adBreaks:P,rewindTime:C}=e;return r({},function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["partnerId","partner_id","category","impId","imp_id","hasPreroll","useAdSession","countableNonLinearInAdSession","videoContentId","video_content_id","videoContentName","video_content_name","videoPublisherId","video_publisher_id","videoPublisherName","video_publisher_name","videoGenreId","video_genre_id","videoGenreName","video_genre_name","distrId","distr_id","adBreaks","rewindTime"]),{partnerId:Number(n),category:Number(i),impId:void 0!==d?parseInt(String(d),10)||0:void 0,hasPreroll:"boolean"===typeof l?l:void 0,useAdSession:"boolean"!==typeof u||u,countableNonLinearInAdSession:"boolean"===typeof h&&h,videoContentId:f,videoContentName:E,videoPublisherId:m,videoPublisherName:A,videoGenreId:T,videoGenreName:O,distrId:_,adBreaks:P,rewindTime:Object(a.a)(C)?C:s.a})}n.d(t,"a",(function(){return i}));var a=n(8);const o=0;var s=n(188)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t,n,i){void 0===i&&(i={}),Object(a.a)(()=>{const{additional:a={}}=i,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,["additional"]);window.Ya.Rum.sendTimeMark(e,t,n,r({},s,{"-additional":Object(o.b)(i)}))})}n.d(t,"a",(function(){return i}));var a=n(22),o=n(28)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{const r=[];for(let i=0;i<e.length;i++){const a=e[i];t.call(n,a,i,e)&&r.push(a)}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="other"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="0000000000000000000000000000000000000000000000000000000000000000"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=250},function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t=!0),i.a&&t)return[];{const t=[];let n=e;for(;;)try{if(n=n.ownerDocument.defaultView.frameElement,!n)return t;t.push(n)}catch(e){return t}}}n.d(t,"a",(function(){return r}));var i=n(93)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);const i=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const n=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===n.length&&"mozilla"===n[0]&&"applewebkit"===n[1]&&"version"===n[2]&&"safari"===n[3]}},function(e,t,n){"use strict";function r(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(i.a)(e.defaultView),referrer:e.referrer}))}n.d(t,"a",(function(){return r}));var i=n(48),a=n(147)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(23);const i=e=>Object(r.a)(e.navigator.sendBeacon)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(149);const i=Object(r.a)()},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("")}n.d(t,"a",(function(){return a}));var i=n(11);const a=(e,t,n,r)=>function(){try{return t.apply(n||this,arguments)}catch(t){if(Object(i.a)(r)&&r(t),!0===t.preventProtect)throw t;a.log(t,e)}};a.log=function(e,t){console.log("LOG:"+t+":"+e)},a.setTimeout=(e,t,n,r)=>window.setTimeout(a("timeout",e,n,r),t);class o{}o.YaContextCallbacks=r("Ya.C","ontext._callbacks"),o.YaContextCallbacksCalls=r("Ya.C","ontext._callbacks_call"),o.AdvManager=r("A","dvManager"),o.AdvBlock=r("A","dvBlock"),o.RTB=r("R","TB"),o.Rtb=r("R","tb"),o.MetrikaAdtune=r("metrika_a","dtune")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},function(e,t,n){"use strict";function r(){return!0}n.d(t,"a",(function(){return r}));n(101),n(216),n(167)},function(e,t,n){"use strict";function r(){if(m&&m.document&&"function"===typeof m.document.hasFocus)try{return m.document.hasFocus()}catch(e){}}function i(e){return S?Object(T.a)(e.location.ancestorOrigins):[]}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return te}));var o=n(67),s=n(11),c=n(6);const d=(e,t)=>{for(const n of t.split(".")){if(!Object(c.a)(e)){e=void 0;break}e=e[n]}return e},l="__ADB_CONFIG__",u=Object(c.a)(l)&&l.fn&&Object(s.a)(l.fn.encodeUrl)?l.fn.encodeUrl:void 0,h=void 0!==u?e=>u(e):void 0,p=function(e){if(void 0===e&&(e=window),h)return h;const t=Object(o.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const n=d(e,"ya.videoAd.encodeUrl");if(Object(s.a)(n))return n}}(window);var f=n(46),v=n(147);const E=Object(v.a)(document.documentElement),{length:g}=E,m=g>0?E[g-1].ownerDocument.defaultView:window;var y=n(44),A=n(160);const S=Boolean(window.location.ancestorOrigins);var T=n(26);const b=i(window);var O=n(103),R=n(38);const _=function(){const e=Object(R.a)(E,e=>e.ownerDocument),{length:t}=e,n=(t?e[t-1]:document).defaultView;return!!n&&n.self!==n.parent}();var P=n(13);const{topAncestor:C,isTrusted:I}=function(e){void 0===e&&(e=window);const t=i(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:n,referrer:r}=Object(O.a)(e.document),a=_?r:n,o=!_||function(e){let t=e;const n=[e],{top:r}=e;for(;t!==r;)t=t.parent,n.push(t);return n}(m).length<2,{protocol:s,hostname:c,host:d,port:l}=Object(P.g)(a);return{topAncestor:Object(P.h)({protocol:s,hostname:c,host:d,port:l,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),w=C,k=I;var N=n(168),D=n(48),L=n(90),j=n(69),M=n(119),V=n(161),F=n(32),U=n(41),x=n(55);const H=Object(x.a)();var B=n(151);const K=Object(B.a)(window),Y="_$".split("").reverse().join(""),W=e=>"_$invalid_"+e+Y,G={sensorName:W("sensor_name"),labelKey:W("label_key"),labelValue:W("label_value")};var q=n(47),X=n(157);Object(X.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const z=e=>{let{eventType:t,eventName:n,value:r,values:i}=e;const o={};return Object(F.a)(i,(e,r)=>{o[t+"_"+n+"_"+r]=e}),a({[t+"_"+n]:r},o)},Q=e=>e.isFatal?q.a.fatal:q.a.error,J=/^\w(\-|_|:|\s|\.|\w){1,20}$/,Z=/^\w(\-|_|:|\s|\.|\w){0,70}$/,$=/^\w(\-|_|:|\s|\.|\w){1,70}$/;class ee{constructor(e){this.rootFields={},this.labels={},this.event=e=>{let{name:t,data:n,labels:r,probability:i,extraRootFields:a}=e;this.push({eventType:q.a.event,eventName:t,data:n,additionalStatsLabels:r,probability:i,extraRootFields:a})},this.error=e=>{let{error:t,labels:n,probability:r,extraRootFields:i}=e;const a=new y.a(t);this.push({eventName:String(a.code),eventType:Q(a),data:a,additionalStatsLabels:n,probability:r,extraRootFields:i})},this.value=e=>{let{name:t,value:n,data:r,labels:i,probability:a,extraRootFields:o}=e;this.push({eventName:t,value:n,eventType:q.a.value,data:r,additionalStatsLabels:i,probability:a,extraRootFields:o})},this.values=e=>{let{name:t,values:n,data:r,labels:i,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:q.a.values,data:r,additionalStatsLabels:i,probability:a,values:n,extraRootFields:o})},this.warning=e=>{let{name:t,message:n,probability:r,extraRootFields:i}=e;Object(c.a)(console)&&Object(s.a)(console.warn)&&console.warn(n),this.push({eventName:t,eventType:q.a.warning,data:{message:n},probability:r,extraRootFields:i})},this.getParams=()=>function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(this.params,["onLogError"]),this.setRootFields=e=>{Object(U.a)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.rootFields[t]:this.rootFields[t]=n})},this.setLabels=e=>{Object(U.a)(e).forEach(e=>{let[t,n]=e;void 0===n?delete this.labels[t]:this.labels[t]=n})},this.eventToStats=(e,t,n,r)=>{this.push({eventType:q.a.event,eventName:e,data:t,additionalStatsLabels:n,extraRootFields:r})},this.errorToStats=(e,t,n)=>{const r=new y.a(e);this.push({eventName:String(r.code),eventType:Q(r),data:r,additionalStatsLabels:t,extraRootFields:n})},this.deprecated=(e,t)=>{Object(c.a)(console)&&Object(s.a)(console.warn)&&console.warn(t),this.push({eventName:e,eventType:q.a.deprecated,data:{message:t}})},this.valueToStats=(e,t,n,r)=>{this.push({eventName:e,value:t,eventType:q.a.value,data:n,additionalStatsLabels:r})};const{onLogError:t}=e;this.params=a({},e,{sid:e.sid||Object(L.a)(64),onLogError:t?e=>{try{t(e)}catch(e){Object(A.a)(e)}}:A.a}),this.logUrl=ee.getLogUrl(e),this.isStrmLogUrl="https://strm.yandex.ru/log"===this.logUrl}static getLogUrl(e){return e.logUrl?e.logUrl:!0===e.useAlias?"https://jstracer.yandex.ru/jstracer":"https://an.yandex.ru/jstracer"}push(e){let{eventName:t,eventType:n,data:r={},additionalStatsLabels:i,value:o=1,probability:s=1,values:c={},extraRootFields:d={}}=e;if(!function(e,t,n,r){void 0===r&&(r=!1);const i=(r?Object(x.a)():H)<e,a=i?t:n;return"function"===typeof a&&a(),i}(s))return;const{service:l,version:u}=this.params,h={service:l,version:u,data:r,eventName:t,eventType:n,additionalStatsLabels:i,value:o,values:c};if(ee.isSendingData)throw new y.a({message:"RecursiveStatsRequests",details:{service:l,version:u,eventType:n,eventName:t}});ee.isSendingData=!0;try{let e=this.logUrl;this.params.sendOnlyPrimaryParams||(e=Object(P.b)(this.logUrl,a({[l]:u,[n]:t},i)));const r=this.createFullStatsObject(h,d),{routeToJSTracer:o=!0}=d;this.isStrmLogUrl&&o&&(r.routeToJSTracer=!0),this.sendData(e,Object(j.a)(r))}catch(e){ee.isSendingData=!1,this.params.onLogError(new y.a(e,{details:{service:l,version:u,eventType:n,eventName:t}}))}ee.isSendingData=!1}sendData(e,t){if(this.params.useSendBeacon){if(function(e,t){return!!K&&window.navigator.sendBeacon(e,t)}(e,t))return}Object(M.a)({url:e,data:t,method:"POST",onBeforeSend:this.params.onBeforeSend})}createFullStatsObject(e,t){const{service:n,version:i,eventName:o,eventType:c,data:d,additionalStatsLabels:l,value:u}=e,h=(this.params.createTagsFunction||z)(e),v=a({},this.labels,l,{version:this.params.version}),E={service:n,tags:Object(V.a)(Object(U.a)(h).map(e=>{let[t,n]=e;return $.test(t)?[t,n]:[G.sensorName,n]})),labels:Object(V.a)(Object(U.a)(v).map(e=>{let[t,n]=e,r=t,i=n;return J.test(r)||(r=G.labelKey),Z.test(i)||(i=G.labelValue),[r,i]}))},{location:g,referrer:m}=Object(O.a)(document);return a({},t,this.rootFields,E,{timestamp:Date.now(),eventType:c,eventName:o,data:d,sid:this.params.sid,version:i,location:Object(D.a)(window),topLocation:g,topAncestor:w,isTopAncestorUndetermined:!k||void 0,ancestorOrigins:b,documentIsVisible:Object(f.a)(document),referrer:window.document.referrer,topReferrer:m,currentScriptSrc:N.a,secureIFrame:_,isVideoADB:Object(s.a)(p),value:u,rnd:H,topDocumentFocus:r()})}}ee.isSendingData=!1;const te=new ee({service:"CommonPcode",version:"0",sid:Object(L.a)(64)})},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return c}));n(67),n(75);var i=n(2);const a=i.a,o=i.a,s=i.a,c=e=>{let{win:t,propertyName:n}=e;return{call:e=>a(r({win:t,propertyName:n},e)),subscribe:e=>s(r({win:t,propertyName:n},e)),wait:e=>(e=>{let{propertyName:t,win:n}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(n)},propertyName:t,win:n})})})(r({win:t,propertyName:n},e)),waitUntil:e=>(e=>{let{propertyName:t,win:n,comparator:r}=e;return new Promise(e=>{s({propertyName:t,win:n,callback:function(){r(...arguments)&&e()}})})})(r({win:t,propertyName:n},e)),clear:e=>o(r({win:t,propertyName:n},e))}}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return u}));var i=n(2);let a=0;var o=n(32),s=n(18),c=n(0),d=n(5);const l=Object(c.h)(6e4);class u{static getDataFromPostMessageEvent(e){let{data:t}=e;if("object"!==typeof t)throw new d.a("IFrameMessageEvent must be an object");const{id:n,batch:r}=t;if("string"!==typeof n||0===n.length)throw new d.a('message must have "id" parameter');if(!r||!Array.isArray(r))throw new d.a("#batch value must be an array");return{id:n,batch:r}}constructor(e){let{id:t,sender:n,receiver:i}=e;this.onCommand=new s.a,this.onAnswer=new s.a,this.onEvent=new s.a,this.onError=new s.a,this.id=void 0,this.abortRequestMap=Object.create(null),this.sender=void 0,this.receiver=void 0,this.sendPromise=void 0,this.messagesBatch=[],this.receiverCallback=void 0,this.id=t,this.sender=n,this.receiver=i,this.receiverCallback=e=>{let t;try{t=u.getDataFromPostMessageEvent(e)}catch(e){return}const{id:n,batch:i}=t;n===this.id&&i.forEach(e=>{let{answer:t,command:n,event:i}=e;if(t&&void 0!==t.requestId&&this.onAnswer.dispatch(t),i&&this.onEvent.dispatch(i),!n)return;const a=r({},function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["requestId"]),{sendAnswer:e=>{this.sendAnswer(e,n.requestId)}});this.onCommand.dispatch(a)})},i.addEventListener("message",this.receiverCallback)}sendEvent(e,t){let{data:n,sourceId:r}=t;const i={eventName:e,data:n,sourceId:r};this.sendPostMessage({event:i})}sendCommand(e,t){const n={commandName:e,params:t};this.sendPostMessage({command:n})}sendRequest(e,t,n){void 0===n&&(n=l);const r={commandName:e,params:t,requestId:a++},i=this.waitForAnswer(r,n);return this.sendPostMessage({command:r}),i}destroy(){this.receiver.removeEventListener("message",this.receiverCallback),this.onCommand.removeAll(),this.onAnswer.removeAll(),this.onEvent.removeAll(),this.onError.removeAll(),Object(o.a)(this.abortRequestMap,e=>e())}waitForAnswer(e,t){let n,r=i.a;const a=()=>{clearTimeout(n),r(),delete this.abortRequestMap[e.requestId]};return new Promise(i=>{n=window.setTimeout(()=>{const t=this.abortRequestMap[e.requestId];"function"===typeof t&&t()},t),r=this.onAnswer.add(t=>{t.requestId===e.requestId&&(a(),i(t.data))}),this.abortRequestMap[e.requestId]=a})}sendAnswer(e,t){void 0===t&&(t=-1);const n={data:e,requestId:t};this.sendPostMessage({answer:n})}sendPostMessage(e){let{event:t,command:n,answer:r}=e;this.messagesBatch.push({event:t,answer:r,command:n}),this.planRealSend()}safeSendClonedData(e,t){try{this.sender.postMessage(JSON.parse(JSON.stringify(e)),t)}catch(e){this.onError.dispatch(e)}}sendPostMessageBatch(){const e={id:this.id,batch:this.messagesBatch};try{this.sender.postMessage(e,"*")}catch(t){this.safeSendClonedData(e,"*")}}planRealSend(){void 0===this.sendPromise&&(this.sendPromise=Promise.resolve().then(()=>{this.sendPostMessageBatch(),this.sendPromise=void 0,this.messagesBatch=[]}).catch(()=>{this.sendPromise=void 0,this.messagesBatch=[]}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent,n=t.indexOf("Android");return-1===n?-1:parseFloat(t.slice(n+8))}()},function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){const t={};return e.forEach(e=>{let[n,r]=e;t[n]=r}),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r=!1,i=!0},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(17),i=n(117);const a=function(e){void 0===e&&(e=window);const t=Object(r.a)(e);let n=-1,a=-1,o=-1;return Object(i.a)(e)&&(-1!==t.indexOf("537.41")?(n=1,a=0,o=2014):-1!==t.indexOf("538.2")?(o=2015,n=2,a=0):-1!==t.indexOf("QtWebEngine/5.2.1")?(o=2016,n=3,a=0):-1!==t.indexOf("Chrome/53.0.2785.34")?(o=2018,n=4,a=0):-1!==t.indexOf("Chrome/68.0.3440.106")&&(o=2020,n=5,a=0)),{major:n,minor:a,year:o}}(),o=1===a.major,s=2===a.major,c="./js/webos_controller.js"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));class r{setTimeout(e,t){const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}now(){return Date.now()}}class i{constructor(e){void 0===e&&(e=0),this.time=e,this.tasks=[]}setTimeout(e,t){const n=this.time+t,r={task:e,time:n,isCanceled:!1,isRunned:!1};return((e,t,n)=>{let r=0;for(;r<e.length&&!n(e[r]);r+=1);e.splice(r,0,t)})(this.tasks,r,e=>n<e.time),t||window.setTimeout(()=>this.runTask(r),0),()=>r.isCanceled=!0}setTime(e){if(isNaN(e))return;let t=0;for(;t<this.tasks.length&&!(e<this.tasks[t].time);t+=1)this.runTask(this.tasks[t]);this.time=e,this.tasks.splice(0,t)}now(){return this.time}tick(e){this.setTime(this.time+e)}reset(){this.time=0,this.tasks=[]}runTask(e){e.isRunned||e.isCanceled||(e.isRunned=!0,this.time=e.time,e.task())}}class a{constructor(e,t){void 0===t&&(t=new r),this.distributionFunction=e,this.clock=t,this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(0);const i=Object(r.h)(8e3),a=Object(r.h)(1e4),o=Object(r.h)(1e4)},function(e,t,n){var r=n(128),i=n(330);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};r(i,a);e.exports=i.locals||{}},function(e,t,n){"use strict";function r(){return!0}n.d(t,"a",(function(){return r}));n(217)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=function(e,t){void 0===e&&(e=document);const n=e.currentScript;if(n)return n;{const n=e.getElementsByTagName("script"),r=[];for(let e=0;e<n.length;e++)r.push(n[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}(),i=r?r.src:""},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23);const i=[].find,a=Object(r.a)(i)?(e,t)=>i.call(e,t):(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(t(r,n,e))return r}}},function(e,t,n){"use strict";function r(e){const t=Object(i.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}n.d(t,"a",(function(){return r}));var i=n(171)},function(e,t,n){"use strict";function r(e,t){let{content:n,size:r}=void 0===t?{}:t;const i=e.ownerDocument.createElement("iframe");i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",r&&(i.height=r.height,i.width=r.width),e.appendChild(i);const a=i.contentDocument;return a.open(),n&&a.write(n),a.close(),a.body.style.margin="0",i.style.borderWidth="0",i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(137),i=n(11);const a="undefined"===typeof window?void 0:window.performance,o=a&&Object(i.a)(a.now),s=a&&a.timing&&a.timing.navigationStart?a.timing.navigationStart:Object(r.a)();let c=0;const d=o?()=>a.now():()=>(()=>{const e=Object(r.a)()-s;return c=Math.max(e,c),c})()},function(e,t,n){"use strict";function r(e){return Object(a.f)(e.supportInfo)}function i(e){return Object(a.e)(e.supportInfo)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(58)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=i);for(let i=n;i<e.length;i++)if(r(e[i],t))return i;return-1},i=(e,t)=>e===t},function(e,t,n){"use strict";function r(e){const t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||(t=>e.setTimeout(t,i.a)),n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||(t=>e.clearTimeout(t));return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:n.bind(e)}}n.d(t,"a",(function(){return r}));var i=n(176)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=1e3/60},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const i=function(e,t,n){return void 0===t&&(t=e=>e),void 0===n&&(n=new r({})),function(){const r=t.apply(this,arguments);if(n.has(r))return n.get(r);const i=e.apply(this,arguments);return n.set(r,i),i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t={});const{silent:n=!0,allowRelative:r=!1}=t;return r||Object(i.a)(e)?new Promise((t,r)=>{const i=document.createElement("img");i.onload=()=>t(e),i.onerror=n?()=>t(null):()=>r(new Error("knockPixel failed to load image ["+e+"]")),i.src=e}):n?Promise.resolve(null):Promise.reject("["+e+"] is not an absolute url, to knock this pixel use { allowRelative: true } option")}n.d(t,"a",(function(){return r}));var i=n(180)},function(e,t,n){"use strict";function r(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(120),i=n(82);const a=r.a?function(e,t){return void 0===t&&(t=i.a),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1},function(e,t,n){"use strict";function r(e,t,n){return e.replace(new RegExp("{{"+t+"}}","gm"),encodeURIComponent(n))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.j)(5)},function(e,t,n){"use strict";function r(e,t){const n=new RegExp("[?&]"+e+"=*([^&#]*)","g");let r=null,i=null;for(;i=n.exec(t);)r=i;return r&&"string"===typeof r[1]?decodeURIComponent(r[1]):void 0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)return;const t=e&&e.match&&e.match(i);if(t&&t[1])return parseInt(t[1],10);throw new Error("paramsObject.version must be a string like [1.0-0] or undefined")}n.d(t,"a",(function(){return r}));const i=/1\.0-(\d+)/},function(e,t,n){"use strict";function r(e){void 0===e&&(e=Object(i.a)(window));try{if("1"===localStorage.getItem("rumdebug"))return console&&Object(a.a)(console.warn)&&console.warn("using rumdebug=1 from localStorage"),!0}catch(e){}return/[?&#]rumdebug=1(?:[&#]|$)/.test(e)}n.d(t,"a",(function(){return r}));var i=n(48),a=n(11)},function(e,t,n){"use strict";function r(e){const t=100*Object(i.a)();let n=0;for(let r=0;r<e.length;r++)if(n+=e[r].percent,t<n)return e[r].id;return e[0].id}n.d(t,"a",(function(){return r}));var i=n(55)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.j)(0)},function(e,t,n){"use strict";function r(e,t){const n={};return Object(i.a)(e).forEach(r=>{n[r]=t(e[r],r)}),n}n.d(t,"a",(function(){return r}));var i=n(25)},function(e,t,n){"use strict";function r(){return(i.a||a.a||o.a)&&!Object(s.a)()}n.d(t,"a",(function(){return r}));var i=n(49),a=n(39),o=n(154),s=n(101)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(148);const i=Object(r.a)()},function(e,t,n){"use strict";function r(e){const t=Object(i.a)(e).match(/Chrom(e|ium)\/([0-9]+)\./);return t?parseInt(t[2],10):-1}n.d(t,"a",(function(){return r}));var i=n(17)},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const{document:t={}}=e;return i.a.filter(e=>{let{enabled:n}=e;return n in t})}n.d(t,"a",(function(){return r}));var i=n(132)},function(e,t,n){"use strict";function r(){return!Object(a.a)()&&Object(i.a)()}n.d(t,"a",(function(){return r}));var i=n(190),a=n(155)},function(e,t,n){"use strict";function r(e,t){void 0===e&&(e="a"),void 0===t&&(t="z");const n=function(e,t){let n=e+Object(p.a)()*(t+1-e);return n=Math.floor(n),n}(e.charCodeAt(0),t.charCodeAt(0));return String.fromCharCode(n)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){const{dropCacheOnRetry:t=!1,onBeforeLoad:n=l.a,retries:a=0}=e;if(e.checkLoad&&e.checkLoad())return void(e.onLoad&&e.onLoad());let o=n,s=0;return t&&a>0&&(o=e=>{if(n(e),s>0){const t=-1===e.src.indexOf("?")?"?":"&",n=function(e){const t=[];for(let n=0;n<e;n++)t.push(r());return t.join("")}(4);e.src+=t+n}s++}),function e(t){const{src:n,win:r=window,charset:a=f,async:o=!0,retries:s=0,onRetry:c=l.a,retryDelay:d=0,checkLoad:p=v,onBeforeLoad:E=l.a,onLoad:g=l.a,onError:m=l.a}=t,y=r.document.createElement("script"),A=r=>{s>0?(c(r),e(i({},t,{src:n,retries:s-1}))):m(r),Object(h.a)(y)};y.type="text/javascript",y.async=o,y.onload=()=>p(y)?g():A(new Error("checkLoad for "+n+" failed")),y.onerror=e=>{try{r.setTimeout(()=>{A(e)},d)}catch(e){}},y.src=n,y.charset=a,E(y),Object(u.a)(r).appendChild(y)}(i({},e,{onBeforeLoad:o}))}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){const{win:t=window,src:n,retries:r=0,onError:i=l.a}=e,s=new d.a({id:c.LOAD_SCRIPT_ERROR,message:"Failed to load script ["+n+"]",details:{src:n,isSelfWindow:t===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:r}});a(o({},e,{win:t,onError:()=>i(s)}))}var c;n.d(t,"a",(function(){return s})),function(e){e.LOAD_SCRIPT_ERROR="LOAD_SCRIPT_ERROR",e.STATS_SENSOR_NAME_ERROR="STATS_SENSOR_NAME_ERROR",e.STATS_LABEL_KEY_ERROR="STATS_LABEL_KEY_ERROR",e.STATS_LABEL_VALUE_ERROR="STATS_LABEL_VALUE_ERROR"}(c||(c={}));var d=n(44),l=n(2),u=n(112),h=n(40),p=n(55);const f="utf-8",v=e=>!0},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return e.replace(/<tld>/g,u)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return h}));var o=n(119),s=n(2),c=n(19),d=n(158),l=n(13);const u=Object(l.g)(window.location.href).hostname.split(".").reverse()[0];class h{static performRealRequest(e){const t=function(e){let t,n=s.a,i=0;const a=e=>{i=e.status,t=e.response};return{promise:new Promise((t,i)=>{Object(o.a)(r({},e,{onSuccess:e=>{a(e),t(e)},onError:(e,t)=>{a(t),i(e)},onAbort:i,onSetup:e=>{let{abort:t}=e;return n=t}}))}),abort:e=>n(e),getStatus:()=>i,getResponse:()=>t}}(a({},e,{url:i(e.url)}));return{promise:t.promise.then(e=>e.responseText).catch(e=>{throw e.status=t.getStatus(),e}),abort:t.abort}}constructor(e){let{sender:t,receiver:n}=e;this.postMessenger=void 0,this.postMessenger=new d.a({id:"external-request-controller",sender:t,receiver:n}),this.attachListeners()}destroy(){this.postMessenger.destroy()}request(e){return this.postMessenger.sendRequest(c.a.xhrRequest,e).then(e=>{let{success:t,error:n,data:r}=e;if(n)throw r;return r})}attachListeners(){this.postMessenger.onCommand.add(e=>{e.commandName===c.a.xhrRequest&&h.performRealRequest(e.params).promise.then(t=>{e.sendAnswer({success:!0,data:t})}).catch(t=>{const n={message:t.message,stack:t.stack,status:t.status};e.sendAnswer({error:!0,data:n})})})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),i=n(23);const a=function(e,t){let n=e[t];if(!Object(i.a)(n)){const r=n;try{delete e[t],n=e[t],e[t]=r}catch(e){}}return n}(Object,"create")?Object.create:function(e,t){function n(){}if(n.prototype=e,Object(r.a)(t))for(const e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return new n};var o=n(89),s=n(61);var c=n(11),d=n(32);const l=function e(t,n){void 0===n&&(n={preserveConstructors:!0});let i=t;if(Object(o.a)(t)){return t.map(t=>e(t,n))}return(l=t)instanceof Date||"Date"===Object(s.a)(l)?new Date(t.getTime()):(!Object(c.a)(t)&&Object(r.a)(t)&&(i=n.preserveConstructors?a(t):{},Object(d.a)(t,(t,r)=>{i[r]=e(t,n)})),i);var l}},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=" ");const r=t-e.length;if(r>0){let t=n;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}function i(e){return r(String(e%Math.pow(10,4)),4,"0")}function a(e){return void 0===e&&(e=6125),[Object(o.a)(44),s,i(e),r(Date.now().toString().slice(0,10),10,"0")].join("x")}n.d(t,"a",(function(){return a}));var o=n(90);const s="WEB"},function(e,t,n){"use strict";function r(e,t){const n=[],r=[];return((e,t,n)=>{for(let r=0;r<e.length;r++)t.call(n,e[r],r,e)})(e,(i,a)=>{t(i,a,e)?n.push(i):r.push(i)}),[n,r]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);const i=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();return/windows/.test(t)}()},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=window);const n=()=>i.forEach(e=>t.removeEventListener(e,r)),r=t=>{"pagehide"===t.type&&t.persisted||(e(t),n())};return i.forEach(e=>t.addEventListener(e,r)),n}n.d(t,"a",(function(){return r}));const i=["beforeunload","pagehide","unload"]},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=window);const r=Object(i.a)(n),s=t(Object(o.a)(e,r));if(s)return console&&Object(a.a)(console.warn)&&console.warn("using "+e+"="+s+" from query"),s;const c=t(function(e){try{const t=localStorage.getItem(e);if(!t)return;return t}catch(e){return}}(e));return c?(console&&Object(a.a)(console.warn)&&console.warn("using "+e+"="+c+" from localStorage"),c):void 0}n.d(t,"a",(function(){return r}));var i=n(48),a=n(11),o=n(184)},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.h)(1e3)},function(e,t,n){"use strict";function r(e){switch(e){case i.a.PLAY:return a.a.PLAYING;case i.a.PAUSE:return a.a.PAUSED;case i.a.BUFFERING:return a.a.BUFFERING;case i.a.END:return a.a.ENDED;default:return a.a.UNSTARTED}}n.d(t,"a",(function(){return r}));var i=n(7),a=n(33)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}));var i=n(38);class a{constructor(e){this.args=e,this.runningCount=0,this.callback=(e,t)=>{const n=e+1;t?n===this.strategies.length?this.args.callback(t):n===this.runningCount&&this.startNext():(this.stopUntil(n),this.args.callback(t))},this.strategies=Object(i.a)(e.strategyFactories,(e,t)=>e(e=>this.callback(t,e)))}static from(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const n=[];for(const i of t){let t=()=>null;const a=i(r({},e,{callback:e=>t(e)}));if(!a)return null;n.push(e=>(t=e,a))}return new a({callback:e.callback,strategyFactories:n})}}start(){!this.runningCount&&this.strategies.length&&this.startNext()}stop(){this.stopUntil(0)}get isDetermined(){for(const e of this.strategies)if(!e.isDetermined)return!1;return!0}getIsVisible(){for(let e=0;e<this.strategies.length;e++)if(!this.strategies[e].getIsVisible())return!1;return!0}startNext(){this.strategies[this.runningCount++].start()}stopUntil(e){for(;this.runningCount>e;)this.strategies[--this.runningCount].stop()}}},function(e,t,n){"use strict";function r(e){return e&&Object(i.a)(e)||window}n.d(t,"a",(function(){return r}));var i=n(131)},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:n={}}=t;return Boolean(n.saveData)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){this.returnValue=!1}function i(){this.cancelBubble=!0}function a(e){return function(t){const n=function(e){return e.stopPropagation||(e.stopPropagation=i),e.preventDefault||(e.preventDefault=r),e.target||(e.target=e.srcElement),e}(t);e.call(this,n)}}function o(e){e&&e.un()}n.d(t,"a",(function(){return p}));var s=n(153),c=n(71),d=n(108);let l="hidden",u="visibilitychange";if(!(l in document)){const e=["webkit","moz","ms","o"];for(const t of e){const e=t+"Hidden";if(e in document){l=e,u=t+"visibilitychange";break}}}const h=new class{constructor(e){void 0===e&&(e=window),this.windowObj=e,this.initYaBrowserApi()}canUseYaBroApi(){return Boolean(this.yaBroApiInstance&&this.yaBroApiInstance.isInCustoPage)}isPageHiddenYaBroApi(){return!(this.yaBroApiInstance&&this.yaBroApiInstance.pageVisible)}initYaBrowserApi(){this.windowObj.browser&&this.windowObj.browser.BrowserEmbeddedApi&&this.windowObj.browser.BrowserEmbeddedApi.getInstance().then(e=>{this.yaBroApiInstance=e})}};class p{constructor(e){this.args=e,this.isDetermined=!0,this.onVisibilityChangeCallback=()=>{this.args.callback(this.getIsVisible())}}static factory(e){return new p(e)}start(){this.timer=window.setTimeout(()=>{this.onVisibilityChangeCallback(),this.subscription=function(e,t,n,r,i){if(!e||!n)return null;let l=a(Object(s.a)("handler:"+t,n,r));const u={un(){Object(c.b)(e,t,l)}};var h;return i&&i.once&&!d.b&&(h=l,l=function(e){h.call(this,e),o(u)}),d.c?Object(c.a)(e,t,l,i):Object(c.a)(e,t,l,i&&i.capture),u}(document,u,this.onVisibilityChangeCallback)})}stop(){window.clearTimeout(this.timer),o(this.subscription)}getIsVisible(){return!(h.canUseYaBroApi()?h.isPageHiddenYaBroApi():Boolean(document[l]))}}},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}},,function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasCookies=function(){var e=new l;try{e.setItem("__test","1");var t=e.getItem("__test");return e.removeItem("__test"),"1"===t}catch(e){return!1}};var o,s=n(260),c=(o=s)&&o.__esModule?o:{default:o},d="lS_",l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.cookieOptions=r({path:"/"},t),d=t.prefix||d}return a(e,[{key:"getItem",value:function(e){var t=c.default.parse(document.cookie);return t&&t.hasOwnProperty(d+e)?t[d+e]:null}},{key:"setItem",value:function(e,t){return document.cookie=c.default.serialize(d+e,t,this.cookieOptions),t}},{key:"removeItem",value:function(e){var t=r({},this.cookieOptions,{maxAge:-1});return document.cookie=c.default.serialize(d+e,"",t),null}},{key:"clear",value:function(){var e=c.default.parse(document.cookie);for(var t in e)0===t.indexOf(d)&&this.removeItem(t.substr(d.length));return null}}]),e}();t.default=l},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=!1},function(e,t,n){"use strict";function r(){const e=d.a||i.a,t=i.a&&c,n=!e&&!(Object(l.a)().length>0);return Object(u.a)()||t||n}n.d(t,"a",(function(){return r}));var i=n(49),a=n(17),o=n(192),s=n(68);const c=function(e){void 0===e&&(e=window);const{major:t,minor:n}=function(e){void 0===e&&(e=window);const t=Object(a.a)(e).match(/AppleWebKit\/(\d+)\.(\d+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}(e),r=Object(o.a)(e),i=Object(s.a)(e);return-1!==t&&-1!==n&&(i&&(t<537||537===t&&n<40)&&(-1===r||r<37))}(window);var d=n(121),l=n(193),u=n(101)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(173);const i=e=>e.filter(r.b)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(37).a.XS},function(e,t,n){"use strict";function r(e){return e>=i.a.M?i.a.L:e>=i.a.S?i.a.M:e>=i.a.XS?i.a.S:i.a.XS}n.d(t,"a",(function(){return r}));var i=n(37)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={state:n(34).a.NOT_PLAYING,type:void 0,adParams:{}}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){void 0===e&&(e={});const t={};for(const n in e){const r=e[n],i=typeof r;"string"!==i&&"number"!==i&&"boolean"!==i||(t[n]=r)}return t}function a(){const{plugins:e}=window.navigator;return void 0===e||0===e.length?[]:Object(s.a)(e,i)}function o(){const e=window.navigator||{},t=window.performance||{},{location:n,referrer:o}=Object(c.a)(document);return{navigator:r({},i(e),{connection:i(e.connection),plugins:a()}),performance:{memory:i(t.memory)},playerLocation:location.href,iframeApiLocation:n,iframeApiReferrer:o}}n.d(t,"a",(function(){return o}));var s=n(38),c=n(103)},function(e,t,n){"use strict";function r(e){return"ya-video-player-"+e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(117);const i=Object(r.a)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="yastatic.net"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=!0},function(e,t,n){"use strict";function r(e){return Object(i.a)(e).filter(e=>{let[,t]=e;return Boolean(t)}).map(e=>{let[t]=e;return t})}n.d(t,"a",(function(){return r}));var i=n(41)},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=i),Math.abs(e-t)<=n}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=Number.EPSILON||Math.pow(2,-52)},function(e,t,n){"use strict";function r(e,t,n){return Math.max(Math.min(t,n)-Math.max(e,0),0)}function i(e){const t=Object(o.a)(e),n=t.width,i=t.height;let a=0;if(n>0&&i>0){const e=function(){const e=window;let t=e.innerWidth,n=e.innerHeight;if(!t){const r=e.document.documentElement;t=r.clientWidth,n=r.clientHeight}return{width:t,height:n}}();a=r(t.left,t.right,e.width)*r(t.top,t.bottom,e.height)/(n*i)}return a}n.d(t,"a",(function(){return s}));const a=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();var o=n(65);class s{constructor(e){this.args=e,this.isDetermined=!0,this.callback=e=>{const t=e[0].intersectionRatio>=this.observer.thresholds[0];this.args.callback(t)},this.threshold=Math.max(2**-149,this.args.portion),this.observer=new IntersectionObserver(this.callback,{threshold:this.threshold})}static factory(e){return"undefined"===typeof IntersectionObserver?null:"thresholds"in IntersectionObserver.prototype&&e.element?new s(e):null}start(){this.observer.observe(this.args.element)}stop(){this.observer.disconnect()}getIsVisible(){return e=this.args.element,t=this.threshold,a?e.offsetWidth>0&&e.offsetHeight>0:i(e)>=(t||Number.MIN_VALUE);var e,t}}},function(e,t,n){"use strict";function r(e){let{videoType:t,currentTime:n,dvrStartTime:r,dvrDuration:s}=e;if(t===i.a.VOD)return o.a;const l=r+s-a.a;if(s===1/0||n>l)return d;if(t!==i.a.LIVE)return o.a;return r+(0===n?0:10)>n?c:o.a}n.d(t,"a",(function(){return r}));var i=n(14),a=n(92),o=n(126),s=n(56);const c={min:s.a,max:1/0},d={min:0,max:s.a}},function(e,t,n){"use strict";function r(e){const t=o(e);return t?()=>{o(e)!==t&&s(e,t)}:i.a}n.d(t,"a",(function(){return r}));var i=n(2),a=n(23);const o=Object(a.a)(Object.getPrototypeOf)?e=>Object.getPrototypeOf(e):e=>e.__proto__||Object.prototype,s=n(203)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return f}));var i=n(15),a=n(65),o=n(23),s=n(175);const c=Object(s.a)(window),d=c.requestAnimationFrame,l=c.cancelAnimationFrame;var u=n(35),h=n(50),p=n(118);class f extends u.a{constructor(e,t){let{lazy:n=!1}=void 0===t?{}:t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:n}}]=e;this.onResize.dispatch({width:t,height:n})};const r=n?{width:NaN,height:NaN}:Object(a.a)(e);if(this.onResize=new h.a({width:r.width,height:r.height},(e,t)=>{let{width:n,height:r}=t;return e.width===n&&e.height===r}),n){const t=d(()=>{const{width:t,height:n}=Object(a.a)(e);this.onResize.dispatch({width:t,height:n})});this.addDestroyHandler(()=>{l(t)})}if(this.addDestroyHandler(()=>{this.onResize.removeAll()}),"undefined"!==typeof ResizeObserver&&Object(o.a)(ResizeObserver))try{const t=new ResizeObserver(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(t){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return r({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:n}=t;if(!n)return;const r=()=>{const t=Object(a.a)(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(i.a)(n,"resize",r,{passive:!0})),this.addDestroyHandler(Object(p.a)(r))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),i=n(68);const a=function(e){void 0===e&&(e=window);const t=Object(r.a)(e).toLowerCase();return/linux/.test(t)&&!Object(i.a)(e)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>(t?"/yandex-video-player-iframe-api-bundles-stable/":"/yandex-video-player-iframe-api-bundles/")+e+"/"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.j)(0)},function(e,t,n){var r=n(128),i=n(320);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};r(i,a);e.exports=i.locals||{}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=document);const n=t.createElement("a");return n.href=e,n.href}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e.__yaMuffleVideoPlayPromiseOriginalPlay||e}function i(){function e(){const e=t.apply(this);return Object(a.a)(e),e}if(!o.a)return;const t=HTMLMediaElement.prototype.play;e.__yaMuffleVideoPlayPromiseOriginalPlay=t,HTMLMediaElement.prototype.play=e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(83),o=n(120)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["strm.yandex.net","strm.yandex.ru","media.strm.yandex.net","cdn.ngenix.net"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);const i=function(e){return void 0===e&&(e=window),/YandexSearch|YaSearchBrowser|YaApp_iOS|YaApp_Android/i.test(Object(r.a)(e))}},function(e,t,n){"use strict";function r(e){return e===i.a.overlay||e===i.a.inrollOverlay||e===i.a.overlaySelfPromo}n.d(t,"a",(function(){return r}));var i=n(9)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=Object(r.j)(30)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(165);const i={manifestTimeout:r.c,levelTimeout:r.b,chunkTimeout:r.a}},function(e,t,n){"use strict";function r(e,t){const n=Object(i.a)(e,t);if(!n)return null;let r=e.document[n.element];return t&&t[n.element]&&(r=t),r||null}n.d(t,"a",(function(){return r}));var i=n(250)},function(e,t,n){"use strict";function r(e){if(void 0===e&&(e=window),!e.navigator)return Object(a.h)(NaN);const{connection:t={}}=e.navigator;return Object(i.a)(t.rtt)?t.rtt:Object(a.h)(NaN)}n.d(t,"a",(function(){return r}));var i=n(8),a=n(0)},function(e,t,n){"use strict";function r(e,t){Object(i.a)(e)!==Object(i.a)(t)&&t.appendChild(e)}n.d(t,"a",(function(){return r}));var i=n(131)},function(e,t,n){"use strict";(function(t){function r(e,t,n){var r,i,s,u,v={tag:null,value:null},E=o(e,4,0),g=o(e,1,0);n||a(e.slice(4));if(0!==[e[8],e[9]][1])return!1;if(!(E in d))return!1;if(v.tag=d[E],"T"===g){if(0===(i=e[10]))v.value=f(e.slice(11));else if(3===i)v.value=p(e.slice(11));else{if(1!==i&&2!==i)return!1;v.value=h(e.slice(11))}"TCON"===E&&parseInt(v.value)&&(v.value=c[parseInt(v.value)])}else if("W"===g)v.value=p(e.slice(10));else if("COMM"===E||"USLT"===E){for(i=e[10],u=0,r=s=14;;r++)if(1===i||2===i){if(0===e[r]&&0===e[r+1]){s=r+2;break}r++}else if(0===e[r]){s=r+1;break}if(0===i||3===i)v.value=p(e.slice(s));else{if(1!==i&&2!==i)return!1;v.value=h(e.slice(s))}}else if("APIC"===E){i=e[10];var m={type:null,mime:null,imageType:null,description:null,data:null};for(u=0,r=s=11;;r++)if(0===e[r]){u=r-s;break}for(m.mime=p(e.slice(s),u),m.type=l[e[s+u+1]]||"other",s+=u+2,u=0,r=s;;r++)if(0===e[r]){u=r-s;break}for(m.description=0===u?null:h(e.slice(s),u),r=s+=u+1;0===e[r];r++)s++;m.data=e.slice(s),v.value=m}return!!v.tag&&v}function i(e){return 2097152*(127&e[0])+16384*(127&e[1])+128*(127&e[2])+(127&e[3])}function a(e){return e.length<4?0:16777216*e[0]+65536*e[1]+256*e[2]+e[3]}function o(e,n,r,i){r=r||0,n<0&&(n+=e.length);var a="";if(E)return(e=e.slice(r,r+n))instanceof t?e.toString():new t(e).toString();for(var o=r;o<r+n;o++)a+=String.fromCharCode(e[o]);return i?a:decodeURIComponent(encodeURIComponent(a))}var s=n(324),c=n(325),d=n(326),l=n(327),u=n(328),h=u.readUTF16String,p=u.readUTF8String,f=u.readISO8859String,v=void 0!==s.File&&void 0!==s.FileReader,E=void 0!==s.Buffer;e.exports={parse:function(e){return new Promise((function(n,r){var i;v&&e instanceof File?((i=new FileReader).onload=function(t){e=new Uint8Array(t.target.result),n(e)},i.readAsArrayBuffer(e)):e instanceof t||e instanceof Uint8Array?n(e):r(new TypeError("argument should be instance of Buffer|Uint8Array|File"))})).then((function(e){var t,n=function(e){if(!e||e.length<128)return!1;e=e.slice(e.length-128);var t={version:{major:1,minor:0}},n=p(e,3),r=/(^[\s\u0000]+|[\s\u0000]+$)/;if("TAG"!==n)return!1;t.title=p(e.slice(3),30).replace(r,""),t.artist=p(e.slice(33),30).replace(r,""),t.album=p(e.slice(63),30).replace(r,""),t.year=p(e.slice(93),4).replace(r,""),0===e[125]?(t.comment=p(e.slice(97),28).replace(r,""),t.version.minor=1,t.track=e[126]):t.comment=p(e.slice(97),30).replace(r,"");return t.genre=c[e[127]]||"",t}(e),o=function(e){if(!e||e.length<20)return!1;var t,n,o,s=function(e,t){if(!e||e.length<10)return!1;var n,r,i;if(t=t||{},"ID3"!==p(e,3))return!1;return n=t.version||(t.version={major:2}),r=t.version.flags||(t.version.flags={}),n.minor=e[3],n.revision=e[4],i=e[5],r.unsync=!0&i,r.xheader=!0&i,r.experimental=!0&i,t}(e.slice(0,14));if(!s)return!1;if(t=s.version.flags,n=10,t.unsync)throw new Error("not support unsynchronisation");t.xheader&&(n+=i(e.slice(10,14)));return o=i(e.slice(6,10)),function(e,t){var n=0,i=t.version;for(;n<e.length;){var o,s,c=a(e.slice(n+4));if(0===c)break;if(!(s=e.slice(n,n+10+c)).length)break;(o=r(s,i.minor,c))&&(t[o.tag]=o.value),n+=s.length}}(e.slice(n,o+n),s),s}(e);if(o){for(t in n)t in o&&""!==o[t]||(o[t]=n[t]);return o.version={v1:n&&n.version,v2:o.version},o}return n?(n.version={v1:n.version,v2:!1},n):{version:!1}}))}}}).call(this,n(323).Buffer)},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=window),Object(i.a)(e.document.querySelectorAll("style[data-ya-player-style]"))}n.d(t,"a",(function(){return r}));var i=n(26)},function(e,t,n){"use strict";function r(e){let{featuresEnabled:t,shouldLoadModern:n}=e;const{playerScriptFileName:r}=Object(a.a)(t);return n?(e=>{switch(e){case i.a.DEFAULT:return i.b.DEFAULT;case i.a.FULL:return i.b.FULL;case i.a.NATIVE_UI:return i.b.NATIVE_UI;case i.a.KINOPOISK:return i.b.KINOPOISK;default:return e}})(r):r}n.d(t,"a",(function(){return r}));var i=n(87);var a=n(263)},function(e,t,n){"use strict";function r(e,t){const n=Object(i.a)(e);if(n.length>0)return n[0];const r=function(e,t){return void 0===e&&(e=window),void 0===t&&(t=e.HTMLVideoElement&&e.HTMLVideoElement.prototype||{}),a.a.filter(e=>{let{enabled:n}=e;return n in t})}(e,t);return r.length>0?r[0]:void 0}n.d(t,"a",(function(){return r}));var i=n(193),a=n(132)},function(e,t){!function(e,t){if(e.Ya=e.Ya||{},Ya.Rum)throw new Error("Rum: interface is already defined");var n=e.performance,r=n&&n.timing&&n.timing.navigationStart||Ya.startPageLoad||+new Date,i=e.requestAnimationFrame;Ya.Rum={enabled:!!n,vsStart:document.visibilityState,vsChanged:!1,_defTimes:[],_defRes:[],_deltaMarks:{},_markListeners:{},_settings:{},_vars:{},init:function(e,t){this._settings=e,this._vars=t},getTime:n&&n.now?function(){return n.now()}:Date.now?function(){return Date.now()-r}:function(){return new Date-r},time:function(e){this._deltaMarks[e]=[this.getTime()]},timeEnd:function(e,t){var n=this._deltaMarks[e];n&&0!==n.length&&n.push(this.getTime(),t)},sendTimeMark:function(e,t,n,r){void 0===t&&(t=this.getTime()),this._defTimes.push([e,t,r]),this.mark(e,t)},sendResTiming:function(e,t){this._defRes.push([e,t])},sendRaf:function(e){var t=this.getSetting("forcePaintTimeSending");if(i&&(t||!this.isVisibilityChanged())){var n=this,r="2616."+e;i((function(){!t&&n.isVisibilityChanged()||(n.getSetting("sendFirstRaf")&&n.sendTimeMark(r+".205"),i((function(){!t&&n.isVisibilityChanged()||n.sendTimeMark(r+".1928")})))}))}},isVisibilityChanged:function(){return this.vsStart&&("visible"!==this.vsStart||this.vsChanged)},mark:n&&n.mark?function(e,t){n.mark(e+(t?": "+t:""))}:function(){},getSetting:function(e){var t=this._settings[e];return null===t?null:t||""},on:function(e,t){"function"==typeof t&&(this._markListeners[e]=this._markListeners[e]||[]).push(t)},sendTrafficData:function(){},finalizeLayoutShiftScore:function(){},finalizeLargestContentfulPaint:function(){}},document.addEventListener&&document.addEventListener("visibilitychange",(function e(){Ya.Rum.vsChanged=!0,document.removeEventListener("visibilitychange",e)}))}(window)},function(e,t){!function(){function e(){var e=Ya.Rum.getSetting("clck"),r=n.join("\r\n");if(n=[],t=null,e&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(e,r))){var i=new XMLHttpRequest;i.open("POST",e),i.send(r)}}var t,n=[];Ya.Rum.send=function(r,i,a,o,s,c,d){clearTimeout(t);var l=Ya.Rum.getSetting("slots"),u=Ya.Rum.getSetting("experiments"),h=["/reqid="+Ya.Rum.getSetting("reqid"),d?"/"+d.join("/"):"",i?"/path="+i:"",s?"/events="+s:"",l?"/slots="+l.join(";"):"",u?"/experiments="+u.join(";"):"",a?"/vars="+a:"","/cts="+(new Date).getTime(),"/*"];n.push(h.join("")),n.length<42?t=setTimeout(e,15):e()}}()},function(e,t){!function(){if(window.PerformanceLongTaskTiming){var e=function(e,t){return(e=e.concat(t)).length>300&&(e=e.slice(e.length-300)),e},t=Ya.Rum._tti={events:[],eventsAfterTTI:[],fired:!1,observer:new PerformanceObserver((function(n){var r=n.getEntries();t.events=e(t.events,r),t.fired&&(t.eventsAfterTTI=e(t.eventsAfterTTI,r))}))};t.observer.observe({entryTypes:["longtask"]})}}()},function(e,t){!function(e){if(!("undefined"!=typeof self?self:window).Ya||!Ya.Rum)throw new Error("Rum: interface is not defined");var t=Ya.Rum;t.getSetting=function(e){var n=t._settings[e];return null===n?null:n||""}}()},function(e,t){!function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function r(e){return"boolean"==typeof e&&(e=+e),"number"==typeof e?e+"":null}var i={client:["690.2354",1e3,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]},a={};t.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"},t._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",dc:"",host:"",service:"",level:"",version:"",yandexuid:"",coordinates_gp:"",referrer:"",preventError:!1,unhandledRejection:!1,uncaughtException:!0,debug:!1,limits:{},silent:{},filters:{},pageMaxAge:864e6,initTimestamp:+new Date};var o=!1;t.initErrors=function(r){n(t._errorSettings,r),!o&&t._errorSettings.uncaughtException&&(function(){if(e.addEventListener)e.addEventListener("error",s),"Promise"in e&&t._errorSettings.unhandledRejection&&e.addEventListener("unhandledrejection",(function(e){var t,n=e.reason,r={};n&&(n.stack&&n.message?t=n.message:"[object Event]"===(t=String(n))?t="event.type: "+n.type:"[object Object]"===t&&(r.unhandledObject=n),n.target&&n.target.src&&(r.src=n.target.src),s({message:"Unhandled rejection: "+t,stack:n.stack,additional:r}))}));else{var n=e.onerror;e.onerror=function(e,t,r,i,a){s({error:a||new Error(e||"Empty error"),message:e,lineno:r,colno:i,filename:t}),n&&n.apply(this,arguments)}}}(),o=!0)},t.updateErrors=function(e){n(t._errorSettings,e)},t.updateAdditional=function(e){t._errorSettings.additional=n(t._errorSettings.additional||{},e)},t._handleError=function(e,n){var r,o,s=t._errorSettings;if(s.preventError&&e.preventDefault&&e.preventDefault(),n)r=e,o="client";else{r=t._normalizeError(e),o=r.type;var c=s.onError;"function"==typeof c&&c(r);var d=s.transform;"function"==typeof d&&(r=d(r))}var l=+new Date,u=s.initTimestamp,h=s.pageMaxAge;if(!(-1!==h&&u&&u+h<l)){var p=i[o][1];"number"==typeof s.limits[o]&&(p=s.limits[o]);var f=i[o][2];"number"==typeof s.silent[o]&&(f=s.silent[o]);var v=i[o][3];if(v<p||-1===p){r.path=i[o][0];var E=t._getErrorData(r,{silent:v<f||-1===f?"no":"yes",isCustom:Boolean(n)},s),g=function(e){a[r.message]=!1,t._sendError(e.path,e.vars),i[o][3]++}.bind(this,E);if(void 0===s.throttleSend)g();else{if(a[r.message])return;a[r.message]=!0,setTimeout(g,s.throttleSend)}}}},t._getErrorData=function(t,i,a){i=i||{};var o="";try{var s=n(n({},a.additional),t.additional);0!==Object.keys(s).length&&(o=JSON.stringify(s))}catch(t){a.debug&&e.console&&console.error("[error-counter] json.stringify:",t)}var c=a.experiments instanceof Array?a.experiments.join(";"):"",d={"-stack":t.stack,"-url":t.file,"-line":t.line,"-col":t.col,"-block":t.block,"-method":t.method,"-msg":t.message,"-env":a.env,"-external":t.external,"-externalCustom":t.externalCustom,"-project":a.project,"-service":t.service||a.service,"-page":t.page||a.page,"-platform":a.platform,"-level":t.level,"-experiments":c,"-version":a.version,"-region":a.region,"-dc":a.dc,"-host":a.host,"-yandexuid":a.yandexuid,"-coordinates_gp":t.coordinates_gp||a.coordinates_gp,"-referrer":a.referrer,"-source":t.source,"-sourceMethod":t.sourceMethod,"-type":i.isCustom?t.type:"","-additional":o,"-adb":r(Ya.blocker)||r(a.blocker),"-cdn":e.YaStaticRegion,"-ua":navigator.userAgent,"-silent":i.silent,"-ts":+new Date,"-init-ts":a.initTimestamp};return a.debug&&e.console&&console[console[t.level]?t.level:"error"]("[error-counter] "+t.message,d,t.stack),{path:t.path,vars:d}},t._baseNormalizeError=function(e){var t=(e=e||{}).filename||e.fileName||"",n=e.error&&e.error.stack||e.stack||"",r=e.message||"";return{file:t,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:n,message:r,additional:e.additional}},t._normalizeError=function(e){var n=t._baseNormalizeError(e),r="uncaught",i=t._isExternalError(n.file,n.message,n.stack),a="",o="";return i.hasExternal?(r="external",a=i.common,o=i.custom):/^Script error\.?$/.test(n.message)&&(r="script"),n.external=a,n.externalCustom=o,n.type=r,n},t._sendError=function(e,n){t.send(null,e,function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&t.push(n+"="+encodeURIComponent(e[n]).replace(/\*/g,"%2A"));return t.join(",")}(n),null,null,null,null)};var s=function(e){t._handleError(e,!1)}}("undefined"!=typeof self?self:window,Ya.Rum)},function(e,t){!function(e){function t(e,t){if(e&&t){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"string"==typeof i&&(i=new RegExp(i)),i instanceof RegExp&&i.test(e)&&n.push(r)}return n.join("_")}}function n(e,n){var i,a=[];for(var o in r)r.hasOwnProperty(o)&&(i=t(e[o],n[o]))&&a.push(o+"~"+i);return a.join(";")}var r={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/^TypeError: undefined is not a function$/,13:/__firefox__\.(?:favicons|metadata|reader|searchQueryForField|searchLoginField)/},stack:{0:/(?:moz|chrome)-extension:\/\//,1:/adguard.*\.user\.js/i}};e._isExternalError=function(t,i,a){var o=e._errorSettings.filters||{},s={url:(t||"")+"",message:(i||"")+"",stack:(a||"")+""},c=n(s,r),d=n(s,o);return{common:c,custom:d,hasExternal:!(!c&&!d)}}}(Ya.Rum)},function(e,t){!function(){"use strict";var e;(e=Ya.Rum).logError=function(t,n){t=t||{},"string"!=typeof n&&void 0!==n||((n=new Error(n)).justCreated=!0);var r=t.message||"",i=e._baseNormalizeError(n);i.message&&(r&&(r+="; "),r+=i.message),i.message=r||"Empty error";for(var a=["service","source","type","block","additional","level","page","method","sourceMethod","coordinates_gp"],o=0;o<a.length;o++){var s=a[o];t[s]?i[s]=t[s]:n&&n[s]&&(i[s]=n[s])}e._handleError(i,!0)}}()},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e})},function(e,t,n){"use strict";function r(e){try{var t=window[e];return t.setItem("__test","1"),t.removeItem("__test"),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"localStorage",t=String(e).replace(/storage$/i,"").toLowerCase();if("local"===t)return r("localStorage");if("session"===t)return r("sessionStorage");if("cookie"===t)return(0,i.hasCookies)();if("memory"===t)return!0;throw new Error("Storage method `"+e+"` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.")};var i=n(213)},function(e,t,n){"use strict";function r(e,t){try{return t(e)}catch(t){return e}}t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},s=e.split(o),c=a.decode||i,d=0;d<s.length;d++){var l=s[d],u=l.indexOf("=");if(!(u<0)){var h=l.substr(0,u).trim(),p=l.substr(++u,l.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==n[h]&&(n[h]=r(p,c))}}return n},t.serialize=function(e,t,n){var r=n||{},i=r.encode||a;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!s.test(o))throw new TypeError("argument val is invalid");var c=e+"="+o;if(null!=r.maxAge){var d=r.maxAge-0;if(isNaN(d))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(d)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return c};var i=decodeURIComponent,a=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return r(e,[{key:"getItem",value:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0}},{key:"setItem",value:function(e,t){return this._data[e]=String(t)}},{key:"removeItem",value:function(e){return delete this._data[e]}},{key:"clear",value:function(){return this._data={}}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return"string"===typeof e?e.split(";"):[]}n.r(t);var i=n(115),a=n(81),o=n(28);!function(){const e=window;if(!e.Ya||!e.Ya.Rum){n(251),n(252),n(253),n(254),n(255),n(256),n(257);try{const e={project:"video-player-iframe-api",env:"production",platform:i.a?"touch":"desktop",version:"1.0-6125".replace("1.0-",""),from:"unknown"},t=location.hash.indexOf("#",1),n=location.hash.substr(1,-1===t?location.hash.length:t).split("&");for(let t=0;t<n.length;t++){const r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}(e=>{const{project:t,env:n,platform:s,version:c,from:d,from_block:l,reqid:u,vsid:h,use_friendly_frame:p}=e;Object(o.d)({useFriendlyFrame:p,vsid:h,from_block:l}),window.Ya.Rum.init({sendClientUa:!0,sendUrlInResTiming:!0,sendFirstRaf:!0,beacon:!0,clck:"https://yandex.ru/clck/click",slots:r(e.slots),crossOrigin:"",reqid:u||h},{"-project":t,"-version":c,"-env":n,"-platform":s,"-service":d,"-page":"stream-player/main",143:i.a?"28.3413.584.64":"28.3413.2048.64","-blocker":a.a?1:void 0,"-additional":decodeURIComponent(Object(o.b)())})})(e),(e=>{const{project:t,env:n,platform:i,version:s,from:c,slots:d,reqid:l,vsid:u}=e;window.Ya.Rum.initErrors({project:t,env:n,platform:i,version:s,slots:r(d),unhandledRejection:!0,debug:!1,reqid:l||u,service:c,page:"stream-player/main",blocker:a.a?1:void 0,additional:Object(o.a)()})})(e)}catch(e){}}}()},function(e,t,n){"use strict";function r(e){if(e.indexOf(i.a.NativeUI)>-1)return{enableSkin:!1,playerScriptFileName:a.a.NATIVE_UI};if(0===e.length)return{enableSkin:!0,playerScriptFileName:a.a.DEFAULT};const t=e.some(e=>o.indexOf(e)>-1),n=e.some(e=>s.indexOf(e)>-1);if(!t&&!n)return{enableSkin:!0,playerScriptFileName:a.a.DEFAULT};if(e.every(e=>o.indexOf(e)>-1))return{enableSkin:!0,playerScriptFileName:a.a.KINOPOISK};return{enableSkin:!0,playerScriptFileName:n?a.a.FULL:a.a.DEFAULT}}n.d(t,"a",(function(){return r}));var i=n(94),a=n(87);const o=[i.a.Xray,i.a.SkippableFragments,i.a.CloseButton],s=[i.a.SkippableFragments,i.a.Xray,i.a.NonStop,i.a.Recommendations]},,,,function(e,t,n){"use strict";(function(e,r){var i,a=n(281);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(275),n(321)(e))},,,,,,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}e.exports=n},,,,,function(e,t,n){var r,i,a;i=[],void 0===(a="function"===typeof(r=function(){return function e(t,n,r){function i(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=r.length,a=0,o=new Uint8Array(i);a<i;++a)o[a]=r.charCodeAt(a);return new v([o],{type:n})}function a(e,t){if("download"in p)return p.href=e,p.setAttribute("download",E),p.className="download-js-link",p.innerHTML="downloading...",p.style.display="none",document.body.appendChild(p),setTimeout((function(){p.click(),document.body.removeChild(p),!0===t&&setTimeout((function(){c.URL.revokeObjectURL(p.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}var o,s,c=window,d="application/octet-stream",l=r||d,u=t,h=!n&&!r&&u,p=document.createElement("a"),f=function(e){return String(e)},v=c.Blob||c.MozBlob||c.WebKitBlob||f,E=n||"download";if(v=v.call?v.bind(c):Blob,"true"===String(this)&&(l=(u=[u,l])[0],u=u[1]),h&&h.length<2048&&(E=h.split("/").pop().split("?")[0],p.href=h,-1!==p.href.indexOf(h))){var g=new XMLHttpRequest;return g.open("GET",h,!0),g.responseType="blob",g.onload=function(t){e(t.target.response,E,d)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&v!==f))return navigator.msSaveBlob?navigator.msSaveBlob(i(u),E):a(u);l=(u=i(u)).type||d}else if(/([\x80-\xff])/.test(u)){for(var m=0,y=new Uint8Array(u.length),A=y.length;m<A;++m)y[m]=u.charCodeAt(m);u=new v([y],{type:l})}if(o=u instanceof v?u:new v([u],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(o,E);if(c.URL)a(c.URL.createObjectURL(o),!0);else{if("string"===typeof o||o.constructor===f)try{return a("data:"+l+";base64,"+c.btoa(o))}catch(e){return a("data:"+l+","+encodeURIComponent(o))}(s=new FileReader).onload=function(e){a(this.result)},s.readAsDataURL(o)}return!0}})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function r(e){return a[Object.keys(a).filter((function(e){return"number"==typeof a[e]})).reverse().find((function(t){return a[t]<=e}))]}var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.estimateConnection=t.scoreToQuality=t.SCORE_MAX_RTT=t.SCORE_MAX_DOWNLINK=t.scorePoints=t.Quality=void 0;var a,o=n(2);!function(e){e[e.NoVideo=0]="NoVideo",e[e.Video360p=2.5]="Video360p",e[e.Video480p=4.5]="Video480p",e[e.Video720p=6.5]="Video720p",e[e.Video1080p=8]="Video1080p",e[e.Video2K=10]="Video2K",e[e.Video4K=11]="Video4K"}(a=t.Quality||(t.Quality={})),t.scorePoints=[[0,a.NoVideo],[.9,a.Video360p],[2.5,a.Video480p],[5,a.Video720p],[7.5,a.Video1080p],[10,a.Video2K],[14,a.Video4K]],t.SCORE_MAX_DOWNLINK=t.scorePoints[t.scorePoints.length-1][0],t.SCORE_MAX_RTT=3e3,t.scoreToQuality=r,t.estimateConnection=function(e,n,a){var s=o.collectMetaData(e,n),c=0,d=t.scorePoints.findIndex((function(e){return e[0]>=s.downlink}));if(d>0){var l=d-1,u=t.scorePoints[l],h=u[0],p=u[1],f=t.scorePoints[d],v=f[0],E=f[1];c=p+(s.downlink-h)/(v-h)*(E-p)}var g=3*s.rtt/t.SCORE_MAX_RTT,m=Math.max(0,Math.round(10*(c-g))/10),y=Math.min(m,10),A=r(m);return!0!==a.disable&&o.sendScoreLog(i(i({},s),{score:y,logOptions:a})),{score:y,quality:A}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.defineProperty(t,"estimateConnection",{enumerable:!0,get:function(){return r.estimateConnection}}),Object.defineProperty(t,"scoreToQuality",{enumerable:!0,get:function(){return r.scoreToQuality}}),Object.defineProperty(t,"Quality",{enumerable:!0,get:function(){return r.Quality}});var i=n(3);Object.defineProperty(t,"Mark",{enumerable:!0,get:function(){return i.Mark}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectMetaData=t.sendScoreLog=t.SCORE_STAT_URL=t.SCORE_STAT_ID=void 0;var r=n(0);t.SCORE_STAT_ID="inet."+Date.now()+"."+Math.random(),t.SCORE_STAT_URL="https://yandex.ru/clck/click",t.sendScoreLog=function(e){var n=["-s="+e.score,"-d="+e.downlink,"-r="+e.rtt,"-nid="+e.niDownlink,"-drs="+e.resDownloadSpeed,"-srv="+encodeURIComponent(e.logOptions.service),"-ua="+encodeURIComponent(navigator.userAgent)].join(","),r=t.SCORE_STAT_URL+"/reqid="+t.SCORE_STAT_ID+"/path=tech.inet.score_stats/vars="+n+"/*",i=new XMLHttpRequest;i.open("get",r),i.send()},t.collectMetaData=function(e,t){var n=e/1e6,i=Math.min(n,r.SCORE_MAX_DOWNLINK),a=Math.min(t,r.SCORE_MAX_RTT),o=null,s=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return s&&s.downlink&&"number"==typeof s.downlink&&(o=s.downlink),{downlink:i,rtt:a,resDownloadSpeed:n,niDownlink:o}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4),t)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Mark=void 0;var a=n(5),o=n(0);n(8);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.getColorClass=function(e){switch(e.quality){case o.Quality.Video4K:return"4K";case o.Quality.Video2K:return"2K";case o.Quality.Video1080p:return e.score<8.5?"1080":e.score<9.5?"1080x":"1080xx";default:return"0"}},t.formatValue=function(e){return e>=10?"10":e.toFixed(1).replace(".",",")},t.prototype.render=function(){var e=this.props,n=e.estimation,r=e.mix;if(void 0===n)return null;var i=t.formatValue(n.score),o=t.getColorClass(n),s="mark"+(o?" mark_"+o:"")+(r?" "+r:"");return a.createElement("div",{className:s},i)},t}(a.Component);t.Mark=s},function(e,t,n){"use strict";e.exports=n(6)},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],d=0;(e=Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n){this.props=e,this.context=t,this.refs=L,this.updater=n||D}function o(){}function s(e,t,n){this.props=e,this.context=t,this.refs=L,this.updater=n||D}function c(e,t,n){var r=void 0,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)F.call(t,r)&&!U.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:A,type:e,key:a,ref:o,props:i,_owner:V.current}}function d(e){return"object"==typeof e&&null!==e&&e.$$typeof===A}function l(e,t,n,r){if(H.length){var i=H.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>H.length&&H.push(e)}function h(e,t,n){return null==e?0:function e(t,n,r,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case A:case S:s=!0}}if(s)return r(a,t,""===n?"."+p(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var d=n+p(o=t[c],c);s+=e(o,d,r,a)}else if("function"==typeof(d=null===t||"object"!=typeof t?null:"function"==typeof(d=N&&t[N]||t["@@iterator"])?d:null))for(t=d.call(t),c=0;!(o=t.next()).done;)s+=e(o=o.value,d=n+p(o,c++),r,a);else"object"===o&&i("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return s}(e,"",t,n)}function p(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function f(e,t){e.func.call(e.context,t,e.count++)}function v(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?E(e,r,n,(function(e){return e})):null!=e&&(d(e)&&(e=function(e,t){return{$$typeof:A,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+n)),r.push(e))}function E(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(x,"$&/")+"/"),h(e,v,t=l(t,a,r,i)),u(t)}function g(){var e=M.current;return null===e&&i("321"),e}var m=n(7),y="function"==typeof Symbol&&Symbol.for,A=y?Symbol.for("react.element"):60103,S=y?Symbol.for("react.portal"):60106,T=y?Symbol.for("react.fragment"):60107,b=y?Symbol.for("react.strict_mode"):60108,O=y?Symbol.for("react.profiler"):60114,R=y?Symbol.for("react.provider"):60109,_=y?Symbol.for("react.context"):60110,P=y?Symbol.for("react.concurrent_mode"):60111,C=y?Symbol.for("react.forward_ref"):60112,I=y?Symbol.for("react.suspense"):60113,w=y?Symbol.for("react.memo"):60115,k=y?Symbol.for("react.lazy"):60116,N="function"==typeof Symbol&&Symbol.iterator,D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L={};a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&i("85"),this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var j=s.prototype=new o;j.constructor=s,m(j,a.prototype),j.isPureReactComponent=!0;var M={current:null},V={current:null},F=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0},x=/\/+/g,H=[],B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return E(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;h(e,f,t=l(null,null,t,n)),u(t)},count:function(e){return h(e,(function(){return null}),null)},toArray:function(e){var t=[];return E(e,t,null,(function(e){return e})),t},only:function(e){return d(e)||i("143"),e}},createRef:function(){return{current:null}},Component:a,PureComponent:s,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:_,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:R,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:C,render:e}},lazy:function(e){return{$$typeof:k,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:w,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return g().useCallback(e,t)},useContext:function(e,t){return g().useContext(e,t)},useEffect:function(e,t){return g().useEffect(e,t)},useImperativeHandle:function(e,t,n){return g().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return g().useLayoutEffect(e,t)},useMemo:function(e,t){return g().useMemo(e,t)},useReducer:function(e,t,n){return g().useReducer(e,t,n)},useRef:function(e){return g().useRef(e)},useState:function(e){return g().useState(e)},Fragment:T,StrictMode:b,Suspense:I,createElement:c,cloneElement:function(e,t,n){null==e&&i("267",e);var r=void 0,a=m({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,c=V.current),void 0!==t.key&&(o=""+t.key);var d=void 0;for(r in e.type&&e.type.defaultProps&&(d=e.type.defaultProps),t)F.call(t,r)&&!U.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==d?d[r]:t[r])}if(1===(r=arguments.length-2))a.children=n;else if(1<r){d=Array(r);for(var l=0;l<r;l++)d[l]=arguments[l+2];a.children=d}return{$$typeof:A,type:e.type,key:o,ref:s,props:a,_owner:c}},createFactory:function(e){var t=c.bind(null,e);return t.type=e,t},isValidElement:d,version:"16.8.6",unstable_ConcurrentMode:P,unstable_Profiler:O,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:M,ReactCurrentOwner:V,assign:m}},K={default:B},Y=K&&B||K;e.exports=Y.default||Y},function(e,t,r){"use strict";function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(n({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,c=i(e),d=1;d<arguments.length;d++){for(var l in n=Object(arguments[d]))o.call(n,l)&&(c[l]=n[l]);if(a){r=a(n);for(var u=0;u<r.length;u++)s.call(n,r[u])&&(c[r[u]]=n[r[u]])}}return c}},function(e,t,n){}])},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.batchedSubscribe=function(e){function t(){s===o&&(s=o.slice())}function n(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var n=!0;return t(),s.push(e),function(){if(n){n=!1,t();var r=s.indexOf(e);s.splice(r,1)}}}function i(){for(var e=o=s,t=0;t<e.length;t++)e[t]()}function a(){e(i)}if("function"!==typeof e)throw new Error("Expected batch to be a function.");var o=[],s=o;return function(e){return function(){function t(){var e=i.dispatch.apply(i,arguments);return a(),e}var i=e.apply(void 0,arguments),o=i.subscribe;return r({},i,{dispatch:t,subscribe:n,subscribeImmediate:o})}}}},function(e,t,n){var r=n(128),i=n(322);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};r(i,a);e.exports=i.locals||{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r=e.length+t.length,i=new Array(r),a=0,o=0,s=0;s<r;){var c=a>=e.length,d=o>=t.length;!c&&(d||n(e[a],t[o])<0)?(i[s]=e[a],a++):(i[s]=t[o],o++),s++}return i}},function(e,t,n){var r=n(335),i={UIEvent:function(){return{view:document.defaultView}},FocusEvent:function(){return i.UIEvent.apply(this,arguments)},MouseEvent:function(e){return{button:0,bubbles:"mouseenter"!==e&&"mouseleave"!==e,cancelable:"mouseenter"!==e&&"mouseleave"!==e,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,clientX:1,clientY:1,screenX:0,screenY:0,view:document.defaultView,relatedTarget:document.documentElement}},WheelEvent:function(e){return i.MouseEvent.apply(this,arguments)},KeyboardEvent:function(){return{view:document.defaultView,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0}}},a={beforeprint:"Event",afterprint:"Event",beforeunload:"Event",abort:"Event",error:"Event",change:"Event",submit:"Event",reset:"Event",cached:"Event",canplay:"Event",canplaythrough:"Event",chargingchange:"Event",chargingtimechange:"Event",checking:"Event",close:"Event",downloading:"Event",durationchange:"Event",emptied:"Event",ended:"Event",fullscreenchange:"Event",fullscreenerror:"Event",invalid:"Event",levelchange:"Event",loadeddata:"Event",loadedmetadata:"Event",noupdate:"Event",obsolete:"Event",offline:"Event",online:"Event",open:"Event",orientationchange:"Event",pause:"Event",pointerlockchange:"Event",pointerlockerror:"Event",copy:"Event",cut:"Event",paste:"Event",play:"Event",playing:"Event",ratechange:"Event",readystatechange:"Event",seeked:"Event",seeking:"Event",stalled:"Event",success:"Event",suspend:"Event",timeupdate:"Event",updateready:"Event",visibilitychange:"Event",volumechange:"Event",waiting:"Event",load:"UIEvent",unload:"UIEvent",resize:"UIEvent",scroll:"UIEvent",select:"UIEvent",drag:"MouseEvent",dragenter:"MouseEvent",dragleave:"MouseEvent",dragover:"MouseEvent",dragstart:"MouseEvent",dragend:"MouseEvent",drop:"MouseEvent",touchcancel:"UIEvent",touchend:"UIEvent",touchenter:"UIEvent",touchleave:"UIEvent",touchmove:"UIEvent",touchstart:"UIEvent",blur:"UIEvent",focus:"UIEvent",focusin:"UIEvent",focusout:"UIEvent",input:"UIEvent",show:"MouseEvent",click:"MouseEvent",dblclick:"MouseEvent",mouseenter:"MouseEvent",mouseleave:"MouseEvent",mousedown:"MouseEvent",mouseup:"MouseEvent",mouseover:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",contextmenu:"MouseEvent",wheel:"WheelEvent",message:"MessageEvent",storage:"StorageEvent",timeout:"StorageEvent",keydown:"KeyboardEvent",keypress:"KeyboardEvent",keyup:"KeyboardEvent",progress:"ProgressEvent",loadend:"ProgressEvent",loadstart:"ProgressEvent",popstate:"PopStateEvent",hashchange:"HashChangeEvent",transitionend:"TransitionEvent",compositionend:"CompositionEvent",compositionstart:"CompositionEvent",compositionupdate:"CompositionEvent",pagehide:"PageTransitionEvent",pageshow:"PageTransitionEvent"},o={Event:"initEvent",UIEvent:"initUIEvent",FocusEvent:"initUIEvent",MouseEvent:"initMouseEvent",WheelEvent:"initMouseEvent",MessageEvent:"initMessageEvent",StorageEvent:"initStorageEvent",KeyboardEvent:"initKeyboardEvent",ProgressEvent:"initEvent",PopStateEvent:"initEvent",TransitionEvent:"initEvent",HashChangeEvent:"initHashChangeEvent",CompositionEvent:"initCompositionEvent",DeviceMotionEvent:"initDeviceMotionEvent",PageTransitionEvent:"initEvent",DeviceOrientationEvent:"initDeviceOrientationEvent"},s={initEvent:[],initUIEvent:["view","detail"],initKeyboardEvent:["view","char","key","location","modifiersList","repeat","locale"],initKeyEvent:["view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initMouseEvent:["view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initHashChangeEvent:["oldURL","newURL"],initCompositionEvent:["view","data","locale"],initDeviceMotionEvent:["acceleration","accelerationIncludingGravity","rotationRate","interval"],initDeviceOrientationEvent:["alpha","beta","gamma","absolute"],initMessageEvent:["data","origin","lastEventId","source"],initStorageEvent:["key","oldValue","newValue","url","storageArea"]},c={UIEvent:window.UIEvent,FocusEvent:window.FocusEvent,MouseEvent:window.MouseEvent,WheelEvent:window.MouseEvent,KeyboardEvent:window.KeyboardEvent};t.generate=function(e,t){if(!a.hasOwnProperty(e))throw new SyntaxError("Unsupported event type");var n,d,l=a[e],u=function(e,t){if("KeyboardEvent"===e&&t)return{keyCode:t.keyCode||0,key:t.key||0,which:t.which||t.keyCode||0}}(l,t);t instanceof window.Event||(t=l in i?r({bubbles:!0,cancelable:!0},i[l](e,t),t):r({bubbles:!0,cancelable:!0},t));var h=c[l]||window.Event;try{for(d in n=new h(e,t),u)Object.defineProperty(n,d,{value:u[d]});return n}catch(e){}var p=window.navigator.userAgent.toLowerCase();Math.max(p.indexOf("msie"),p.indexOf("trident"))>=0&&"KeyboardEvent"===l&&(l="UIEvent");var f=o[l];if(!document.createEvent){for(d in n=r(document.createEventObject(),t),u)Object.defineProperty(n,d,{value:u[d]});return n}if(n=r(document.createEvent(l),t),"initKeyboardEvent"===f)if(void 0===n[f])f="initKeyEvent";else if(!("modifiersList"in t)){var v=[];t.metaKey&&v.push("Meta"),t.altKey&&v.push("Alt"),t.shiftKey&&v.push("Shift"),t.ctrlKey&&v.push("Control"),t.modifiersList=v.join(" ")}var E=s[f].map((function(e){return t[e]}));for(d in n[f].apply(n,[e,t.bubbles,t.cancelable].concat(E)),u)Object.defineProperty(n,d,{value:u[d]});return n},t.simulate=function(e,n,r){var i=t.generate(n,r);return document.createEvent?e.dispatchEvent(i):e.fireEvent("on"+n,i)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(t=e.exports=n(111)(!1)).push([e.i,"._3IkwtZe{z-index:0;position:absolute}._3dD-e8F,._3IkwtZe{width:100%;height:100%}._2n8_7eB{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}",""]),t.locals={player__video:"_3IkwtZe",playerVideo:"_3IkwtZe",player__skinWrapper:"_3dD-e8F",playerSkinWrapper:"_3dD-e8F",player__slot:"_2n8_7eB",playerSlot:"_2n8_7eB"}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){(t=e.exports=n(111)(!1)).push([e.i,"#ZXrWmGG{opacity:1;pointer-events:none}",""]),t.locals={overlapAdContainer:"ZXrWmGG"}},function(e,t){function n(){throw new Error("Buffer is not included.")}n.isBuffer=function(){return!1},t.INSPECT_MAX_BYTES=50,t.SlowBuffer=n,t.Buffer=n},function(e,t,n){(function(t){var n;"object"===typeof window&&window.window===window?(n=window).ID3={}:n="object"===typeof t&&t.global===t?t:this,"slice"in Uint8Array.prototype||(Uint8Array.prototype.slice=Uint8Array.prototype.subarray),e.exports=n}).call(this,n(275))},function(e,t,n){"use strict";e.exports=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"]},function(e,t,n){"use strict";e.exports={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image"}},function(e,t,n){"use strict";e.exports=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","writer","location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"]},function(e,t,n){"use strict";var r={readUTF16String:function(e,t,n){var r=0,i=1,a=0;n=Math.min(n||e.length,e.length),254===e[0]&&255===e[1]?(t=!0,r=2):255===e[0]&&254===e[1]&&(t=!1,r=2),t&&(i=0,a=1);var o,s,c,d,l,u=[];for(l=0;r<n&&(o=e[r+i],s=e[r+a],r+=2,0!==(c=(o<<8)+s));l++)o<216||o>=224?u[l]=String.fromCharCode(c):(d=(e[r+i]<<8)+e[r+a],r+=2,u[l]=String.fromCharCode(c,d));return u.join("")},readUTF8String:function(e,t){var n=0;t=Math.min(t||e.length,e.length),239===e[0]&&187===e[1]&&191===e[2]&&(n=3);for(var r=[],i=0;n<t;i++){var a,o,s,c=e[n++];if(0===c)break;c<128?r[i]=String.fromCharCode(c):c>=194&&c<224?(a=e[n++],r[i]=String.fromCharCode(((31&c)<<6)+(63&a))):c>=224&&c<240?(a=e[n++],o=e[n++],r[i]=String.fromCharCode(((15&c)<<12)+((63&a)<<6)+(63&o))):c>=240&&c<245&&(s=((7&c)<<18)+((63&(a=e[n++]))<<12)+((63&(o=e[n++]))<<6)+(63&e[n++])-65536,r[i]=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return r.join("")},readNullTerminatedString:function(e,t){var n,r,i=[];for(t=t||e.length,n=0;n<t&&0!==(r=e[n++]);)i[n-1]=String.fromCharCode(r);return i.join("")},readISO8859String:function(e,t){var n,r,i=[];for(t=t||e.length,n=0;n<t;)r=e[n++],i[n-1]=String.fromCharCode(r);return i.join("")}};e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return i}));const r={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,n){(t=e.exports=n(111)(!1)).push([e.i,"video._20Eh5WL::-webkit-media-controls{display:none!important}video._1ll4Zna::-webkit-media-controls-current-time-display,video._1ll4Zna::-webkit-media-controls-time-remaining-display{visibility:hidden!important}video._3D52tih::-webkit-media-controls-timeline{visibility:hidden!important}video._2yNfXKt::-webkit-media-controls-toggle-closed-captions-button{display:none}",""]),t.locals={video_hiddenControls:"_20Eh5WL",videoHiddenControls:"_20Eh5WL",video_hiddenTime:"_1ll4Zna",videoHiddenTime:"_1ll4Zna",video_hiddenTimeline:"_3D52tih",videoHiddenTimeline:"_3D52tih",video_hiddenSubtitlesBtn:"_2yNfXKt",videoHiddenSubtitlesBtn:"_2yNfXKt"}},function(e,t,n){var r=n(128),i=n(332);"string"===typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};r(i,a);e.exports=i.locals||{}},function(e,t,n){(e.exports=n(111)(!1)).push([e.i,".StreamPlayer{position:relative;background:#000;width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;text-align:left;outline:0}.StreamPlayer_ui{width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;user-select:none;text-align:left;outline:0;position:absolute;top:0;left:0;pointer-events:none;background:0 0}.StreamPlayer .hidden{display:none!important}.StreamPlayer>iframe.container{position:absolute;width:100%;height:100%;border:0}.StreamPlayer .adSkin{position:absolute;width:100%;height:100%;pointer-events:none}.StreamPlayer video{width:100%;height:100%}.StreamPlayer video::-webkit-media-controls-start-playback-button{z-index:2147483647!important}.StreamPlayer video.hide-native-play-button::-webkit-media-controls-start-playback-button{display:none!important}",""])},function(e,t){!function(e,t){function n(){_=e.getVarsList(),e.getSetting("sendClientUa")&&_.push("1042="+encodeURIComponent(navigator.userAgent))}function r(){P=_.concat(["143.2129="+W])}function i(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function a(){var t;e.getSetting("disableOnLoadTasks")||(removeEventListener("load",a),(t=e.getSetting("periodicStatsIntervalMs"))||null===t||(t=15e3),t&&(G=setInterval(h,t)),addEventListener("beforeunload",h),function(){if(L){p(j.getEntriesByType("navigation")),p(j.getEntriesByType("resource"));try{new L((function(e){p(e.getEntries())})).observe({entryTypes:["resource","navigation"]})}catch(e){}e._periodicTasks.push(v)}}(),function(){if(L)try{new L((function(e,t){var n=e.getEntries()[0];n&&(l("first-input",n.processingStart-n.startTime),t.disconnect())})).observe({type:"first-input",buffered:!0})}catch(e){}}(),function(){if(L){var e=new L((function(e){var t=e.getEntries();null==z&&(z=0);for(var n=0;n<t.length;n++){var r=t[n];r.hadRecentInput||(z+=r.value)}}));try{e.observe({type:"layout-shift",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(e){}E()}})),addEventListener("beforeunload",E)}}(),function(){if(L&&(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())){var t=new L((function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];J=r.renderTime||r.loadTime}Z||(s("largest-loading-elem-paint",J),Z=!0)}));try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}g()}})),addEventListener("beforeunload",g)}}())}function o(){var t=M.domContentLoadedEventStart,n=M.domContentLoadedEventEnd;if(0!==t||0!==n){var r=_.concat(["2129="+W,"1036="+(M.domainLookupStart-W),"1037="+(M.domainLookupEnd-M.domainLookupStart),"1038="+(M.connectEnd-M.connectStart),M.secureConnectionStart&&"1383="+(M.connectEnd-M.secureConnectionStart),"1039="+(M.responseStart-M.connectEnd),"1040="+(M.responseEnd-M.responseStart),"1040.906="+(M.responseEnd-M.domainLookupStart),"1310.2084="+(M.domLoading-M.responseStart),"1310.2085="+(M.domInteractive-M.responseStart),"1310.1309="+(n-t),"1310.1007="+(t-M.responseStart),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(C).forEach((function(e){e in M&&M[e]&&r.push(C[e]+"="+O(M[e],W))})),e.vsStart?(r.push("1484="+(I[e.vsStart]||2771)),e.vsChanged&&r.push("1484.719=1")):r.push("1484="+I.visible),V&&(V.redirectCount&&r.push("1384.1385="+V.redirectCount),1!==V.type&&2!==V.type||r.push("770.76="+V.type)),y(r),R("690.1033",r)}else setTimeout(o,50)}function s(n,r,i,a){r===t&&(r=D()),i!==t&&!0!==i||e.mark(n,r);var o=T(n);if(o.push("207="+O(r)),c(o,a)){R("690.2096.207",o),U[n]=U[n]||[],U[n].push(r);var s=e._markListeners[n];s&&s.length&&s.forEach((function(e){e(r)}))}}function c(e,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var r=e.reduce((e,t,n)=>("string"==typeof t&&(e[t.split("=")[0]]=n),e),{});Object.keys(n).forEach((function(i){if("function"!=typeof n[i]){var a=r[i],o=i+"="+n[i];a!==t?e[a]=o:e.push(o)}}))}return!0}function d(e,t){var n=H[e];n&&0!==n.length&&(n.push(D(),t),l(e))}function l(n,r,i){var a,o,s,d=H[n];if(void 0!==r?a=(o=e.getTime())-r:d&&(a=d[0],o=d[1],s=d[2]),a!==t&&o!==t){var l=T(n);l.push("207.2154="+O(a),"207.1428="+O(o),"2877="+O(o-a)),c(l,i)&&c(l,s)&&(R("690.2096.2877",l),delete H[n])}}function u(t,n){A(n,(function(r){if(r){var i=T(t);e.getSetting("sendUrlInResTiming")&&i.push("13="+encodeURIComponent(n)),b(i,r[0]),R("690.2096.2044",i)}}))}function h(){var t=!1;e._periodicTasks.forEach((function(e){e()&&(t=!0)})),t||clearInterval(G)}function p(e){if(e&&e.length)for(var t=x,n=0;n<e.length;n++){var r=f(e[n]);if(r){var i=r.domain+"-"+r.extension,a=t[i]=t[i]||{count:0,size:0};a.count++,a.size+=r.size}}}function f(e){var t=e.transferSize;if(null!=t){K.href=e.name;var n=K.pathname;if(0!==n.indexOf("/clck")){var r=n.lastIndexOf("."),i="";return-1!=r&&n.lastIndexOf("/")<r&&n.length-r<=5&&(i=n.slice(r+1)),{size:t,domain:K.hostname,extension:i}}}}function v(){var t=e.getSetting("maxTrafficCounters")||250;if(Q>=t)return!1;for(var n=Object.keys(x),r="",i=0;i<n.length;i++){var a=n[i],o=x[a];r+=encodeURIComponent(a)+"!"+o.count+"!"+o.size+";"}r.length&&(Q++,R("690.2096.361",_.concat(["d="+r,"t="+O(D())])));return x={},Q<t}function E(){if(null!=z){var e=Math.round(1e6*z)/1e6;R("690.2096.4004",_.concat("s="+e)),z=null}}function g(){null!=J&&(s("largest-contentful-paint",J),J=null)}function m(t,n,r){if(e._tti){var i=D(),a=function(t,a,o){var c={2796.2797:S(o,n),689.2322:O(i)};r&&Object.keys(r).forEach((function(e){c[e]=r[e]})),s(t||"2795",a,!0,c),e._tti.fired=!0};!function r(){var o,s=n||i,c=D(),d=e._tti.events||[],l=d.length;0!==l&&(o=d[l-1],s=Math.max(s,Math.floor(o.startTime+o.duration))),c-s>=3e3?a(t,s,d):c-s>=2e4?a(t,(n||i)+2e4,d):setTimeout(r,1e3)}()}}function y(e){F&&e.push("2437="+(w[F.type]||2771),F.downlinkMax!==t&&"2439="+F.downlinkMax,F.effectiveType&&"2870="+F.effectiveType,F.rtt!==t&&"rtt="+F.rtt,F.downlink!==t&&"dwl="+F.downlink)}function A(e,t){if(!Y)return t(null);B.href=e;var n=B.href,r=0,i=100;setTimeout((function e(){var a=j.getEntriesByName(n);if(a.length)return t(a);r++<10?(setTimeout(e,i),i+=i):t(null)}),0)}function S(e,t){return t=t||0,(e=e||[]).filter((function(e){return e.startTime-t>=-50})).map((function(e){var t=e.name?e.name.split("-").map((function(e){return e[0]})).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)})).join(".")}function T(t){return P.concat(["1701="+t,e.ajaxStart&&"1201.2154="+O(e.ajaxStart),e.ajaxComplete&&"1201.2052="+O(e.ajaxComplete)])}function b(e,t){Object.keys(C).forEach((function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(C[n]+"="+O(r))}}))}function O(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function R(t,n){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var i=n.filter(Boolean).join(",");e.send(null,t,i)}if(!e)throw new Error("Rum: interface is not included");if(!e.enabled)return e.getSetting=function(){return""},e.getVarsList=function(){return[]},void(e.getResourceTimings=e.pushConnectionTypeTo=e.pushTimingTo=e.normalize=e.sendCounter=e.sendDelta=e.sendTimeMark=e.sendResTiming=e.sendTTI=e.makeSubPage=e.sendHeroElement=e.onReady=function(){});e.getVarsList=function(){var t=e._vars;return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")}))},e.setVars=function(t){Object.keys(t).forEach((function(n){e._vars[n]=t[n]})),n(),r()};var _,P,C={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},I={visible:1,hidden:2,prerender:3},w={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},k={"first-paint":2793,"first-contentful-paint":2794},N=Object.keys(k).length,D=e.getTime,L=window.PerformanceObserver,j=window.performance||{},M=j.timing||{},V=j.navigation||{},F=navigator.connection,U={},x={},H=e._deltaMarks,B=document.createElement("link"),K=document.createElement("a"),Y="function"==typeof j.getEntriesByType,W=M.navigationStart;if(n(),r(),e.ajaxStart=0,e.ajaxComplete=0,L)try{new L((function(e,t){var n=e.getEntriesByType("navigation")[0];if(n){t&&t.disconnect();var r=[];b(r,n),y(r),R("690.2096.2892",_.concat(r))}})).observe({entryTypes:["navigation"]})}catch(e){}i((function(){W&&setTimeout((function(){e.sendTimeMark=s,e.sendResTiming=u,e.timeEnd=d;for(var t=e._defRes;t.length;){var n=t.shift();u(n[0],n[1])}for(var r=e._defTimes;r.length;){var i=r.shift();s(i[0],i[1],!1,i[2])}Object.keys(H).forEach((function(e){l(e)})),o(),function t(){if(Y&&(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())){for(var n=j.getEntriesByType("paint"),r=0;r<n.length;r++){var i=n[r],a=k[i.name];a&&!q[i.name]&&(q[i.name]=!0,X++,s("1926."+a,i.startTime))}if(X<N)try{new L((function(e,n){t(),n&&n.disconnect()})).observe({entryTypes:["paint"]})}catch(e){}}}(),e.getSetting("sendAutoElementTiming")&&$(),m(),"complete"===document.readyState?a():addEventListener("load",a)}),0)})),e._getCommonVars=function(){return _};var G,q={},X=0;e.getTimeMarks=function(){return U},e._periodicTasks=[];var z,Q=0,J=null,Z=!1,$=L?function(){if(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())try{new L((function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];s("element-timing."+r.identifier,r.startTime)}})).observe({type:"element",buffered:!0})}catch(e){}}:function(){};e.sendTTI=m,e.sendHeroElement=function(e){s("2876",e)},e._subpages={},e.makeSubPage=function(t,n){var r=e._subpages[t];e._subpages[t]=void 0===r?r=0:++r;var i=!1;return{689.2322:O(void 0!==n?n:D()),2924:t,2925:r,isCanceled:function(){return i},cancel:function(){i=!0}}},e._getLongtasksStringValue=S,e.getResourceTimings=A,e.pushConnectionTypeTo=y,e.pushTimingTo=b,e.normalize=O,e.sendCounter=R,e.sendDelta=l,e.sendTrafficData=v,e.finalizeLayoutShiftScore=E,e.finalizeLargestContentfulPaint=g,e.onReady=i}(Ya.Rum)},function(e,t){Ya.Rum.enabled&&addEventListener("load",(function e(){removeEventListener("load",e);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),r=0,i=n.length;r<i;r++){var a=n[r],o=a.src;if(!o){var s=getComputedStyle(a).backgroundImage;if(s){var c=s.match(/^url\(["']?(.*?)["']?\)$/);c&&(o=c[1])}}o&&t.sendResTiming(a.getAttribute("data-rCid"),o)}}))},function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){void 0===e&&(e=window);const t=Object(So.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}function i(){return void 0!==function(){const{webapis:e={avplay:void 0}}=window;return e.avplay}()}function a(e){let{preferNative:t=!1}=void 0===e?{}:e;return i()&&(t||Ro||_o)}function o(e){return!!Object(Lo.a)(e)&&e.isProxyElement}function s(e){return o(e)&&"webos"===e.proxyElementType}function c(e){let{preferNative:t=!1}=void 0===e?{}:e;return No.a&&(t||Fo.b||Fo.c)}function d(e,t,n){return e>n?n:e<t?t:e}function l(e){return Object(qo.a)(e).map(e=>{let{screenX:t,screenY:n}=e;return{screenX:t,screenY:n}})}function u(e,t,n){function r(e){let{touches:t}=e;return Object(Lo.a)(t)&&t.length===h}function i(){return f>0}function a(){i()&&(window.clearTimeout(f),f=0,s=[])}function o(e){a(),p=!1}let s,{threshold:c=zo,delay:d=Qo,handleContextmenu:u=!1,touchesCount:h=1}=void 0===n?{}:n,p=!1,f=0;const v=Object(Ko.a)(e,"touchstart",(function(e){r(e)&&(s=l(e.touches),a(),f=window.setTimeout(()=>{i()&&t()},d),p=!0)}),{passive:!0}),E=Object(Ko.a)(e,"touchend",o,{passive:!0}),g=Object(Ko.a)(e,"touchcancel",o,{passive:!0}),m=Object(Ko.a)(e,"touchmove",(function(e){i()&&(r(e)?function(e){if(e.length!==s.length)return!0;for(let t=0;t<e.length;t++){if(Math.abs(s[t].screenX-e[t].screenX)>c)return!0;if(Math.abs(s[t].screenY-e[t].screenY)>c)return!0}return!1}(l(e.touches))&&a():a())}),{passive:!0}),y=u?Object(Ko.a)(e,"contextmenu",(function(e){!i()&&p||(a(),t(e))}),{passive:!1}):Xo.a;return()=>{a(),v(),E(),g(),m(),y()}}function h(e,t,n){let r,i=0;const a=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.call(n,...r)};return function(){const e=Date.now(),n=e-i;clearTimeout(r);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];n<t?r=window.setTimeout(a,t-n,...s):(i=e,a(...s))}}function p(e,t){Object(is.a)(t).forEach(n=>{const r=t[n];null===r?e.removeAttribute(n):e.setAttribute(n,r)})}function f(e){const t=e.navigator;if(!t)return;const{userActivation:n}=t;if(!Object(Lo.a)(n))return;const{isActive:r,hasBeenActive:i}=n;return{isActive:r,hasBeenActive:i}}function v(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:n}=t[e].prototype;return n&&Object(Ss.a)(n)?n:void 0}function E(e){if(!Ts.a)return Promise.reject();const t=Object(bs.a)(e.play);if(Object(Ss.a)(t))return t.call(e);const n=v("HTMLVideoElement")||v("HTMLMediaElement");if(n)return n.call(e);const r=document.createElement("div");r.style.display="none",document.body.appendChild(r);const i=v("HTMLMediaElement",Object(As.a)(r).contentWindow);if(i){const t=i.call(e);return Object(gs.a)(r),t}return e.play()}function g(e){const{error:t}=e;return new jo(t)}function m(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);const t=Object(So.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1}(e))return T({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Rs.PlayStationSmartTV})}function y(e,t){void 0===t&&(t={});let n=0;const r=[],i=(t,i)=>{r.push(Object(Ko.a)(e,t,i,Cs)),clearTimeout(n)},a=()=>Object(es.a)(r),o=new Promise((r,a)=>{const o=t=>{e.paused&&a(t)},s=E(e);if(o(_s.VideoTagPaused),i("durationchange",()=>o(_s.VideoTagPausedAfterDurationChange)),i("error",()=>o(_s.VideoTagPausedAfterError)),i("pause",()=>a(_s.PauseEvent)),i("playing",()=>{r(_s.PlayingEvent)}),s)t.useProgressEvent&&i("progress",()=>{r(_s.ProgressEvent)}),s.then(()=>r(_s.PromiseResolve)).catch(e=>a(function(e){return e?_s.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":_s.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(n=window.setTimeout(()=>{a(_s.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function A(e,t){const{paused:n}=e,r=t();return n||Object(ns.a)(E(e)),r}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e){let{canPlayUnMuted:t,canPlayMuted:n,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:n,requireMute:!t&&n,requireUserGesture:!t&&!n,detectionMethod:r}}function b(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Os(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),T({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Rs.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),T({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:Rs.YaBroAllowedToPlay})):(t(),T({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Rs.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),Object(Ps.a)(e))return T({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Rs.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const n=function(e){if(void 0===e&&(e=window),Po(e))return T({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Rs.OrsaySmartTV})}();if(void 0!==n)return Promise.resolve(n);const r=m();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(S({},Ns,{detectionMethod:Rs.TizenAVPlay}));const i=function(e){if(void 0===e&&(e=window),To(e))return bo(e)?T({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Rs.Tizen23SmartTV}):T({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Rs.TizenSmartTVModern})}();if(void 0!==i)return Promise.resolve(i);return vs.a&&fs<=9||Is?Promise.resolve(S({},ks,{detectionMethod:Rs.IOS9OrLess})):Ts.a?ws?Promise.resolve(S({},Ns,{detectionMethod:Rs.OldIE})):void 0:Promise.resolve(S({},ks,{detectionMethod:Rs.HTML5VideoIsNotSupported}))}function O(e){let t,n,{videoSlot:r,autoplay:i,muted:a,allowMuted:o}=e;if(!i){const e={autoplay:!1,muted:a,detectionMethod:Ls.AutoplayDisabled};return{promise:Promise.resolve(e),abort:Xo.a}}return{promise:new Promise(async e=>{t=e;const{promise:i,stop:s}=function(e,t){let{checkSoundEnabled:n=!0}=void 0===t?{}:t;const r=b(e),i=new Ds(e,{checkSoundEnabled:n,promise:r});return{promise:i.promise,stop:i.stop}}(r,{checkSoundEnabled:!a});n=s;const{requireMute:c,requireUserGesture:d,detectionMethod:l}=await i.catch(()=>Ns);e(function(e){let{requireUserGesture:t,requireMute:n,muted:r,allowMuted:i,detectionMethod:a}=e;return t?{autoplay:!1,muted:r,autoplayImpossible:!0,detectionMethod:a}:n?r?{autoplay:!0,muted:!0,detectionMethod:a}:i?{autoplay:!0,muted:!0,requireUserGestureToUnmute:!0,detectionMethod:a}:{autoplay:!1,muted:r,autoplayImpossible:!0,requireAllowMutedToAutoplay:!0,detectionMethod:a}:{autoplay:!0,muted:r,detectionMethod:a}}({requireUserGesture:d,requireMute:c,muted:a,allowMuted:o,detectionMethod:l}))}),abort:()=>{n(),t({autoplay:!0,muted:a,detectionMethod:Ls.RASAborted})}}}function R(e){return Boolean(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e){let{event:t}=e;const n=t.touches[0]||t.changedTouches[0];return{clientX:n?n.clientX:-1,clientY:n?n.clientY:-1}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e){Nc[e]=!0}function w(e){Nc[e]=!1}function k(e){return!!Nc[e]}function N(e){if(Dc.checkExisting&&k(e))throw new TypeError("Duplicate action type: ".concat(e))}function D(){return Object.keys(Nc).filter(k)}function L(){D().forEach(w)}function j(){Dc.checkExisting=!0}function M(){Dc.checkExisting=!1}function V(e,t,n){function r(){var e=t.apply(void 0,arguments);return n?{type:o,payload:e,error:e instanceof Error,meta:n.apply(void 0,arguments)}:{type:o,payload:e,error:e instanceof Error}}function i(){return c(s,!1).apply(void 0,arguments)}"function"===typeof e&&(n=t,t=e,e=void 0),"function"!==typeof t&&(t=jc),"function"!==typeof n&&(n=void 0);var a="string"===typeof e&&/^[0-9A-Z_]+$/.test(e);a?(N(e),I(e)):++Lc;var o=a?e:"[".concat(Lc,"]").concat(e?" "+e:""),s=void 0,c=function(e,t){return function(){var n=r.apply(void 0,arguments);return n.error||(n.error=t),Array.isArray(e)?e.map((function(e){return e(n)})):e?e(n):n}};return i.asError=function(){return c(s,!0).apply(void 0,arguments)},i.getType=function(){return o},i.toString=function(){return o},i.raw=r,i.assignTo=function(e){return s=Vc(e),i},i.assigned=function(){return!!s},i.bound=function(){return!1},i.dispatched=i.assigned,i.bindTo=function(e){var t=c(Vc(e));return t.asError=c(Vc(e)),t.raw=r,t.getType=i.getType,t.toString=i.toString,t.assignTo=function(){return t},t.bindTo=function(){return t},t.assigned=function(){return!1},t.bound=function(){return!0},t.dispatched=t.bound,t},i}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e){return e&&e.getType?e.toString():e}function x(){function e(e){return!!a[U(e)]}function t(e,n){return Array.isArray(e)?e.forEach((function(e){t(e,n)})):a[U(e)]=n,c}function n(e){return Array.isArray(e)?e.forEach(n):delete a[U(e)],c}function r(e){return Object.keys(e).forEach((function(t){return s[t]=e[t]})),c}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(!t||"string"!==typeof t.type)return e;if(t.type.startsWith("@@redux/"))return e;var n=a[t.type]||s.fallback;return n?s.payload?n(e,t.payload,t.meta):n(e,t):e}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,s={payload:!0,fallback:null},c=F(i,{has:e,on:t,off:n,options:r});if("function"===typeof a){var d=a;a={},d(t,n)}return e(Fc)||t(Fc,(function(e,t){return s.payload?t.reduce(i,e):t.payload.reduce(i,e)})),c}function H(e){return e&&e.type===Uc?(e.payload.type=Uc,e.payload):e}function B(e,t){const n=e.height||0;return(t.height||0)-n}function K(e){return Boolean(e&&e.adType===Pc.a.inroll)}function Y(e,t){const{ad:{originalBroadcastAdCues:n}}=e,r=n[t];if(r){const{start:e}=r;if(void 0===e)return;const{end:t=e+jl}=r;return{start:Object(xs.j)(e),end:Object(xs.j)(t)}}}function W(e){const{ad:{originalBroadcastAdCues:t,adInfo:n}}=e;return K(n)?n.params.cueId:Object(is.a)(t).find(t=>function(e,t){const{controller:{currentTime:n,programDateTime:r}}=e;if(void 0===r)return!1;const i=r/1e3+n,a=Y(e,t);if(!a)return!1;const{start:o,end:s}=a;return o<=i&&i<=s}(e,t))}function G(e){const{controller:{currentTime:t,programDateTime:n}}=e;return void 0===n?n:Object(xs.a)(n,Object(xs.c)(t,1e3))}function q(e,t){return Object(xs.h)(Math.max(e+Kl,t+Bl))}function X(e){let{cue_id:t,pts:n,offset:r,cutoff:i}=e;const a=Object(xs.a)(n,r);return{start:a,isEndReceived:void 0!==i,cueId:t,end:void 0!==i?Object(xs.a)(n,i):q(n,a),isValid:!0,invalidateReason:void 0}}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e){return e.reduce((e,t)=>Object(xs.a)(e,Object(xs.j)(t.getAdDuration())),Object(xs.j)(0))}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(){try{return window.ya.videoAd.getBundleVersion()}catch(e){return"none"}}function $(){try{return window.ya.videoAd.getModuleVersion()}catch(e){return"none"}}async function ee(e){return void 0===e&&(e=Xo.a),await Object($l.c)({src:tu,checkLoad:()=>void 0!==nu(),withCredentials:!0}),e({adSdkVersion:$(),adSdkLoaderVersion:Z()}),nu()("Multiroll")}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e){return new Promise((t,n)=>{Object(iu.a)(te({},e,{onSuccess:t,onError:n}))})}function re(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ie(e,t,n){function r(){p===h&&(p=h.slice())}function i(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function a(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return r(),p.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,r();var n=p.indexOf(e);p.splice(n,1),h=null}}}function o(e){if(!re(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=h=p,n=0;n<t.length;n++){(0,t[n])()}return e}function s(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,o({type:lu.REPLACE})}function c(){var e,t=a;return(e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}})[cu.a]=function(){return this},e}var d;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(ie)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,h=[],p=h,f=!1;return o({type:lu.INIT}),(d={dispatch:o,subscribe:a,getState:i,replaceReducer:s})[cu.a]=c,d}function ae(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function oe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:lu.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:lu.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+lu.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var c=o[s],d=n[c],l=e[c],u=d(l,t);if("undefined"===typeof u){var h=ae(c,t);throw new Error(h)}i[c]=u,r=r||u!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function he(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function pe(e){var t=!1;return function(){t||(t=!0,e())}}function fe(e,t,n){void 0===t&&(t=xu),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:Hu,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function ve(e,t){var n=t.sagaStack;console.error(e),console.error(n)}function Ee(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=Pu(e)?Bu(r):{},s={};return n.forEach((function(e){var n=function(n,s){i||(s||Gu(n)?(t.cancel(),t(n,s)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=Mu,s[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return s[e].cancel()})))},s}function ge(e){return{name:e.name||"anonymous",location:me(e)}}function me(e){return e[Tu]}function ye(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var d;if(r<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=s,a=i=(i+1)%e;break;case 4:d=2*e,n=c(),r=n.length,i=n.length,a=0,n.length=d,e=d,o(s)}},take:s,flush:c}}function Ae(e,t){return void 0===e&&(e="*"),wu(e)?Xu("TAKE",{pattern:e}):ku(n=e)&&n[Eu]&&Ou(t)&&wu(t)?Xu("TAKE",{channel:e,pattern:t}):ku(e)?Xu("TAKE",{channel:e}):void 0;var n}function Se(e,t){return bu(t)&&(t=e,e=void 0),Xu("PUT",{channel:e,action:t})}function Te(e){var t=Xu("ALL",e);return t.combinator=!0,t}function be(e){var t=Xu("RACE",e);return t.combinator=!0,t}function Oe(e,t){var n,r=null;return Ru(e)?n=e:(Pu(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&_u(n)&&Ru(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xu("CALL",Oe(e,n))}function _e(e,t,n){void 0===n&&(n=[]);return Xu("CALL",Oe([e,t],n))}function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xu("FORK",Oe(e,n))}function Ce(e){return void 0===e&&(e=mu),Xu("CANCEL",e)}function Ie(e){void 0===e&&(e=Fu);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xu("SELECT",{selector:e,args:n})}function we(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}function ke(e){try{Le(),e()}finally{je()}}function Ne(e){Ju.push(e),Zu||(Le(),Me())}function De(e){try{return Le(),e()}finally{Me()}}function Le(){Zu++}function je(){Zu--}function Me(){var e;for(je();!Zu&&void 0!==(e=Ju.shift());)ke(e)}function Ve(e){var t="*"===e?rh:_u(e)?th:Pu(e)?$u:Nu(e)?th:Ru(e)?eh:Du(e)?nh:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}function Fe(e){void 0===e&&(e=qu());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(ih):e.isEmpty()?(n.push(r),r.cancel=function(){he(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(ih):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(ih)}}}}}function Ue(){var e,t,n,r,i,a,o=(t=!1,r=n=[],i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(ih)}))},(e={})[Eu]=!0,e.put=function(e){if(!t)if(ah(e))a();else for(var i=n=r,o=0,s=i.length;o<s;o++){var c=i[o];c[vu](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=rh),t?e(ih):(e[vu]=n,i(),r.push(e),e.cancel=pe((function(){i(),he(r,e)})))},e.close=a,e),s=o.put;return o.put=function(e){e[gu]?s(e):Ne((function(){s(e)}))},o}function xe(e,t){var n=e[hu];Ru(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}function He(e){e.isRunning()&&e.cancel()}function Be(e,t){return e+"?"+t}function Ke(e){var t=e.name,n=e.location;return n?t+"  "+Be(n.fileName,n.lineNumber):t}function Ye(e){var t,n,r,i=(t=function(e){return e.cancelledTasks},n=e,(r=[]).concat.apply(r,n.map(t)));return i.length?["Tasks cancelled due to error:"].concat(i).join("\n"):""}function We(e,t,n,r,i,a,o){function s(t,n){if(n){if(u=2,(c={meta:i,cancelledTasks:p}).crashedEffect=dh,lh.push(c),E.isRoot){var r=(a=lh[0],o=lh.slice(1),s=a.crashedEffect?function(e){var t=me(e);return t?t.code+"  "+Be(t.fileName,t.lineNumber):""}(a.crashedEffect):null,["The above error occurred in task "+Ke(a.meta)+(s?" \n when executing effect "+s:"")].concat(o.map((function(e){return"    created by "+Ke(e.meta)})),[Ye(lh)]).join("\n"));uh(),e.onError(t,{sagaStack:r})}l=t,h&&h.reject(t)}else t===Au?u=1:1!==u&&(u=3),d=t,h&&h.resolve(t);var a,o,s,c;E.cont(t,n),E.joiners.forEach((function(e){e.cb(t,n)})),E.joiners=null}var c;void 0===o&&(o=Mu);var d,l,u=0,h=null,p=[],f=Object.create(n),v=function(e,t,n){function r(e){t(),a(),n(e,!0)}function i(t){s.push(t),t.cont=function(i,a){c||(he(s,t),t.cont=Mu,a?r(i):(t===e&&(o=i),s.length||(c=!0,n(o))))}}function a(){c||(c=!0,s.forEach((function(e){e.cont=Mu,e.cancel()})),s=[])}var o,s=[],c=!1;return i(e),{addTask:i,cancelAll:a,abort:r,getTasks:function(){return s}}}(t,(function(){p.push.apply(p,v.getTasks().map((function(e){return e.meta.name})))}),s),E=((c={})[yu]=!0,c.id=r,c.meta=i,c.isRoot=a,c.context=f,c.joiners=[],c.queue=v,c.cancel=function(){0===u&&(u=1,v.cancelAll(),s(Au,!1))},c.cont=o,c.end=s,c.setContext=function(e){Uu(f,e)},c.toPromise=function(){return h||(h=Qu(),2===u?h.reject(l):0!==u&&h.resolve(d)),h.promise},c.isRunning=function(){return 0===u},c.isCancelled=function(){return 1===u||0===u&&1===t.status},c.isAborted=function(){return 2===u},c.result=function(){return d},c.error=function(){return l},c);return E}function Ge(e,t,n,r,i,a,o){function s(e,n){try{var i;n?(i=t.throw(e),uh()):Wu(e)?(l.status=1,s.cancel(),i=Ru(t.return)?t.return(Au):{done:!0,value:Au}):i=Yu(e)?Ru(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==l.status&&(l.status=3),l.cont(i.value)):c(i.value,r,s)}catch(e){if(1===l.status)throw e;l.status=2,l.cont(e,!0)}}function c(t,n,r,i){function a(n,i){o||(o=!0,r.cancel=Mu,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(s,n):e.sagaMonitor.effectResolved(s,n)),i&&function(e){dh=e}(t),r(n,i))}void 0===i&&(i="");var o,s=sh();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:s,parentEffectId:n,label:i,effect:t}),a.cancel=Mu,r.cancel=function(){o||(o=!0,a.cancel(),a.cancel=Mu,e.sagaMonitor&&e.sagaMonitor.effectCancelled(s))},d(t,s,a)}var d=e.finalizeRunEffect((function(t,n,r){if(Cu(t))xe(t,r);else if(Iu(t))Ge(e,t,u.context,n,i,!1,r);else if(t&&t[fu]){(0,ch[t.type])(e,t.payload,r,h)}else r(t)}));s.cancel=Mu;var l={meta:i,cancel:function(){0===l.status&&(l.status=1,s(Au))},status:0},u=We(e,l,n,r,i,a,o),h={task:u,digestEffect:c};return o&&(o.cancel=u.cancel),s(),u}function qe(e,t){var n=e.channel,r=void 0===n?Ue():n,i=e.dispatch,a=e.getState,o=e.context,s=void 0===o?{}:o,c=e.sagaMonitor,d=e.effectMiddlewares,l=e.onError,u=void 0===l?ve:l;for(var h=arguments.length,p=new Array(h>2?h-2:0),f=2;f<h;f++)p[f-2]=arguments[f];var v=t.apply(void 0,p);var E,g=sh();if(c&&(c.rootSagaStarted=c.rootSagaStarted||Mu,c.effectTriggered=c.effectTriggered||Mu,c.effectResolved=c.effectResolved||Mu,c.effectRejected=c.effectRejected||Mu,c.effectCancelled=c.effectCancelled||Mu,c.actionDispatched=c.actionDispatched||Mu,c.rootSagaStarted({effectId:g,saga:t,args:p})),d){var m=le.apply(void 0,d);E=function(e){return function(t,n,r){return m((function(t){return e(t,n,r)}))(t)}}}else E=Fu;var y={channel:r,dispatch:Ku(i),getState:a,sagaMonitor:c,onError:u,finalizeRunEffect:E};return De((function(){var e=Ge(y,v,s,g,ge(t),!0,void 0);return c&&c.effectResolved(g,e),e}))}function Xe(e){return ku(e)?"channel":Nu(e)?String(e):Ru(e)?e.name:String(e)}function ze(e,t,n){function r(t,n){if(s===fh)return ph(t);if(n&&!a)throw s=fh,n;i&&i(t);var r=n?e[a](n):e[s]();return s=r.nextState,o=r.effect,i=r.stateUpdater,a=r.errorState,s===fh?ph(t):o}var i,a,o,s=t;return fe(r,(function(e){return r(null,e)}),n)}function Qe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o={done:!1,value:Ae(e)},s=function(e){return{done:!1,value:Pe.apply(void 0,[t].concat(r,[e]))}},c=function(e){return a=e};return ze({q1:function(){return{nextState:"q2",effect:o,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:s(a)}}},"q1","takeEvery("+Xe(e)+", "+t.name+")")}function Je(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,s={done:!1,value:Ae(e)},c=function(e){return{done:!1,value:Pe.apply(void 0,[t].concat(r,[e]))}},d=function(e){return{done:!1,value:Ce(e)}},l=function(e){return a=e},u=function(e){return o=e};return ze({q1:function(){return{nextState:"q2",effect:s,stateUpdater:u}},q2:function(){return a?{nextState:"q3",effect:d(a)}:{nextState:"q1",effect:c(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:c(o),stateUpdater:l}}},"q1","takeLatest("+Xe(e)+", "+t.name+")")}function Ze(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o={done:!1,value:Ae(e)},s=function(e){return{done:!1,value:Re.apply(void 0,[t].concat(r,[e]))}},c=function(e){return a=e};return ze({q1:function(){return{nextState:"q2",effect:o,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:s(a)}}},"q1","takeLeading("+Xe(e)+", "+t.name+")")}function $e(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Pe.apply(void 0,[Qe,e,t].concat(r))}function et(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Pe.apply(void 0,[Je,e,t].concat(r))}function tt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Pe.apply(void 0,[Ze,e,t].concat(r))}function nt(e,t){return e.volume===t.volume&&e.muted===t.muted}function*rt(e){const{ad:{adInfo:t}}=yield Ie();t||(yield Re(e.publicApi.updateVideoControllerNativeControlsVisibility))}function*it(e){const t=function(e){const{ad:{nextAdInfo:t},controller:{videoType:n}}=e;if(void 0!==t&&("postroll"!==t.adBreakType||n===Us.a.VOD))return Object(xs.j)(t.remainingTime)}(yield Ie());yield Re(e.onNextAdRemainingTimeChange,t)}function*at(e){let{payload:{cueId:t,start:n,end:r}}=e;const{ad:{originalBroadcastAdCues:i}}=yield Ie(),a=Object(Sp.a)(i),o=a[t]||{start:n,end:r};void 0!==n&&(o.start=n),void 0!==r&&(o.end=r),a[t]=o,yield Se(Xc(a))}function ot(e){const t=function(e){return Object(Rp.a)(e)&&Object(Do.g)(e).pathname.slice(1).split("/")[1]||""}(e);return{channel:t,metaInfoUrl:"https://strm.yandex.net/kal/"+t+"/break/last?start_ts={{video-timestamp}}"}}function*st(e,t,n){yield zu(Op);const r=yield Ie(),{ad:{adInfo:i},controller:{stream:a}}=r,o=function(e){const{controller:{stream:t}}=e;if(t)return void 0!==t.metaInfoUrl?t.metaInfoUrl:Object(Rp.a)(t.url)?ot(t.url).metaInfoUrl:void 0}(r);if(!i||!K(i)||i.params.startTimestamp!==e.params.startTimestamp||!a||!o)return;const{startProgramDateTime:s,startVideoTime:c,startTimestamp:d}=i.params,l=Object(xs.a)(s,c),u=Object(xs.a)(l,_p),h=Object(xs.h)(Math.round((l+(Date.now()/ds.a-d))*ds.a)),p=Object(bp.a)(o,"video-timestamp",String(h));let f;try{f=yield t({method:"GET",url:p})}catch(e){return n.onError(new Oc({code:Rc.a.META_INFO_REQUEST_FAILED,details:{url:p},fatal:!1})),void(yield Se(zc({end:u,cueId:i.params.cueId})))}const v=function(e){try{return Object(ru.a)(e)?JSON.parse(e):void 0}catch(e){return}}(f.responseText);if(!Object(Lo.a)(v))return;const{cutoff:E,cue_id:g}=v;if(g!==i.params.cueId)return;const m=Object(rs.a)(E)?Object(xs.b)(Object(xs.a)(h,E),1e3):u;yield Se(zc({end:m,cueId:g})),yield st(e,t,n)}function*ct(e,t){let{payload:n}=t;const{ad:{adInfo:r}}=yield Ie();yield Se(Wc(n)),r&&n&&r.adType!==n.adType?(yield Re(e.onAdStateChange,{state:Tp.a.NOT_PLAYING,type:r.adType,adParams:{}}),yield Re(e.onAdStateChange,{state:Tp.a.PLAYING,type:n.adType,adParams:{}})):r&&!n?yield Re(e.onAdStateChange,{state:Tp.a.NOT_PLAYING,type:r.adType,adParams:{}}):!r&&n&&(yield Re(e.onAdStateChange,{state:Tp.a.PLAYING,type:n.adType,adParams:{}})),void 0!==n&&K(n)&&(yield st(n,ne,e))}function*dt(e){const t=yield Ie(),{ad:{adInfo:n,originalBroadcastAdCueId:r},controller:{watchedTime:i}}=t,a=W(t);if(a&&K(n)){const r=Y(t,a);if(r){const{startProgramDateTime:t,startVideoTime:i,startTimestamp:a}=n.params,o=r.end+ql,s=Object(xs.d)(Object(xs.b)(Object(xs.h)(Date.now()),1e3),a),c=Object(xs.a)(t,i);if(o<Object(xs.a)(s,c)){const t={utc:Object(xs.a)(c,s),videoTime:Object(rs.a)(i)?Object(xs.a)(i,s):void 0};return void e.publicApi.stopAd({stopAdReason:Cc.a.CutOff,data:{loadPositionAfterAd:t}})}}}if(a===r)return;yield Se(Gc(a));let o;void 0!==a?Pp=i:o=Object(xs.d)(i,Pp),yield Re(e.onOriginalBroadcastAdStateChange,{cueId:a,originalBroadcastAdDuration:o})}function*lt(e){const{externalPlayback:{playerListStatus:t}}=yield Ie();if(t!==Xs.CLOSED)return e.logEvent({event:_c.a.ExternalPlaybackCloseButtonClick,params:{}}),void(yield Se(bh(Xs.CLOSED)));e.logEvent({event:_c.a.ExternalPlaybackOpenButtonClick,params:{}}),yield Re(e.publicApi.pause),yield Se(Oh())}function*ut(e){let{payload:t}=e;yield Se(Ih(t))}function*ht(){yield Se(bh(Xs.CLOSED))}function*pt(){yield Se(Oh())}function*ft(e){let{payload:t}=e;t!==Fs.a.PAUSE&&(yield Se(bh(Xs.CLOSED)),yield Se(Nh(!1)))}function*vt(){const{activity:e}=yield be({timeout:zu(Cp),activity:Ae(bh)});if(e)return;const{timeout:t}=yield be({timeout:zu(Ip-Cp),activity:Ae(yh)});t&&(yield Se(bh(Xs.CLOSED)))}function*Et(e,t){let{payload:n}=t;n&&(yield zu(wp),e.logEvent({event:_c.a.ExternalPlaybackCsrfTokenExpired,params:{}}),yield Se(Sh(void 0)))}function*gt(){let e=!1;do{const{payload:t}=yield Ae(il);e=t}while(!e);const{externalPlayback:{playerListStatus:t}}=yield Ie();t!==Xs.CLOSED&&(yield Se(Oh()))}function*mt(e){const{externalPlayback:{playerCsrfToken:t}}=yield Ie();if(t)return;const n=e.publicApi.getExternalRequestController();try{const{promise:t,abort:r}=Np.a.loadCsrfToken(n);e.logEvent({event:_c.a.ExternalPlaybackPlayerCsrfFetching,params:{}}),t[hu]=r;const{token:i}=yield t;yield Se(Sh(i)),e.logEvent({event:_c.a.ExternalPlaybackPlayerCsrfFetchSuccess,params:{}}),yield Se(Th())}catch(t){e.logEvent({event:_c.a.ExternalPlaybackPlayerCsrfFetchError,params:{}})}}function*yt(e,t){let{payload:n}=t;const{controller:{currentTime:r},externalPlayback:{externalPlayerConfig:i}}=yield Ie();yield Se(kh({id:n,status:kp.a.ATTEMPT})),e.logEvent({event:_c.a.ExternalPlaybackPlayerActivate,params:{}});const a=e.publicApi.getExternalRequestController(),o=yield function*(e){yield mt(e);const{externalPlayback:{playerCsrfToken:t}}=yield Ie();return t}(e);try{const{promise:t,abort:s}=Np.a.requestPlay(a,{externalPlayerId:n,startPosition:r,config:i},o);t[hu]=s,yield t,yield Se(kh({id:n,status:kp.a.PLAYING})),yield Se(Nh(!0)),yield Se(bh(Xs.CLOSED)),e.logEvent({event:_c.a.ExternalPlaybackPlayerActivateSucceed,params:{}})}catch(t){yield Se(kh({id:n,status:kp.a.ERROR})),yield Se(Sh(void 0)),e.logEvent({event:_c.a.ExternalPlaybackPlayerActivateFailed,params:{}})}}function At(e){return e.externalPlayback.playerListStatus}function St(e,t){return function(e,t){return e.status===t.status?0:e.status===kp.a.OFFLINE?1:-1}(e,t)||function(e,t){return String.prototype.localeCompare.call(e.name,t.name)}(e,t)}function*Tt(e){const t=yield Ie();yield Se(bh(Xs.LOADING));let n=!1;yield Se(Ah());const r=e.publicApi.getExternalRequestController();try{if(0===t.externalPlayback.playerList.length){n=!0,e.logEvent({event:_c.a.ExternalPlaybackPlayerListFetching,params:{cachedList:n}});const t=yield function*(e){const{promise:t,abort:n}=Np.a.loadCachedPlayers(e);return t[hu]=n,yield t}(r);if(e.logEvent({event:_c.a.ExternalPlaybackPlayerListFetchSuccess,params:{cachedList:n}}),!t.length)return yield Se(Ph([])),void(yield Se(bh(Xs.IDLE)));e.logEvent({event:_c.a.ExternalPlaybackPlayerListHasAnyDevice,params:{}})}n=!1,e.logEvent({event:_c.a.ExternalPlaybackPlayerListFetching,params:{cachedList:n}});const i=yield function*(e){const{promise:t,abort:n}=Np.a.loadPlayers(e);return t[hu]=n,yield t}(r);yield Se(Ph(i.filter(e=>e.screen_capable).map(e=>({id:e.id,name:e.name,status:e.online?kp.a.IDLE:kp.a.OFFLINE})).sort(St)));(yield Ie(At))!==Xs.CLOSED&&(yield Se(bh(Xs.IDLE))),e.logEvent({event:_c.a.ExternalPlaybackPlayerListFetchSuccess,params:{cachedList:n}})}catch(t){const r=yield Ie(At),i=function(e){return e.status&&403!==e.status?401===e.status?Xs.UNKNOWN_USER:Xs.ERROR:Xs.ACCESS_ERROR}(t);r!==Xs.CLOSED&&(yield Se(bh(i)),i===Xs.UNKNOWN_USER&&(yield Se(Dh()))),e.logEvent({event:_c.a.ExternalPlaybackPlayerListFetchError,params:{cachedList:n,status:t.status||0}})}}function*bt(e){let{payload:t}=e;if(1!==t.length)return;const[n]=t;n.status===kp.a.IDLE&&(yield Se(Ih(n.id)))}function*Ot(e){yield Se(gh(R(e.payload)))}function Rt(e,t){return e.map(e=>({adViewer:e,additionalData:{},adType:t}))}function _t(e,t){let{url:n}=e;return'<?xml version="1.0" encoding="utf-8"?>\n    <VAST version="2.0">\n        <Ad id="0">\n            <InLine>\n                <AdSystem>Ether</AdSystem>\n                <AdTitle>Promo</AdTitle>\n                <Creatives>\n                    <Creative id="0">\n                        '+function(e,t){return t?'<NonLinearAds>\n            <NonLinear apiFramework="VPAID" width="300" height="60" id="overlay-1">\n                <StaticResource creativeType="application/javascript"><![CDATA[https://yastatic.net/awaps-ad-sdk-js/1_0/overlay_creative.js]]></StaticResource>\n                <AdParameters>\n                    <![CDATA[{ "mediaFiles": [{"type": "overlay-creative/javascript", "url": "'+e+'"}]}]]>\n                </AdParameters>\n            </NonLinear>\n        </NonLinearAds>':'<Linear skipoffset="00:00:05">\n            <Duration>00:00:03</Duration>\n            <AdParameters><![CDATA[{"mediaFiles": [{"type": "motion-creative/javascript","url": "'+e+'"}],"adParameters": {}}]]></AdParameters>\n            <MediaFiles>\n                <MediaFile height="0" width="0" type="application/x-javascript" apiFramework="VPAID"><![CDATA[https://yastatic.net/awaps-ad-sdk-js/1_0/ad_creative.js]]></MediaFile>\n            </MediaFiles>\n        </Linear>'}(n,t)+"\n                    </Creative>\n                </Creatives>\n        </InLine>\n        </Ad>\n    </VAST>"}async function Pt(e,t){const{AdLoader:n}=await ee(),r=e===Pc.a.overlaySelfPromo,i=t.map(async t=>(await n.create({adBreakType:Dp[e],vast:_t(t,r)})).loadAd());return Promise.all(i)}function Ct(e){const{adInfo:t}=e.ad;return t&&t.adType}function*It(e){const t=yield Ie(),{ad:{adSessionWatchedTime:n},controller:{currentTimeLowGranularity:r,duration:i,videoType:a,watchedTime:o,sourceParams:{promoConfig:s={}}={}},skin:{nativeControlsVisibility:c}}=t;if(isNaN(i))return;const d=Ct(t),l=e.publicApi.getMultiroll(),u={watchedTime:n,sourceWatchedTime:o,currentTime:r,duration:i,videoType:a||Us.a.VOD},h=yield l.midroll.loadViewers(u),p=l.getNextAdInfo(u);if(yield Se(nd(p)),h.length>0)return d===Pc.a.overlay&&e.publicApi.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.midroll}}),void(yield e.publicApi.playAdViewers(Pc.a.midroll,Rt(h,Pc.a.midroll),{}));if(c)return;const f=yield l.overlay.loadViewers(u);if(f.length>0)return void 0!==d&&d!==Pc.a.overlay?void f.forEach(e=>{e.preventPlaying("PriorityAdIsAlreadyPlaying",{adTypeBefore:jp(d),adTypeAfter:"overlay"})}):(e.publicApi.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.overlay}}),void e.publicApi.playAdViewers(Pc.a.overlay,Rt(f,Pc.a.overlay),{}));if(void 0!==d||void 0!==p&&p.remainingTime<=10)return;const v=Mp.requestCreative({watchedTime:o,promoConfig:s});if(void 0===v)return;const E=yield Pt(Pc.a.overlaySelfPromo,[v]);e.publicApi.playAdViewers(Pc.a.overlay,Rt(E,Pc.a.overlaySelfPromo),{}).then(()=>Mp.onCreativeFinished(e.publicApi.getWatchedTime()))}function wt(e){let{ad:t}=e;const{adInfo:n}=t;return void 0!==n}function*kt(e){const t=yield Ie(),{controller:{playingState:n},skin:{nativeControlsVisibility:r,handleVideoTagClickWhenHidingNativeControls:i}}=t;if(!i||r||wt(t))return;let a;n===Fs.a.PLAY?(a=Vp.PAUSE,yield Re(e.publicApi.pause)):(a=Vp.PLAY,yield Re(e.publicApi.play)),yield Re(e.onUserAction,{name:"PLAY_BUTTON_CLICK",data:{state:a}})}function*Nt(e){yield Se(hp()),yield Re(e.publicApi.seek,{utc:Object(xs.j)(0),videoTime:Object(xs.j)(0)}),yield Re(e.publicApi.play)}function*Dt(e,t){let{payload:n}=t;const r=Fp.a.internalToPublic(n);yield Re(e.publicApi.setVolume,r),n>0&&(yield Re(e.publicApi.setMuted,!1)),yield _e(e,e.onUserAction,[{name:"VOLUME_CHANGE",data:{volume:r}}])}function Lt(e){return e.sharing.html}function jt(e){const{link:t}=e.sharing;return function(e,t){if(void 0!==e)return Object(bp.a)(e,"from_block",t)}(t,Bp.CONTEXT_MENU)}function Mt(e){const t=jt(e),n=function(e){const t=Boolean(jt(e)),n=function(e){return e.controller.videoType}(e),r=n===Us.a.VOD||n===Us.a.EVENT;return t&&r}(e);if(!t||!n)return;const r=Math.floor(e.controller.currentTimeLowGranularity);return Object(Do.a)(t,"t",String(r))}function Vt(e){return e.controller.vsid}function*Ft(e,t){let{payload:n}=t;switch(yield Se(bl(!1)),n){case Up.COPY_LINK:yield function*(){const e=yield Ie(jt);e&&(yield Re(Hp.a,e))}();break;case Up.COPY_LINK_WITH_TIME:yield function*(){const e=yield Ie(Mt);e&&(yield Re(Hp.a,e))}();break;case Up.COPY_HTML:yield function*(){const e=yield Ie(Lt);e&&(yield Re(Hp.a,e))}();break;case Up.COPY_VSID:yield function*(){const e=yield Ie(Vt);yield Re(Hp.a,e)}()}yield Re(e.onUserAction,{name:n,data:void 0})}function*Ut(e){yield Se(hp()),yield Re(e.publicApi.play)}function*xt(){const e=yield Ie(),{settingsVisible:t}=e.skin;yield Se(ml(t))}function*Ht(e,t){let{payload:n}=t;yield _e(e,e.onUserAction,[{name:"FINISH_CHANGE_VOLUME",data:{volume:Fp.a.internalToPublic(n)}}]),0!==n&&(yield Se(ud(n)))}function Bt(e){const{controller:{dvrDuration:t}}=e,n=function(e){const{controller:{startStage:t}}=e;return t!==Yp.a.started&&t!==Yp.a.starting}(e);return t>0&&isFinite(t)&&!n}function*Kt(){yield Se(qh(!0)),yield Se(fp())}function*Yt(e){let{payload:{reason:t,step:n}}=e;const r=yield Ie(),{controller:{currentTime:i},skin:{skinDVRStartTime:a,skinDVRDuration:o,seeking:s}}=r,c=n>0?Object(xs.j)(Math.min(i+n,a+o)):Object(xs.j)(Math.max(i+n,a));(n>0?c>i:c<i)&&(s||(yield Se(xh())),yield Se(Uh({videoPosition:c,step:n,reason:t})))}function*Wt(e,t){let{payload:n}=t;const r=yield Ie(),{controller:{volume:i,muted:a},skin:{hiddenControls:o}}=r;switch(n){case dc.ArrowLeft:Bt(r)&&!o.includes(qs.b.TIMELINE)&&(yield Re(Yt,{payload:{reason:Qs.KEYBOARD,step:Object(xs.j)(-Kp),videoPosition:Object(xs.j)(0)}}),yield Kt());break;case dc.ArrowRight:Bt(r)&&!o.includes(qs.b.TIMELINE)&&(yield Re(Yt,{payload:{reason:Qs.KEYBOARD,step:Kp,videoPosition:Object(xs.j)(0)}}),yield Kt());break;case dc.ArrowDown:o.includes(qs.b.VOLUME)||(!a&&i>0&&(yield Se(jh(Number(Math.max(i-.2,0).toFixed(1))))),yield Kt());break;case dc.ArrowUp:o.includes(qs.b.VOLUME)||((a||i<1)&&(yield Se(jh(a?.2:Number(Math.min(i+.2,1).toFixed(1))))),yield Kt())}}function*Gt(e,t){let{payload:n}=t;const r=yield Ie(),{controller:{volume:i,muted:a},skin:{hiddenControls:o}}=r;switch(n){case dc.ArrowLeft:case dc.ArrowRight:Bt(r)&&!o.includes(qs.b.TIMELINE)&&(yield Se(Hh()));break;case dc.Space:o.includes(qs.b.PLAY)||(yield Se(tp()));break;case dc.ArrowDown:case dc.ArrowUp:o.includes(qs.b.VOLUME)||(yield Se(Vh(a?0:i)));break;case dc.KeyF:o.includes(qs.b.FULLSCREEN)||(yield Se(Yh()))}}function qt(e,t){let{payload:n}=t;e.logEvent(n)}function*Xt(e,t){let{payload:n}=t;n||(yield Se(yl(Wp.INDEX)))}function*zt(){yield Se(zh(!0)),yield zu(Gp),yield Se(zh(!1))}function*Qt(){const{skin:{mouseMotionlessTimeoutId:e},controller:{isFullscreen:t}}=yield Ie();e>0&&window.clearTimeout(e);const{timeoutId:n,promise:r}=os(t?qp:Gp);yield Se(Jh(n)),yield Se(Qh(!1)),yield r,yield Se(Gh())}function*Jt(e){const{controller:{volume:t,muted:n}}=yield Ie(),r=!n;yield Re(e.publicApi.setMuted,r),yield _e(e,e.onUserAction,[{name:"VOLUME_CHANGE",data:{volume:Fp.a.internalToPublic(r?0:t)}}])}function*Zt(e){const t=yield Ie(),{skin:{hiddenControls:n}}=t;yield Re(e.publicApi.setHiddenControls,n)}function*$t(e){const{controller:{autoplay:t}}=yield Ie();t&&(yield Te([Se(id(!1)),Re(e.publicApi.play)]))}function en(e,t){let{name:n,lang:r}=t;const i=e.find(e=>e.name===n);return i||(r?e.find(e=>e.lang===r):void 0)}function*tn(e){const{controller:{textTrackValue:t,textTracks:n,userTextTrackName:r,userTextTrackLang:i}}=yield Ie();if(t)return void(yield Re(e.publicApi.setTextTrack,t));const a=en(n,{enabled:!0,name:r,lang:i})||function(e){if(0===e.length)return;const t=function(e,t){if("string"!==typeof t)return;const n=t.split("-")[0].toLowerCase();for(let t=0;t<e.length;t++){const r=e[t];if(r.name.toLowerCase()===n)return r}}(e,navigator.language);return void 0!==t?t:e[0]}(n);void 0===a?Ic.a.error("No text tracks to enable"):yield Re(e.publicApi.setTextTrack,a.value)}function nn(e){let{ad:t}=e;const{adInfo:n}=t;if(void 0===n)return!1;const{adType:r}=n;return r!==Pc.a.overlay}function*rn(e,t){let{payload:n}=t;const{controller:{playingState:r,watchedTime:i}}=yield Ie();if(r===n||r===Fs.a.END&&n===Fs.a.PAUSE)return;if(n===Fs.a.BUFFERING)return void(yield function*(){yield Se(vd(Fs.a.BUFFERING)),yield zu(Gs);const{controller:{playingState:e}}=yield Ie();yield Se(vl(e===Fs.a.BUFFERING))}());if(r===Fs.a.BUFFERING&&(yield function*(){yield Se(vl(!1)),yield Se(ol(Object(zp.a)(Xp.a.Other,void 0)))}()),r===Fs.a.BUFFERING&&n===Fs.a.PAUSE&&0===i||(yield Se(ad(Yp.a.started))),n===Fs.a.PLAY&&(yield Se(vl(!1))),n!==Fs.a.END)return void(yield Se(vd(n)));const a=yield Ie(),{ad:{adInfo:o}}=a;nn(a)?Ic.a.log("putPlayingState("+Fs.a.END+") has not been dispatched because ad("+(o&&o.adType)+") is playing"):yield function*(e){const t=e.publicApi.getMultiroll(),n=yield t.postroll.loadViewers({});n.length>0&&(e.publicApi.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.postroll}}),yield e.publicApi.playAdViewers(Pc.a.postroll,Rt(n,Pc.a.postroll),{})),yield Se(vd(Fs.a.END)),e.publicApi.stop()}(e)}function*an(e,t){let{payload:n}=t;yield Re(e.onAdblockDetected,n)}function*on(e,t){let{payload:n}=t;yield _e(e,e.onAudioTracksChange,[n])}function sn(e){const{audioTrackValue:t,audioTracks:n}=e.controller;return n.find(e=>{let{value:n}=e;return n===t})}function*cn(e,t){let{payload:n}=t;const r=yield Ie();yield Re(e.onAudioTrackChange,sn(r))}function*dn(e,t){let{payload:n}=t;yield Re(e.onBufferingRangesChange,n)}function*ln(e,t){let{payload:n}=t;yield Re(e.onErrorScreenVisibilityChange,!n)}function un(e){return Object(xs.j)("number"!==typeof(t=Math.floor(2*e)/2)||isNaN(t)||!isFinite(t)?0:t);var t}function hn(e){const{controller:{currentTime:t},skin:{skinDVRStartTime:n,skinDVRDuration:r}}=e,i=n+r-Jp.a;return r===1/0||t>i}function*pn(e){const t=yield Ie(),{controller:{videoType:n,playbackRate:r}}=t;n!==Us.a.VOD&&(wt(t)||(r>1?hn(t)&&e.publicApi.setPlaybackRate(Qp.a):function(e){const{controller:{videoType:t}}=e;if(t!==Us.a.LIVE)return!1;const{controller:{currentTime:n},skin:{skinDVRStartTime:r}}=e;return r+(0===n?0:Jp.a)>n}(t)&&e.publicApi.setPlaybackRate(Qp.a)))}function fn(e){let{ad:{adInfo:t}}=e;return void 0!==t&&Zp.includes(t.adType)}function*vn(){const{ad:{adSessionWatchedTime:e,watchedTimeSinceAd:t=Object(xs.j)(0)},controller:{currentTime:n,playingState:r,watchedTime:i,playbackRate:a}}=yield Ie();if(void 0!==$p){const r=function(e,t){const n=0<=e&&e<=t+.5?e:t;return Object(xs.j)(Math.max(0,n))}(Object(xs.b)(Object(xs.d)(n,$p.videoTime),a),Object(xs.b)(Object(xs.h)($p.getElapsedTime()),1e3));yield Se(cl(Object(xs.a)(i,r))),yield Se(dl(Object(xs.a)(t,r))),yield Se(ll(Object(xs.a)(e,r)))}const o=yield Ie(fn);$p=r!==Fs.a.PLAY||o?void 0:{getElapsedTime:Object(as.a)(),videoTime:n}}function*En(e,t){let{payload:n}=t;yield vn(),yield pn(e),yield _e(e,e.onCurrentTimeChange,[n]),yield Se(gd(un(n)))}function*gn(e,t){let{payload:n}=t;yield Re(e.onDurationChange,n)}function*mn(e){let{payload:t}=e;const{controller:{engine:n,videoType:r,fragmentDuration:i,liveOffset:a}}=yield Ie(),o=n===ef.MPD?Object(xs.j)(0):a,s=r===Us.a.LIVE?Object(xs.a)(Object(xs.c)(Jp.b,i),o):o,c=void 0===r||r===Us.a.VOD?t:Object(xs.d)(t,s);yield Se(Dd(c))}function*yn(e){let{payload:t}=e;const{controller:{videoType:n,fragmentDuration:r}}=yield Ie(),i=n===Us.a.LIVE?Object(xs.a)(Object(xs.c)(r,Jp.b),t):Object(xs.j)(0);yield Se(Nd(i))}function*An(e,t){const{error:n}=t.payload;if(void 0===n)return;const{code:r,isFatal:i,details:a}=n;i?(Ic.a.error(r,a),yield Se(bl(!1)),yield Re(e.publicApi.setFullscreen,!1)):Ic.a.warn(r,a),yield Re(e.onError,n)}function*Sn(e){let{payload:t}=e;const{controller:{videoTrackValue:n}}=yield Ie();yield Se(xd({videoTrackValue:n,isAbrEnabled:t}))}function*Tn(e,t){let{payload:n}=t;yield Re(e.onFullScreenChange,n)}function bn(e){if(void 0===e)return;const t=Object(tf.estimateConnection)(e,Object(nf.a)(),{disable:!0});return t&&Object(rs.a)(t.score)&&Object(rs.a)(t.quality)?t:void 0}function*On(e,t){let{payload:n}=t;const r=n?yield Re(bn,n):void 0;yield Re(e.onNetworkScoreChange,r),yield Se(kl(r))}function*Rn(e,t){let{payload:n}=t;yield Re(e.onPlaybackRateChange,n)}function _n(e,t){const n=e.publicApi.getRecoverHelper();n&&n.planTask(()=>e.publicApi.recoverStream(),t)}function Pn(e){return"https://"+e+"/ping?r="+Object(df.a)(12)}function Cn(e){return Pn(Object(cf.e)(e).hostname)}function In(e){return e.map(e=>e&&e.name||"").filter(e=>{return rf.includes(Object(Do.c)(e))&&(t=Object(Do.g)(e).hostname,(n=".strm.yandex.net")===t.substring(t.length-n.length));var t,n})}async function wn(e){await ne({method:"GET",url:e,withCredentials:!1,timeout:lf})}function kn(e,t){return e.find(e=>{let{start:n,end:r}=e;return n<=t&&t<=r})}function Nn(e,t){const n=kn(e,t);return void 0===n?void 0:Object(xs.d)(n.end,t)}function Dn(e){const{currentTime:t,bufferingRanges:n}=e.controller;return Nn(n,t)}function*Ln(e){const t=yield Ie();if(!function(e){return(Dn(e)||0)<uf}(t))return;if(e.publicApi.getConnectionQuality()!==of.OK)return;if(nn(t))return;if(0===t.controller.bufferingRanges.length)return;const{resourceTimings:n}=e.publicApi.getDebugInfo(),r=function(e){const t=In(e);if(0===t.length)return[];const[n,r]=Object(Xl.a)(t,e=>Object(Do.d)(e).includes("audio")),i=r[r.length-1],a=n[n.length-1],o=[];return i&&o.push(Cn(i)),a&&o.push(Cn(a)),o}(n),{controller:{isOnline:i}}=yield Ie();if(!i)return;const a=Object(Do.a)("https://strm.yandex.ru/ping","r",Date.now().toString()),o=r.map(e=>Object(Do.a)(e,"r",Date.now().toString()));if(r.length<=0)return;const s=wn(a),c={reason:"ChunkServerIsNotAvailable",delay:new Promise(e=>{s.then(()=>{Promise.all(o.map(wn)).catch(e)}).catch(Xo.a)}),rawData:0};yield _n(e,c)}function*jn(e){const{controller:{playingState:t},ad:{inStreamPlayingState:n}}=yield Ie();t===Fs.a.BUFFERING&&(yield Ln(e),yield function*(e){const{controller:{isOnline:t}}=yield Ie();if(!t){const t={reason:"recoverStreamIfIsOffline",delay:0,rawData:0};yield _n(e,t)}}(e)),yield vn(),void 0===n?yield Re(e.onStateChange,t):yield Re(e.onStateChange,n)}function*Mn(e,t){let{payload:n}=t;n&&(yield Re(e.onResourcesIdle),e.logEvent({event:_c.a.ResourcesIdle,params:{}}))}function*Vn(e,t){let{payload:n}=t;yield Re(e.onStartStageChange,n)}function*Fn(e,t){let{payload:n}=t;yield Re(e.onChangeStream,n)}function*Un(e,t){let{payload:n}=t;yield Re(e.onStreamsWithSupportInfoChange,n)}function*xn(e,t){let{payload:n}=t;yield _e(e,e.onSubtitlesChange,[n])}function*Hn(e,t){let{payload:n}=t;yield _e(e,e.onTextTracksChange,[n])}function*Bn(e,t){let{payload:n}=t;yield Re(e.onThumbnailTileGeneralMetaInfoChange,n)}function*Kn(e,t){let{payload:n}=t;yield Re(e.onVideoReadyStateChange,n)}function*Yn(e,t){let{payload:n}=t;yield Re(e.onVideoSizeChange,n)}function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gn(e){const{videoTrackValue:t,videoTracks:n,isAbrEnabled:r}=e.controller,i=n.find(e=>{let{value:n}=e;return n===t});if(i)return Wn({},i,{auto:r})}function*qn(e,t){const n=yield Ie();yield Re(e.onVideoTrackChange,Gn(n))}function*Xn(e,t){let{payload:n}=t;yield _e(e,e.onVideoTracksChange,[n])}function*zn(e,t){let{payload:n}=t;yield Re(e.onVideoTypeChange,n)}function*Qn(e,t){let{payload:{volume:n,muted:r,changeReason:i}}=t;yield Re(e.onVolumeChange,{volume:Fp.a.internalToPublic(n),muted:r,changeReason:i}),i!==hf.a.RequestAutoplaySettings&&(yield Se(_l()))}function Jn(){return Object(ff.a)()||Object(pf.a)()>-1}function Zn(e){const{controller:{isFullscreen:t},skin:{useNativeControls:n,useNativeFullscreen:r}}=e;return n||t&&r}function*$n(e){const t=yield Ie(),{skin:{nativeControlsVisibility:n},controller:{textTrackEnabled:r,nativeTextTrackVisible:i,isPip:a}}=t,o=(void 0===i?yield Re(Jn):i)||a||Boolean(n&&Zn(t)&&r);yield Re(e.publicApi.toggleNativeSubtitles,o)}function*er(e){let{payload:t}=e;t!==Fs.a.PAUSE&&(yield Se(al(!1)))}function tr(e){const{textTrackValue:t,textTracks:n}=e.controller;return n.find(e=>{let{value:n}=e;return n===t})}function*nr(e,t){let{payload:{enabled:n,textTrackValue:r}}=t;const{controller:{textTrackEnabled:i,textTrackValue:a}}=yield Ie(),o=void 0===n?i:n,s=void 0===r?a:r;yield Se(Xd(o)),yield Se(Qd(s));if((i?a:void 0)===(n?r:void 0))return;const c=n?tr(yield Ie()):void 0;yield Re(e.onTextTrackChange,c)}function rr(e,t,n){void 0===n&&(n=Bs.a);let r=t;return function*(){var t;if(0===arguments.length)return;const{payload:i}=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t],a=n(i,r)||Number.isNaN(i)&&Number.isNaN(r);a||(r=i,yield*e(...arguments))}}function*ir(e){let{payload:t}=e;const{condition:n,action:r,delay:i}=t;yield zu(i),n()&&(yield Se(r))}function ar(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Pe((function*(){const n=yield Ae(e);yield Pe.call(null,t,...r.concat(n))}))}function or(e,t){const n=function(e,t){let{controller:{volume:n,muted:r,duration:i,isAbrEnabled:a,videoTrackValue:o}}=t;const s=[],c=[$e(Eh,Ot),$e(mh,lt,e),$e(Ch,ut),$e(Rh,pt),$e(_h,ht),et(Ah,mt,e),et(Oh,Tt,e),et(Ph,bt),et(Ih,yt,e),et(wh,vt),et(Sh,Et,e),et(vd,ft),et(Dh,gt)];return[$e(mp,xt),$e(cd,rr(Qn,{volume:n,muted:r},nt),e),$e(cd,rr(Zt,{volume:n,muted:r},nt),e),$e(vd,rr(Zt),e),$e(tl,rr(Zt),e),$e(hd,rr(gn,i),e),$e(fd,rr(zn),e),$e(Il,rn,e),$e(vd,rr(jn,Ap.a.playingState),e),$e(td,rr(jn,yp.a.inStreamPlayingState),e),$e(vd,rr(er,Ap.a.playingState)),$e(td,rr(er,yp.a.inStreamPlayingState)),ar(vd,Qt),$e(Ed,rr(En),e),$e(gl,Xt,e),ar(sd,$t,e),$e(Ad,rr(Fn),e),$e(Od,rr(Un),e),ar(kd,zt),$e(Ud,rr(Sn,a)),$e(xd,rr(qn,{videoTrackValue:o,isAbrEnabled:a}),e),$e(Hd,rr(Xn),e),$e(Kd,rr(cn),e),$e(Yd,rr(on),e),$e(Zd,rr(nr),e),$e(qd,rr(Hn),e),$e($d,tn,e),$e(el,rr(xn),e),$e(ul,Bn,e),$e(bl,rr(ln),e),$e(tl,rr(Tn),e),$e(ed,rr(On),e),$e(Md,An,e),$e(qc,rr(an),e),$e(Id,rr(yn)),$e(wd,rr(mn)),$e(jd,rr(dn),e),$e(ad,rr(Vn),e),$e(Ld,Rn,e),$e(pd,rr(Yn),e),$e(Gd,Kn,e),$e(jh,rr(Dt),e),$e(Vh,rr(Ht),e),$e(Fh,Jt,e),$e(Wh,Ft,e),$e(Bh,Wt,e),$e(Kh,Gt,e),$e(Lh,kt,e),$e(vh,ir),$e(Xd,$n,e),$e(nl,$n,e),$e(zd,$n,e),$e(tl,rr($n),e),tt([ll,vd],It,e),$e(zc,at),$e($c,dt,e),$e(Xc,dt,e),$e(Nl,qt,e),$e(Yc,rr(ct),e),$e(Wc,rr(rt),e),$e(nd,rr(it),e),$e(lp,Ut,e),$e(up,Nt,e),$e(hl,rr(Mn),e),...c,...s]}(e,t),{featuresEnabled:r}=t.controller;return function*(){yield Te(n)}}function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cr(e,t,n){const r=e[t];return(i=r)===(a=n)||Number.isNaN(i)&&Number.isNaN(a)?e:sr({},e,{[t]:n});var i,a}function dr(e){return function(t,n){return cr(t,e,n)}}function lr(e,t){return function(n){return cr(n,e,t)}}function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hr(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),[...e,...t]}function pr(e,t){return void 0===e?t:void 0===t?e:{before:hr(e.before,t.before),after:hr(e.after,t.after)}}function fr(e,t){return void 0===t&&(t=["u","i","b"]),e.reduce((e,n)=>(n.split("\n").forEach(n=>{e.push(function(e,t){void 0===t&&(t=["u","i","b"]);const n=new RegExp("<(/)?("+t.join("|")+")>");return(e=e.replace(Ef,"")).replace(vf,e=>{if(e.match(n))return e;return""})}(n,t))}),e),[])}function vr(e,t){return Object(is.a)(t).reduce((e,n)=>cr(e,n,t[n]),e)}function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function yr(e,t){if(!Object(Af.a)(e,t))return e;return function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,[t].map(mr))}function Ar(e,t){return function(n,r){return function(e,t,n,r){return cr(e,t,r(e,n))}(n,e,r,t)}}function Sr(){return(Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tr(e,t){const n=function(e,t){const{featuresEnabled:n}=e.controller;return{}}(e),r={},i=Object(is.a)(n).length?oe(n):()=>r;return oe({controller:(d=e.controller,x({},d).on(rd,dr("engine")).on(Pd,dr("fragmentDuration")).on(Id,dr("dvrStartTime")).on(wd,dr("dvrDuration")).on(ad,dr("startStage")).on(Cd,dr("programDateTime")).on(ed,dr("lastKnownBandwidthEstimate")).on(cd,vr).on(dd,dr("requireUserGestureToUnmute")).on(ld,dr("autoplayImpossible")).on(ud,dr("userVolume")).on(_l,lr("wasVolumeChanged",!0)).on(hd,dr("duration")).on(pd,vr).on(fd,dr("videoType")).on(id,dr("autoplay")).on(od,dr("preload")).on(vd,dr("playingState")).on(Ed,dr("currentTime")).on(gd,dr("currentTimeLowGranularity")).on(yd,dr("from")).on(Ad,dr("stream")).on(Sd,dr("sourceParams")).on(Td,e=>Er({},e,{sourceId:e.sourceId+1})).on(bd,dr("streams")).on(Od,dr("streamsWithSupportInfo")).on(Rd,dr("startPosition")).on(jd,dr("bufferingRanges")).on(sd,dr("encoderAttached")).on(Fd,(e,t)=>cr(cr(e,"isAbrEnabled",e.isAbrEnabled&&t),"isAbrSupported",t)).on(Ud,(e,t)=>cr(e,"isAbrEnabled",t&&e.isAbrSupported)).on(Gd,dr("videoTagReadyState")).on(xd,(e,t)=>{let{videoTrackValue:n,isAbrEnabled:r}=t;return vr(e,{videoTrackValue:n,isAbrEnabled:r&&e.isAbrSupported})}).on(Bd,(e,t)=>{let{name:n,height:r}=t;return vr(e,{userVideoTrackName:n,userVideoTrackHeight:r})}).on(Hd,dr("videoTracks")).on(Kd,dr("audioTrackValue")).on(Yd,dr("audioTracks")).on(Wd,(e,t)=>{let{name:n,lang:r}=t;return cr(cr(e,"userAudioTrackName",n),"userAudioTrackLang",r)}).on(Xd,dr("textTrackEnabled")).on(zd,dr("nativeTextTrackVisible")).on(Qd,dr("textTrackValue")).on(qd,dr("textTracks")).on(Jd,(e,t)=>{let{enabled:n,name:r,lang:i}=t;return vr(e,{userTextTrackEnabled:n,userTextTrackName:r,userTextTrackLang:i})}).on(el,(e,t)=>cr(e,"subtitles",fr(t))).on(md,dr("videoInfo")).on(tl,dr("isFullscreen")).on(nl,dr("isPip")).on(rl,dr("isVisible")).on(il,dr("isDocumentVisible")).on(al,dr("pausedCauseVisibilityChange")).on(ol,dr("expectedStalled")).on(Md,(e,t)=>{return!t||(n=t,!Object(is.a)(n).length)||t.error&&t.error.isFatal?Er({},e,{errorInfo:t}):e;var n}).on(Vd,dr("lastRecoverPosition")).on(_d,dr("isOnline")).on(sl,dr("preview")).on(cl,dr("watchedTime")).on(Dl,dr("featuresParams")).on(Ld,dr("playbackRate")).on(ul,dr("tileMetaInfo")).on(Cl,dr("videoElementStyle")).on(wl,(e,t)=>{if(void 0===e.sourceParams)return e;const{promoConfig:n}=e.sourceParams;return Er({},e,{sourceParams:Er({},e.sourceParams,{promoConfig:(r=n,i=t,void 0===r?i:void 0===i?r:{intro:hr(r.intro,i.intro),preroll:pr(r.preroll,i.preroll),midroll:pr(r.midroll,i.midroll),postroll:pr(r.postroll,i.postroll),inroll:pr(r.inroll,i.inroll)})})});var r,i}).on(kl,dr("networkScore"))),ad:(c=e.ad,x({},c).on(td,dr("inStreamPlayingState")).on(Kc,dr("adConfig")).on(ll,dr("adSessionWatchedTime")).on(Wc,dr("adInfo")).on(nd,dr("nextAdInfo")).on(Gc,dr("originalBroadcastAdCueId")).on(Xc,dr("originalBroadcastAdCues")).on(qc,dr("adblockDetected")).on(Jc,dr("hasPreroll")).on(Zc,dr("adSyncInit")).on(dl,dr("watchedTimeSinceAd")).on(Qc,(e,t)=>{const n=Object(Sp.a)(e.originalBroadcastAdCues);return delete n[t],ur({},e,{originalBroadcastAdCues:n})})),skin:(s=e.skin,x({},s).on(fl,dr("hiddenControls")).on(vl,dr("showPreloader")).on(Pl,dr("nativeControlsVisibility")).on(Sl,dr("logoConfig")).on(Ol,dr("contextMenuPosition")).on(bl,Ar("contextMenuVisibility",(e,t)=>e.contextMenuVisibilityLock?e.contextMenuVisibility:t)).on(Tl,dr("contextMenuVisibilityLock")).on(Nd,dr("skinDVRStartTime")).on(Dd,dr("skinDVRDuration")).on(Rl,(e,t)=>Sr({},e,{seekTapEvent:t})).on(ap,dr("useNativeSubtitles")).on(gl,dr("settingsVisible")).on(ml,dr("settingsVisibilityBeforeDocumentClick")).on(yl,dr("settingsPage")).on(Al,e=>Sr({},e,{settingsVisible:!e.settingsVisible})).on(ep,(e,t)=>cr(e,"title",vr(e.title,t))).on(pl,vr).on(Mh,lr("volumeChanging",!0)).on(Vh,lr("volumeChanging",!1)).on(qh,dr("skinMouseHovered")).on(Xh,dr("controlMouseHovered")).on(Zh,dr("controlTouchStarted")).on($h,dr("mobileSkinTapped")).on(tl,lr("controlMouseHovered",!1)).on(hp,lr("startPositionConfirmation",void 0)).on(Qh,dr("mouseMotionless")).on(xh,lr("seeking",!0)).on(Hh,lr("seeking",!1)).on(Jh,dr("mouseMotionlessTimeoutId")).on(zh,dr("skinVisibilityOnInit")).on(rp,dr("verticalTouchDistance")).on(ip,dr("horizontalTouchDistance")).on(op,dr("timelineTouchStarted")).on(sp,(e,t)=>{let{url:n,state:r}=t;return cr(e,"timelinePreviewImages",cr(e.timelinePreviewImages,n,r))}).on(cp,(e,t)=>cr(e,"timelinePreviewImages",yr(e.timelinePreviewImages,t))).on(dp,lr("timelinePreviewImages",{})).on(vp,dr("logoWidget")).on(gp,(e,t)=>cr(e,"logoWidget",e.logoWidget?cr(e.logoWidget,"action",cr(e.logoWidget.action,"status",t)):void 0)).on(Ep,(e,t)=>cr(e,"logoWidget",e.logoWidget?cr(e.logoWidget,"forceExpanded",t):void 0)).on(pp,dr("focusRestorationExpected"))),externalPlayback:(o=e.externalPlayback,x({},o).on(Eh,dr("externalPlayerConfig")).on(gh,dr("externalPlaybackPossible")).on(Nh,dr("externalPlaybackActivatedPopupVisible")).on(bh,dr("playerListStatus")).on(Sh,dr("playerCsrfToken")).on(kh,(e,t)=>{let{id:n,status:r}=t;return cr(e,"playerList",e.playerList.map(e=>e.id===n?cr(e,"status",r):e))}).on(Ph,dr("playerList"))),sharing:(a=e.sharing,x({},a).on(gf,e=>vr(e,gr({},yf))).on(mf,(e,t)=>vr(e,t))),features:i});var a,o,s,c,d}function br(e,t){const n=hh({onError(t){const n=new Oc(t,{code:Rc.a.SAGA_ERROR,isFatal:!1});e.onError(n)}}),r=function(e){let t=null;return le(e,Object(Sf.batchedSubscribe)(e=>{t||(t=Promise.resolve().then(()=>{t=null,e()}))}))}((window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return de({},n,{dispatch:r=le.apply(void 0,a)(n.dispatch)})}}}(n))),i=ie(Tr(t),r),a=or(e,t);return n.run(a),i}function Or(e){const t=Ct(e);return Object(_f.a)(t)}function Rr(e){const t=Ct(e);return Boolean(t)&&!Or(e)}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function Pr(e,t,n){if(!function(e){return e===Pc.a.preroll||e===Pc.a.midroll||e===Pc.a.postroll||e===Pc.a.inroll}(e)||void 0===n)return t;let r=[],i=[],a=[];if(e===Pc.a.preroll){const{intro:t=[]}=n;r=await Pt(e,t)}if(t.length>0){const{[e]:{before:t=[],after:r=[]}={}}=n;i=await Pt(e,t),a=await Pt(e,r)}return[...Rt(r,Pc.a.intro),...Rt(i,Pc.a.jingle),...t,...Rt(a,Pc.a.jingle)]}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ir(e){const t=Object(Lo.a)(rv)?rv.additional:void 0;return Cr({},rv,{additional:Cr({},t,e)})}function wr(){Object(Gf.a)()&&!av.sourceStart&&(Object(qf.a)(Xf.autoplayFalse),av.sourceStart=!0)}function kr(e){let{reason:t="unknown"}=e,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["reason"]);Object(Gf.a)()&&!av.sourceStart&&(Object(qf.a)(Xf.firstStartAdSDKFailed,void 0,void 0,Cr({reason:t},n)),av.sourceStart=!0)}function Nr(e,t){if(!Object(Gf.a)()||av.sourceStart)return;const n=0===iv;n&&t?Object(Yf.b)(ev[e]):n?Object(Yf.b)($f[e]):t?Object(Yf.b)(nv[e]):Object(Yf.b)(tv[e])}function Dr(e,t,n){if(!Object(Gf.a)()||av.sourceStart)return;if(0===iv){const r=n?Qf[e]:zf[e],i=n?ev[e]:$f[e];Object(qf.a)(r,void 0,!1,{additional:t}),Object(Yf.a)(i,{additional:t})}else n?Object(Yf.a)(nv[e],Ir(t)):Object(Yf.a)(tv[e],Ir(t));av.sourceStart=!0}function Lr(e,t,n){Object(Gf.a)()&&!av.yaFirstFrameDecoded&&(n&&"AD"!==e||0===iv&&(av.yaFirstFrameDecoded=!0,Object(qf.a)(Jf[e],void 0,!1,{additional:t})))}function jr(e,t,n){Object(Gf.a)()&&!av.yaFirstFrameShown&&(n&&"AD"!==e||0===iv&&(av.yaFirstFrameShown=!0,Object(qf.a)(Zf[e],void 0,!1,{additional:t})))}function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e){const t=function(e){return e.filter(vv.a).map(e=>{let{supportInfo:t}=e;return t.noSupportReason})}(e),n={details:{streams:e},isFatal:!0};if(hv(t,e=>e===fv.a.NO_SUPPORTED_DRM))return new Oc(Vr({},n,{code:Rc.a.NO_DRM}));if(hv(t,e=>e===fv.a.NO_CODECS))return new Oc(Vr({},n,{code:Rc.a.NO_CODECS}));return hv(t,e=>e===fv.a.NO_MSE)?pv.a?new Oc(Vr({},n,{code:Rc.a.NO_PLAYABLE_STREAMS})):new Oc(Vr({},n,{code:Rc.a.NO_MSE})):new Oc(Vr({},n,{code:Rc.a.NO_PLAYABLE_STREAMS}))}function Ur(e){return o(e)&&"avplay"===e.proxyElementType}function xr(e){if(!Object(Lo.a)(e))return!1;const{servers:t,advanced:n}=e;return Object(Lo.a)(t)&&Object(ru.a)(t["com.apple.fps.1_0"])&&Object(Lo.a)(n)&&Object(Lo.a)(n["com.apple.fps.1_0"])&&Object(ru.a)(n["com.apple.fps.1_0"].processSPCPath)}function Hr(e){return e.preferNative||bv||Tv.a||Ov.a.isSmartTV()&&!Ro||xr(e.stream.drmConfig)?ef.NATIVE:ef.HLS}function Br(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const n in e)Object(Af.a)(e,n)&&t.push(e[n]);return t}}function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yr(e){if(!Object(kv.a)(e))return!1;const t=Object(ps.a)(e);if(t&&Object(Mv.a)(e))return!1;const[n,r,i,a]=function(e){const t=Object(So.a)(e);if(!Object(kv.a)(e))return Hv;const n=t.split("YaBrowser/")[1].split(" ")[0].split(".").map(Number);return n.length<4?Hv:[n[0],n[1],n[2],n[3]]}(e);if(n<18)return!0;if(18===n){if(r>4)return!1;if(t&&i<3)return!0;if(Object(wv.a)(e)&&(i<1||!a||a<=526))return!0}return!1}async function Wr(){const e=[],t=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}];return await Promise.all(Uv.map(async n=>{try{await window.navigator.requestMediaKeySystemAccess(n,t),e.push(n)}catch(e){}})),e}function Gr(){const e=[];return Uv.forEach(t=>{window.MSMediaKeys.isTypeSupported(t)&&e.push(t)}),e}function qr(e){let{video:t}=e;const n=[];return Uv.forEach(e=>{t.canPlayType("video/mp4",e)&&n.push(e)}),n}function Xr(){const e=[];return[Mo,Vo].forEach(t=>{window.WebKitMediaKeys.isTypeSupported(t,"video/mp4")&&e.push(t)}),e}async function zr(e){return Co||s(e.video)||Ur(e.video)?{supportedDrmSystems:["com.microsoft.playready"],detectionMethod:Bv.Constant}:Lv.a&&!(Dv||Nv||jv||Oo)?{supportedDrmSystems:[],detectionMethod:Bv.YandexBrowserLinux}:Yr()?{supportedDrmSystems:[],detectionMethod:Bv.OldYandexBrowser}:window.WebKitMediaKeys?{supportedDrmSystems:Xr(),detectionMethod:Bv.WebKitMediaKeys}:"function"===typeof window.navigator.requestMediaKeySystemAccess?{supportedDrmSystems:await Wr(),detectionMethod:Bv.requestMediaKeySystemAccess}:"function"===typeof window.MSMediaKeys?{supportedDrmSystems:Gr(),detectionMethod:Bv.MSMediaKeys}:e.video.webkitGenerateKeyRequest?{supportedDrmSystems:qr(e),detectionMethod:Bv.GenerateKeyRequest}:{supportedDrmSystems:[],detectionMethod:Bv.NotAvailable}}async function Qr(e,t){const{servers:n={}}=e,r=Object(is.a)(n);if(0===r.length)return!1;const i=await qv({video:t});return hv(r,e=>{return t=i,n=e,-1!==Object(Pv.a)(t,n);var t,n})}async function Jr(e){return!!function(e){try{return Boolean(e.yandexPlayerSupported)}catch(e){return!1}}(e.video)&&async function(e){try{return Object(Av.a)(Ks.b.isYandexPlayerSupported)||await new Promise((e,t)=>{Ks.b.onYandexPlayerSupportedAvailable=e,setTimeout(t,5e3)}),Ks.b.isYandexPlayerSupported(e)}catch(e){return!1}}(e)}function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function $r(e){const{stream:t,video:n,preferNative:r}=e,{drmConfig:i,url:a}=t,s=mv(a),c=gv(a),d=(e=>"mp4"===Object(Do.c)(e.toLocaleLowerCase()))(a);if(o(n)&&"orsay"===n.proxyElementType)return function(e){let{streamUrl:t}=e;return yv(t)||gv(t)?{supported:!0,engine:ef.NATIVE}:{supported:!1,noSupportReason:fv.a.NO_SUPPORTED_FORMAT}}({streamUrl:a});if(d)return Xv.canPlayType('video/mp4;codecs="avc1.4D481F"')?{supported:!0,engine:ef.MP4}:Ev.a;if(!o(n)&&!s&&!c)return Ev.d;let l;if(l=o(n)&&"webos"===n.proxyElementType?function(e){let{streamUrl:t}=e;return mv(t)||gv(t)?{supported:!0,engine:ef.NATIVE}:{supported:!1,noSupportReason:fv.a.NO_SUPPORTED_FORMAT}}({streamUrl:a}):Ur(n)?function(e){const t=gv(e),n=yv(e);return t||n?{supported:!0,engine:ef.NATIVE}:Ev.d}(t.url):s?void 0===Sv?Ev.b:{supported:!0,engine:ef.MPD}:function(e){return void 0===Sv?pv.a?Rv:Ev.b:Sv.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')?pv.a?{supported:!0,engine:Hr(e)}:xr(e.stream.drmConfig)?Ev.c:_v:pv.a?Rv:Ev.a}({stream:t,preferNative:r}),!l.supported)return l;if(await Jr({video:n,stream:t,playerVersion:"1.0-6125"})&&Object(Ev.f)(l))return Zr({},l,{engine:ef.YANDEX});if(!Object(Lo.a)(i))return l;return await Qr(i,n)?l:Ev.c}function ei(e){const{mpd:t,m3u8:n,mss:r}=function(e){return{mpd:e.filter(e=>{let{stream:t}=e;return"mpd"===Object(Do.c)(t.url)}),m3u8:e.filter(e=>{let{stream:t}=e;return"m3u8"===Object(Do.c)(t.url)}),mss:e.filter(e=>{let{stream:t}=e;return!["mpd","m3u8"].includes(Object(Do.c)(t.url))})}}(e),i=[...t,...r,...n];return i.find(e=>{let{stream:t}=e;return Object(Lo.a)(t.drmConfig)})||i[0]}async function ti(e){if(0===e.streams.length)return{status:"error",error:new Oc({code:Rc.a.NO_STREAMS,details:{},isFatal:!0}),streamsWithSupportInfo:[]};const t=await function(e){let{streams:t,video:n,preferNative:r}=e;return Promise.all(t.map(async e=>({stream:e,supportInfo:await $r({stream:e,video:n,preferNative:r})})))}(e),n=function(e){const t=Object(zv.a)(e);if(0===t.length)return;if(Ov.a.isSmartTV())return ei(t);const n=t.find(e=>{let{stream:t}=e;return Object(Lo.a)(t.drmConfig)});if(n)return n;const r=t.find(e=>{let{supportInfo:t}=e;return t.engine===ef.NATIVE}),i=t.find(e=>{let{supportInfo:t}=e;return t.engine===ef.MPD});if(Tv.a&&r)return r;if(i)return i;const a=t.find(e=>{let{supportInfo:t}=e;return t.engine!==ef.MP4});return a||t[0]}(t);return n?{status:"success",supportedStream:n,streamsWithSupportInfo:t}:{status:"error",error:Fr(t),streamsWithSupportInfo:t}}function ni(e){return Object(Do.a)(e,"t",String(Date.now()))}async function ri(e,t){const n=function(e){return Qv[Object(cf.e)(e).hostname]}(e);return async function(e,t){try{return await ne({url:e,withCredentials:t,method:"GET",checkStatus:e=>0!==e,retries:3}),!1}catch(e){return!0}}(n||Object(Do.a)(ni(e),"abd","1"),!Object(ru.a)(n)&&t)}function ii(){return(ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ai(e){const{additionalParams:t=Cf.a}=e;if(!Object(Lo.a)(e.adConfig))return;const{partnerId:n,adBreaks:r}=e.adConfig;return n||r?ii({},e.adConfig,{additionalParams:t}):void 0}function oi(e){if(void 0===e||isNaN(e))return"unknown";for(let t=0;t<Zv.length;t++)if(e<Zv[t].end)return Zv[t].name;return"unknown"}function si(e,t){return t&&"boolean"===typeof t.withCredentials?t.withCredentials:!!Object(Rp.a)(e.url)||Lf.withCredentials}function ci(e){return Object(eE.a)()?Math.ceil(e):e}function di(e){return"number"===typeof e&&nE.b<=e&&e<=nE.a}function li(e,t,n){let r,i;if(e/=360,n/=100,0===(t/=100))return r=255*n,[r,r,r];i=n<.5?n*(1+t):n+t-n*t;const a=2*n-i,o=[0,0,0];let s;for(let t=0;t<3;t++)s=e+1/3*-(t-1),s<0&&s++,s>1&&s--,r=6*s<1?a+6*(i-a)*s:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a,o[t]=255*r;return o}function ui(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i;let o=0;r===i?o=0:e===r?o=(t-n)/a:t===r?o=2+(n-e)/a:n===r&&(o=4+(e-t)/a),o=Math.min(60*o,360),o<0&&(o+=360);const s=(i+r)/2;let c=0;return c=r===i?0:s<=.5?a/(r+i):a/(2-r-i),[o,100*c,100*s]}function hi(e){return"0123456789abcdef".charAt(e/16<<0)+"0123456789abcdef".charAt(e%16)}function pi(e,t){let{r:n,g:r,b:i}=e;return void 0===t&&(t=127),function(e,t){return void 0===t&&(t=127),function(e){let[t,n,r]=e;return(299*t+587*n+114*r)/1e3}(e)>t}([n,r,i],t)}function fi(e){return"string"===typeof e&&7===e.length&&"#"===e[0]&&function(e){for(let t=0;t<e.length;t++)if("0123456789abcdef".indexOf(e[t].toLowerCase())<0)return!1;return!0}(e.substr(1))}function vi(e){const[t,n,r]=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e);return{r:t,g:n,b:r}}function Ei(e){let{r:t,g:n,b:r}=e;return function(e){let[t,n,r]=e;return"#"+hi(t)+hi(n)+hi(r)}([t,n,r])}function gi(e,t){const[n,r,i]=function(e,t){let[n,r,i]=e;const[a,o]=ui(n,r,i);return li(a,o,t)}([e.r,e.g,e.b],100*t);return{r:n,g:r,b:i}}function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ai(e,t){try{e.details||(e.details={}),e.details.stage=t}catch(e){}}function Si(e,t){return Object(kv.a)(e)?function(e){void 0===e&&(e=window);const t=Object(So.a)(e).match(/YaBrowser\/([\d.]+)/),n=t&&t[1]||"";return n?parseFloat(n):-1}(e)<18.6?"pip":"x-yandex-pip":"disablePictureInPicture"in t?"disablePictureInPicture":void 0}function Ti(e,t,n){const r=Si(e,n);r&&(t?n.removeAttribute(r):n.setAttribute(r,"true"))}function bi(e,t){e!==t&&(t.volume=e.volume,t.muted=e.muted)}function Oi(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.status:void 0}function Ri(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.readyState:void 0}function _i(e){if(void 0===e)return;const{level:t,start:n,duration:r,url:i,relurl:a,sn:o,programDateTime:s,deltaPTS:c,dropped:d,endDTS:l,endPTS:u,startDTS:h,startPTS:p}=e;return{level:t,start:n,duration:r,url:i,relurl:a,sn:o,programDateTime:s,deltaPTS:c,dropped:d,endDTS:l,endPTS:u,startDTS:h,startPTS:p}}function Pi(){return(Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ci(e){try{return JSON.parse(Object(DE.a)(Pi({},e,{networkDetails:void 0,frag:_i(e.frag)})))}catch(e){return{message:Object(cs.a)(()=>e.message)||"Cannot serialize hlsJsError"}}}function Ii(){return(Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wi(e){let{details:t,networkDetails:n}=e;if(451===(n?n.status:NaN))switch(t){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:return Rc.a.REGIONAL_LIMITATION_MANIFEST;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:return Rc.a.REGIONAL_LIMITATION_LEVEL;case Hls.ErrorDetails.FRAG_LOAD_ERROR:return Rc.a.REGIONAL_LIMITATION_SEGMENT;default:return}}function ki(e){let{details:t,networkDetails:n}=e;const r=n?n.status:NaN;if(NE.includes(r))switch(t){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:return Rc.a.SIGNATURE_EXPIRED_MANIFEST;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:return Rc.a.SIGNATURE_EXPIRED_LEVEL;case Hls.ErrorDetails.FRAG_LOAD_ERROR:return Rc.a.SIGNATURE_EXPIRED_SEGMENT;default:return}}function Ni(e){return void 0!==wi(e)}function Di(e){return void 0!==ki(e)}function Li(e){const{details:t,fatal:n}=e;return t?!FE.includes(t)&&(!(!Ni(e)&&!Di(e))||Boolean(n)):Boolean(n)}function ji(e,t){return void 0===e.err||void 0===e.err.message?"MISSED_STACK__"+t:e.err.message}function Mi(e){if(void 0===e)return;const{details:t}=e;if(t===Hls.ErrorDetails.BUFFER_STALLED_ERROR)return;const n=Li(e)&&!Vi(e),r=wi(e)||ki(e)||t||Rc.a.DEFAULT_ERROR,{err:{stack:i=new Error(ji(e,r)).stack}={stack:void 0}}=e;return new Oc({code:r,isFatal:n,details:Ii({},Ci(e),{networkErrorStatus:Oi(e),xhrReadyState:Ri(e)}),stack:i})}function Vi(e){return!Ni(e)&&!Di(e)&&(!!e.details&&jE.includes(e.details))}function Fi(e){const{details:t}=e;return!!t&&VE.includes(t)}function Ui(e){const t=e.split("x");if(t.length<2)return;const n={rows:parseInt(t[0],10),columns:parseInt(t[1],10)};return isNaN(n.rows)||isNaN(n.columns)?void 0:n}function xi(e,t){const{rows:n,columns:r}=e;if(!n||!r)return null;const{width:i,height:a}=t;return{width:Object(xs.i)(i/r),height:Object(xs.i)(a/n)}}function Hi(e,t){return 0===e.rows||0===e.columns?Object(xs.j)(0):Object(xs.j)(t/(e.rows*e.columns))}function Bi(e,t){if(0===Object.keys(e).length)return;const{uri:n,duration:r,resolution:i,tiles:a}=e;if([n,r,i,a].some(e=>!Boolean(e)))return void(t&&t("NonValidHLSThumbnailTileSessionData"));const o=Ui(a),s=function(e){if(""===e)return;const[t,n]=e.split("x"),r={width:Object(xs.i)(parseInt(t,10)),height:Object(xs.i)(parseInt(n,10))};return isNaN(r.width)||isNaN(r.height)?void 0:r}(i),c=Object(xs.j)(parseFloat(r));if(void 0===o||void 0===s||isNaN(c))return void(t&&t("MapTileSessionDataParseError"));return{tiles:o,uriTemplate:n,spriteDuration:c,resolution:s,tileSize:xi(o,s),tileDuration:Hi(o,c)}}function Ki(e,t,n){const r=t===xE.LOWRES?HE:BE,{VALUE:i=""}=e[r.tiles]||{},{VALUE:a=""}=e[r.duration]||{},{VALUE:o=""}=e[r.resolution]||{},{VALUE:s=""}=e[r.uri]||{},c=[i,a,o,s];if(!c.every(e=>""===e)){if(!c.some(e=>""===e))return{tiles:i,duration:a,resolution:o,uri:s};n&&n("NonValidHLSSessionData")}}function Yi(e){const t=e.match(KE);if(t)return{width:Object(xs.i)(parseInt(t[1],10)),height:Object(xs.i)(parseInt(t[2],10)),bitrate:Object(xs.f)(parseInt(t[3],10))}}function Wi(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function Gi(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function qi(e){let{width:t,height:n,bitrate:r}=e;return t+"x"+n+"@"+r}function Xi(e,t){const{attrs:n={},width:r,height:i}=e;if(!Object(rs.a)(i))return"";const a=i+"p";if(!Object(rs.a)(r))return a;const o=qi({width:r,height:i,bitrate:Object(xs.e)(n["AVERAGE-BANDWIDTH"]?parseInt(n["AVERAGE-BANDWIDTH"],10):e.bitrate)}),s=t.get(o);return void 0===s?a:s}function zi(e,t){let{attrs:n}=e;if(!n)return!1;const{RESOLUTION:r,BANDWIDTH:i}=n,a=r+"@"+i;return t.has(a)}function Qi(e,t,n){if(void 0===e)return;const{height:r,width:i,url:a,bitrate:o}=e;return Array.isArray(a)?{name:Xi(e,n),value:a[0],width:i,height:r,deepHD:zi(e,t),bitrate:o?Object(xs.b)(Object(xs.e)(o),1e3):xf}:void 0}function Ji(e,t,n){const r=function(e,t,n){const r={};return e.filter(e=>Boolean(n(e))).forEach(e=>{const i=t(e);(!r[i]||n(r[i])<n(e))&&(r[i]=e)}),Br(r)}(e,e=>{let{height:t}=e;return t},e=>{let{bitrate:t}=e;return t}),i=[];return r.forEach(e=>{const r=Qi(e,t,n);r&&i.push(r)}),i}function Zi(e,t){let{name:n,lang:r}=t;const i=n?e.find(e=>e.name===n):void 0;return i||(r?e.find(e=>e.lang===r):void 0)}function $i(e,t){let{name:n,height:r}=t;const i=n?e.find(e=>e.name===n):void 0;if(i)return i;if(void 0===r)return;const a=e.filter(e=>{let{height:t}=e;return void 0!==t});return function(e,t,n){if(e.length<1)return;let[r]=e,i=t(r);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);n(s,i)<0&&(r=o,i=s)}return r}(a,e=>{let{height:t}=e;return Math.abs(t-r)},(e,t)=>e-t)}function ea(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function ta(e){return void 0!==e&&Object(rs.a)(e)&&e>=0}function na(e){const{type:t}=e;return t===Us.a.VOD||!1===e.live?Us.a.VOD:t===Us.a.EVENT?Us.a.EVENT:Us.a.LIVE}function ra(e){const t=function(e){let t;void 0===e&&(e=window);try{t=e.devicePixelRatio}catch(e){}return t||1}();return{width:(e.width||e.clientWidth||e.offsetWidth)*t,height:(e.height||e.clientHeight||e.offsetHeight)*t}}function ia(e,t,n){function r(){0!==o&&(clearTimeout(o),o=0)}let{threshold:i=zE,delay:a=QE}=void 0===n?{}:n,o=0,s=0,c=0;const d=Object(Ko.a)(e,"click",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),l=Object(Ko.a)(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,c=e.changedTouches[0].screenY,r(),o=window.setTimeout(r,a))}),{passive:!0}),u=Object(Ko.a)(e,"touchend",(function(e){0!==o&&(r(),t(e))}),{passive:!0}),h=Object(Ko.a)(e,"touchmove",(function(e){if(0===o||!Object(Lo.a)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:n}=e.changedTouches[0];if(a=t,d=n,Math.abs(s-a)>i||Math.abs(c-d)>i)r();else var a,d}),{passive:!0});return()=>{d(),l(),u(),h()}}function aa(e){let{skin:{hiddenControls:t}}=e;return!t.includes(qs.b.TIMELINE)}function oa(e){const{controller:{videoType:t}}=e;return t!==Us.a.VOD&&hn(e)}function sa(e){let{kind:t}=e;return"subtitles"===t}function ca(e){const t=[];for(let n=0;n<e.length;n++)sa(e[n])&&t.push(e[n]);return t}function da(e){return e?"showing":"hidden"}function la(e){if(isNaN(e))return;const t={bandwidthEstimate:Object(xs.e)(Math.floor(e)),time:Object(hg.a)()};Iv.a.setItem("videolayer-bandwidth-estimate",JSON.stringify(t))}function ua(e,t){return e.startTime+e.duration-t.startTime+t.duration}function ha(){if("undefined"===typeof window.performance)return Object(xs.e)(NaN);const e=gg.reduce((e,t)=>vg()(e,function(e){try{return e.performance.getEntriesByType("resource").filter(e=>{let{transferSize:t}=e;return t>0})}catch(e){return[]}}(t),ua),[]);if(0===e.length)return Object(xs.e)(NaN);const t=new yg;return e.forEach(e=>{let{transferSize:n,duration:r}=e;return t.sample(r,n)}),t.getEstimate()}function pa(e,t){let{paused:n}=e;return t?Fs.a.BUFFERING:n?Fs.a.PAUSE:Fs.a.PLAY}function fa(e,t){Dv&&mE<81&&mE>77&&Object(xs.j)(e.duration)-t<Ag&&(t=Object(xs.d)(Object(xs.j)(e.duration),Ag)),e.currentTime=t}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ga(e,t){if(void 0===t)return e;return void 0!==function(e){const t=Object(cf.d)(e,"t");return void 0===t?t:Object(xs.j)(Number(t))}(e)?Object(cf.g)(e,"t",t):Object(cf.b)(e,"t",String(t))}function ma(e){if(void 0===e)return;const{id:t,label:n,language:r}=e;return{name:n||r,value:t,lang:r||""}}function Aa(e){const t=Object(qo.a)(e.audioTracks).find(e=>e.enabled);return t?ma(t):void 0}function Sa(e){if(void 0===e)return;const{id:t,label:n,language:r,bitrate:i=xf,deepHD:a=!1,height:o=0,width:s=0}=e;return{name:n||r,value:t,deepHD:a,bitrate:i,height:o,width:s}}function Ta(e){const t=Object(qo.a)(e.videoTracks).find(e=>e.selected);return t?Sa(t):void 0}function ba(e){return"subtitles"===e.kind&&"StreamPlayerJs TextTrack"!==e.label}function Oa(e,t){if(void 0===e)return;const{id:n,label:r,language:i}=e;return{name:r||i,value:"undefined"!==typeof n&&""!==n?n:"index:"+t,lang:i||""}}function Ra(e){const t=[];return Object(qo.a)(e).forEach(e=>{const n=ma(e);n&&t.push(n)}),t}function _a(e){const t=[];return Object(qo.a)(e).forEach((e,n)=>{if(!ba(e))return;const r=Oa(e,n);r&&t.push(r)}),t}function Pa(e){const t=[];return Object(qo.a)(e).forEach(e=>{const n=Sa(e);n&&t.push(n)}),t.filter(e=>{let{value:t}=e;return"auto"!==t})}function Ca(e,t){return t.code!==e.util.Error.Code.BAD_HTTP_STATUS?0:t.data[1]||0}function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wa(e){return{error:String(e.error)||"",isFatal:Boolean(e.isFatal)}}function ka(e){if("string"===typeof e)try{return wa(JSON.parse(e))}catch(t){return Ia({},wg,{error:e})}return"object"===typeof e?wa(e):wg}function Na(e){return new Oc({isFatal:e.isFatal,code:e.error===Ng.EXPIRED_SIGNATURE?Rc.a.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:Rc.a.DRM_PROXY_ERROR,details:{drmProxyError:e.error}})}function Da(e,t){if(!t)return;const{code:n,severity:r,category:i,data:a}=t;let o="shaka."+function(e,t){let n;for(n in e.util.Error.Code)if(e.util.Error.Code.hasOwnProperty(n)&&t.code===e.util.Error.Code[n])return n;return"ERROR"}(e,t)+"_"+n,s=a,c=r===e.util.Error.Severity.CRITICAL;switch(i){case e.util.Error.Category.NETWORK:s.networkErrorStatus=Ca(e,t);const r=function(e,t){if(t.code!==e.util.Error.Code.BAD_HTTP_STATUS)return;if(451!==Ca(e,t))return;switch(t.data[t.data.length-1]){case e.net.NetworkingEngine.RequestType.MANIFEST:return Rc.a.REGIONAL_LIMITATION_MANIFEST;case e.net.NetworkingEngine.RequestType.SEGMENT:return Rc.a.REGIONAL_LIMITATION_SEGMENT;default:return}}(e,t)||function(e,t){if(t.code!==e.util.Error.Code.BAD_HTTP_STATUS)return;const n=Ca(e,t);if(!NE.includes(n))return;switch(t.data[t.data.length-1]){case e.net.NetworkingEngine.RequestType.MANIFEST:return Rc.a.SIGNATURE_EXPIRED_MANIFEST;case e.net.NetworkingEngine.RequestType.SEGMENT:return Rc.a.SIGNATURE_EXPIRED_SEGMENT;default:return}}(e,t);void 0===r?o+=function(e,t){switch(t.code){case e.util.Error.Code.BAD_HTTP_STATUS:case e.util.Error.Code.HTTP_ERROR:case e.util.Error.Code.TIMEOUT:const n=function(e,t){const{RequestType:n}=e.net.NetworkingEngine;switch(t){case n.APP:return"APP";case n.LICENSE:return"LICENSE";case n.MANIFEST:return"MANIFEST";case n.SEGMENT:return"SEGMENT";case n.TIMING:return"TIMING";default:return}}(e,t.data[t.data.length-1]);return void 0===n?"_UNKNOWN":"_"+n;default:return""}}(e,t):o=r;break;case e.util.Error.Category.DRM:const i=a[0];if(!i||!Ig(i))break;const d=Na(kg(i));o=d.code,s=d.details,c=c||d.isFatal;break;case e.util.Error.Category.PLAYER:if(n===e.util.Error.Code.LOAD_INTERRUPTED)return;break;case e.util.Error.Category.CAST:case e.util.Error.Category.STORAGE:}return new Oc({code:o,isFatal:c,details:s})}function La(e){return e?function(e){let t="",n=0;const r=e.length;let i=0,a=0,o=0;for(;n<r;)switch(i=e[n++],i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[n++],o=e[n++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&o)<<0)}return t}(new Uint8Array(Array.from(e))):""}function ja(e,t){return function(e,t){const n=t===xE.HIGHRES?Mg:Vg,r=e.querySelector(n.version);if(!r||"2"!==r.getAttribute("value"))return;const i=e.querySelector(n.tiles),a=e.querySelector(n.uriTemplate),o=e.querySelector(n.spriteDuration),s=e.querySelector(n.resolution);if(!i||!a||!o||!s)return;const c=i.getAttribute("value"),d=a.getAttribute("value"),l=Object(xs.j)(parseFloat(o.getAttribute("value")||"")),u=s.getAttribute("value");if(!c||!u||!d||isNaN(l))return;const h=function(e){const t=e.split("x");if(t.length<2)return;const n={width:Object(xs.i)(parseInt(t[0],10)),height:Object(xs.i)(parseInt(t[1],10))};return isNaN(n.width)||isNaN(n.height)?void 0:n}(u);if(!h)return;const p=Ui(c);if(!p)return;const f=xi(p,h),v=Hi(p,l);return{tiles:p,uriTemplate:d,spriteDuration:l,resolution:h,tileSize:f,tileDuration:v}}(e,t)||function(e,t){const n=Object(qo.a)(e.querySelectorAll('AdaptationSet[mimeType="image/jpeg"]'));let r=n[0];if(!r)return;if(t===xE.LOWRES){let e;if(n.forEach(t=>{t.querySelector('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:type"][value="'+xE.LOWRES+'"]')&&(e=t)}),!e)return;r=e}const i=r.querySelector("SegmentTemplate"),a=r.querySelector("Representation"),o=r.querySelector("EssentialProperty");if(!i||!a||!o)return;const s=o.getAttribute("value"),c=i.getAttribute("media"),d=Object(xs.j)(parseFloat(i.getAttribute("duration")||"")),l=parseFloat(a.getAttribute("width")||""),u=parseFloat(a.getAttribute("height")||""),h={width:Object(xs.i)(l),height:Object(xs.i)(u)};if(!s||!c||!d||!l||!u)return;const p=Ui(s);if(!p)return;const f=xi(p,h),v=Hi(p,d);return{tiles:p,uriTemplate:c,spriteDuration:d,resolution:h,tileSize:f,tileDuration:v}}(e,t)}function Ma(e,t){let{bandwidth:n,width:r,height:i,label:a}=e;if("deephd"===a)return!0;if(!Object(rs.a)(r)||!Object(rs.a)(i)||!Object(rs.a)(n))return!1;const o=qi({width:r,height:i,bitrate:n});return t.has(o)}function Va(e){return(e.getAttribute("id")||"")+"@"+(e.getAttribute("width")||"")+"x"+(e.getAttribute("height")||"")+";"}function Fa(e){return Object(qo.a)(e.querySelectorAll("Representation")).map(Va).sort()}function Ua(e,t){return e.getAll().find(e=>e.pathname===t)}function xa(e){return/init-.*\.mp4/.test(e)}function Ha(e,t){if(!t||!e)return;const n='AdaptationSet > Representation[id="'+t+'"]',r=e.querySelector(n);if(!r)return;const i=r.parentElement;if(!i)return;const a=i.getAttribute("lang");return a?a.toLowerCase():void 0}function Ba(e){if(void 0===e)return;const t=e.getManifest();if(!t)return;const n=e.getMediaElement();if(!n)return;const{currentTime:r}=n,{periods:i=[]}=t;for(let e=0;e<i.length-1;e++)if(i[e].startTime<r&&r<i[e+1].startTime)return i[e];return i[i.length-1]}function Ka(e){try{return e.getVariantTracks().find(zg)}catch(e){return}}function Ya(e){const t=Ka(e);if(!t)return;const n=Ba(e);return n?n.variants.find(e=>t.id===e.id):void 0}function Wa(e){return void 0!==e&&null!==e.getManifest()}function Ga(e,t){let n=Object(xs.j)(0);if(!Wa(e))return n;if(void 0===t){const r=e.getMediaElement();if(!r)return n;t=Object(xs.j)(r.currentTime)}const r=function(e,t){const n=Ya(e);if(!n||!n.video)return null;try{const e=n.video.findSegmentPosition(t);return Object(rs.a)(e)?n.video.getSegmentReference(e):null}catch(e){return null}}(e,t);if(r){const{startTime:e,endTime:t}=r;n=Object(xs.d)(t,e)}return n}function qa(e){const t=function(){if(void 0!==Gv)return Gv.supportedDrmSystems}();return void 0!==e&&Object(Lo.a)(e.servers)&&void 0!==t&&t.filter(t=>Object(Af.a)(e.servers,t)).map(e=>{for(const t in Fv)if(Object(Af.a)(Fv,t)&&Fv[t].includes(e))return t;return!1}).filter(Boolean).join("|")||"none"}function Xa(e){const t=Ya(e);if(t&&t.video)return t.video.presentationTimeOffset}function za(e){if(!Wa(e))return;if(!e.isLive())return Us.a.VOD;const t=Xa(e);return void 0===t?void 0:0===t?Us.a.LIVE:Us.a.EVENT}function Qa(e){if(void 0===e)return;if(za(e)===Us.a.LIVE)return Object(xs.j)(0);const t=Xa(e);return void 0!==t&&t>0?Object(xs.d)(t,Ga(e)):void 0}function Ja(e){if(void 0===e)return;const t=Qa(e);if(void 0===t)return;const n=e.getMediaElement();return n?Object(xs.a)(t,Object(xs.j)(n.currentTime)):void 0}function Za(e,t){let{width:n,height:r,bandwidth:i}=e;if(!Object(rs.a)(r))return"";const a=r+"p";if(!Object(rs.a)(n)||!Object(rs.a)(i))return a;const o=qi({width:n,height:r,bitrate:Object(xs.e)(i)}),s=t.get(o);return void 0===s?a:s}function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function to(e){return String.fromCharCode(...Array.from(e))}function no(e){return e.charCodeAt(0)}function ro(e){return Array.from(e,no)}function io(e){let{id:t,method:n,params:r}=e;return JSON.stringify({jsonrpc:"2.0",id:t,method:n,params:r})}function ao(e){if(!("params"in e))return[];if(!Array.isArray(e.params))throw new Error("Expect #params to be and array if present in "+JSON.stringify(e));return e.params}function oo(e){return so(e)}function so(e){if(Object(rs.a)(e.id)){if(Math.floor(e.id)!==e.id)throw new Error("Expect #id to be an integer if it's a number in "+JSON.stringify(e));return e.id}if(Object(ru.a)(e.id)||null===e.id)return e.id;throw new Error("Expect #id to be an integer, string or null (not recommended) in "+JSON.stringify(e))}function co(e){if(!("id"in e))throw new Error("Expect #id to present in rpc response "+JSON.stringify(e));return so(e)}function lo(e){if("object"!==typeof e.error||null===e.error)throw new Error("Expect #error to be an object in "+JSON.stringify(e));const t=e.error;if(!Object(rs.a)(t.code))throw new Error("Expect #error#code to be an number in "+JSON.stringify(e));if(!Object(ru.a)(t.message))throw new Error("Expect #error#message to be an string in "+JSON.stringify(e));return"data"in t?{code:t.code,message:t.message,data:t.data}:{code:t.code,message:t.message}}function uo(e){const t=function(e){const t=Object(cs.a)(()=>JSON.parse(e));if(!Object(Lo.a)(t))throw new Error("Can't parse \""+e+'" as object');return t}(e);if(!function(e){return"2.0"===e.jsonrpc}(t))throw new Error("Expect "+e+" to be and json-rpc v2 message");if(Object(ru.a)(t.method))return function(e){return"id"in e?{jsonrpc:e.jsonrpc,method:e.method,params:ao(e),id:oo(e)}:{jsonrpc:e.jsonrpc,method:e.method,params:ao(e)}}(t);if("result"in t)return function(e){return{jsonrpc:e.jsonrpc,result:e.result,id:co(e)}}(t);if("error"in t)return function(e){return{jsonrpc:e.jsonrpc,error:lo(e),id:co(e)}}(t);throw new Error("Expect "+e+" to be and json-rpc v2 message")}function ho(e){const t=document.createElement("link");return t.rel="preload",t.as="script",new Promise(n=>{t.onload=n,t.href=e,t.crossOrigin="anonymous",Om.appendChild(t)}).then(Xo.a)}function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vo(e){return"videoplayer-iframe-api-raa-cache-"+e.autoplay+"-"+e.allowMuted+"-"+e.muted}function Eo(e){return Object(cs.a)(()=>{const t=JSON.parse(Iv.a.getItem(vo(e))),{time:n}=t,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["time"]);return Date.now()-n<Im?r:null})||null}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mo(){return(mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.r(t),n.d(t,"createJsPlayer",(function(){return Nm}));var yo={};n.r(yo),n.d(yo,"add",(function(){return I})),n.d(yo,"remove",(function(){return w})),n.d(yo,"has",(function(){return k})),n.d(yo,"check",(function(){return N})),n.d(yo,"all",(function(){return D})),n.d(yo,"clear",(function(){return L})),n.d(yo,"enableChecking",(function(){return j})),n.d(yo,"disableChecking",(function(){return M}));var Ao={};n.r(Ao),n.d(Ao,"actionTransformer",(function(){return H})),n.d(Ao,"logger",(function(){return xc}));var So=n(17);const To=function(e){return void 0===e&&(e=window),Object(So.a)(e).toLowerCase().indexOf("tizen")>-1},bo=function(e){void 0===e&&(e=window);const t=r(e);return 2===t.major&&3===t.minor},Oo=To(),Ro=bo(),_o=function(e){void 0===e&&(e=window);const t=r(e);return 2===t.major&&4===t.minor}(),Po=function(e){void 0===e&&(e=window);const t=Object(So.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1},Co=Po();var Io,wo=n(248),ko=n(246),No=n(224),Do=n(13),Lo=n(6);!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(Io||(Io={}));class jo{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(Lo.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=Io[this.code]||"")}}const Mo="com.apple.fps.1_0",Vo="com.apple.fps.2_0";var Fo=n(163),Uo=n(84),xo=n(135);const Ho=(void 0===Bo&&(Bo=window),Object(So.a)(Bo).indexOf("SamsungBrowser")>-1);var Bo,Ko=n(15),Yo=n(60),Wo=n(46),Go=n(106),qo=n(26),Xo=n(2);const zo=15,Qo=1500;var Jo=n(201),Zo=n(232),$o=n(244),es=n(75),ts=n(24),ns=n(83),rs=n(8),is=n(25),as=n(77);const os=e=>{let t=0;return{promise:new Promise(n=>{t=window.setTimeout(n,e)}),clear(){clearTimeout(t)},timeoutId:t}};var ss=n(18),cs=n(22),ds=n(63),ls=n(50),us=n(129),hs=n(139),ps=n(91);const fs=function(e){if(void 0===e&&(e=window),Object(ps.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}();var vs=n(39),Es=n(131);var gs=n(40);var ms=n(181);const ys=Object(ms.a)("video/webm")?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var As=n(171),Ss=n(23),Ts=n(120),bs=n(238);const Os=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),n=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Object(ns.a)(E(e))}})(e);return()=>{t(),n(),r()}};var Rs;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(Rs||(Rs={}));var _s,Ps=n(117);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(_s||(_s={}));const Cs={once:!0,passive:!0};let Is=!1;const ws=-1<hs.a&&hs.a<=16,ks=T({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Rs.AutomaticallyGenerated}),Ns=T({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Rs.AutomaticallyGenerated});class Ds{constructor(e,t){let{checkSoundEnabled:n,promise:r}=t;if(this.video=e,this.stop=Xo.a,this.isStopped=!1,this.revertVideoState=Xo.a,this.getIsActiveWindow())return this.promise=Promise.resolve(S({},Ns,{detectionMethod:Rs.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const i=document.createElement("div");i.style.display="none";const a=Os(e),o=A(e,()=>function(e,t){const n={};return Object(is.a)(t).forEach(t=>{n[t]=e.getAttribute(t)}),p(e,t),Object(ts.a)(()=>{p(e,n)})}(e,{src:ys}));let s;this.revertVideoState=Object(ts.a)(()=>{o(),e.load(),a(),Object(gs.a)(i)}),this.promise=new Promise(async(e,t)=>{let r,i,a;if(s=t,n){const e=await this.requestAutoplayAbilityByMuted(!1);i=e.autoplayAbility,r=e.detectionMethod}else i=!1;if(!this.isStopped){if(i)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(T({canPlayUnMuted:i,canPlayMuted:a,detectionMethod:r||Rs.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(A(t,()=>{t.load()}),await(async(e,t)=>{let n;try{await new Promise((r,i)=>{t&&t.then(r,i),n=window.setTimeout(r,e)})}finally{window.clearTimeout(n)}})(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:Rs.RAAStopped};t.muted=e,t.volume=e?0:1;const n=await new Promise(e=>{y(t,{useProgressEvent:!0,timeoutForNonPromisePlay:500}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(n=>{const r=g(t);r&&r.code===Io.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:Rs.MediaError})},0):e({autoplayAbility:!1,detectionMethod:n})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:Rs.RAAStopped}:n}getIsActiveWindow(){const e=Object(Es.a)(this.video);if(!e)return!1;const t=f(e);return Boolean(t&&t.hasBeenActive)}}var Ls;!function(e){e.AutoplayDisabled="AutoplayDisabled",e.RASAborted="RASAborted"}(Ls||(Ls={}));var js,Ms=n(118),Vs=n(146),Fs=n(7),Us=n(14);!function(e){e.Unsafe="Unsafe",e.OnlyYandexCreatives="OnlyYandexCreatives"}(js||(js={}));var xs=n(0),Hs=n(42),Bs=n.n(Hs),Ks=n(36),Ys=n(236),Ws=n.n(Ys);const Gs=Object(xs.h)(1e3);var qs=n(29);n(94);let Xs;!function(e){e.CLOSED="closed",e.IDLE="idle",e.LOADING="loading",e.UNKNOWN_USER="unknownUser",e.ACCESS_ERROR="accessError",e.ERROR="error"}(Xs||(Xs={}));const zs={externalPlaybackPossible:!1,externalPlaybackActivatedPopupVisible:!1,externalPlayerConfig:void 0,playerList:[],playerListStatus:Xs.CLOSED,playerCsrfToken:void 0};let Qs,Js;!function(e){e.SEEK_TO_LIVE="SEEK_TO_LIVE",e.TIMELINE="TIMELINE",e.KEYBOARD="KEYBOARD",e.DOUBLE_TAP="DOUBLE_TAP",e.MOBILE_UI="MOBILE_UI"}(Qs||(Qs={})),function(e){e.DEFAULT="DEFAULT",e.PROGRESS="PROGRESS",e.COMPLETED="COMPLETED"}(Js||(Js={}));const Zs=e=>qs.a.every(t=>e.includes(t));var $s=n(78),ec=n(73),tc=n(183),nc=n(104),rc=n(196),ic=n(220),ac=n(49),oc=n(121),sc=n(154);const cc=oc.a||ac.a||vs.a||sc.a;let dc;!function(e){e.Space="Space",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowRight="ArrowRight",e.ArrowLeft="ArrowLeft",e.KeyF="KeyF",e.Tab="Tab",e.Escape="Escape"}(dc||(dc={}));const lc={9:dc.Tab,27:dc.Escape,32:dc.Space,37:dc.ArrowLeft,38:dc.ArrowUp,39:dc.ArrowRight,40:dc.ArrowDown,70:dc.KeyF},uc=["keyup","keydown"],hc=["mousemove","click","dblclick","mouseenter","mouseleave","contextmenu"],pc=["touchstart","touchend","longtouch"];var fc=n(35);class vc extends fc.a{constructor(){super(...arguments),this.onEvent=new ss.a}}class Ec extends vc{constructor(e){super(),this.clickElement=e,this.createKeyboardEventHandler=e=>t=>{const n=(r=t).code?r.code in dc?r.code:void 0:lc[r.which||r.keyCode];var r;void 0!==n&&(n!==dc.Tab&&t.preventDefault(),this.onEvent.dispatch({type:e,event:{keyName:n,preventDefault:Xo.a}}))},this.createMouseEventHandler=e=>"contextmenu"===e?e=>this.handleContextMenuMouseEvent(e):t=>this.handleMouseEvent(e,t),this.handleMouseEvent=(e,t)=>{if(!(n=t.target)||n.ownerDocument&&n.ownerDocument.compareDocumentPosition(n)&n.DOCUMENT_POSITION_DISCONNECTED)return;var n;const{clientX:r,clientY:i}=function(e,t){const{top:n,left:r}=e.getBoundingClientRect();return{clientX:t.clientX-r,clientY:t.clientY-n}}(this.clickElement,t);this.onEvent.dispatch({type:e,event:{clientX:r,clientY:i,preventDefault:Xo.a}})},this.handleContextMenuMouseEvent=e=>{e.ctrlKey||e.altKey||(e.preventDefault(),this.handleMouseEvent("contextmenu",e))},this.handleLongTouch=e=>{const t=[{clientX:0,clientY:0}],n={touches:e&&"touches"in e?e.touches:t,changedTouches:e&&"changedTouches"in e?e.changedTouches:t,cancelable:!1,preventDefault:Xo.a};this.handleTouchEvent("longtouch",n)},this.createTouchEventHandler=e=>t=>this.handleTouchEvent(e,t),this.handleTouchEvent=(e,t)=>{const{touches:n,changedTouches:r}=function(e,t){const{top:n,left:r}=e.getBoundingClientRect();return{touches:Array.from(t.touches).map(e=>{let{clientX:t,clientY:i}=e;return{clientX:t-r,clientY:i-n}}),changedTouches:Array.from(t.changedTouches).map(e=>{let{clientX:t,clientY:i}=e;return{clientX:t-r,clientY:i-n}})}}(this.clickElement,t);this.onEvent.dispatch({type:e,event:{touches:n,changedTouches:r,preventDefault:()=>{try{if(!t.cancelable)return;t.preventDefault()}catch(e){}}}})},hc.forEach(t=>{"contextmenu"===t&&cc||this.addDestroyHandler(Object(Ko.a)(e,t,this.createMouseEventHandler(t)))}),pc.forEach(t=>{"longtouch"!==t?this.addDestroyHandler(Object(Ko.a)(e,t,this.createTouchEventHandler(t),{capture:!0,passive:!1})):this.addDestroyHandler(u(e,this.handleLongTouch,{touchesCount:2,handleContextmenu:!1}))}),uc.forEach(t=>{this.addDestroyHandler(Object(Ko.a)(e,t,this.createKeyboardEventHandler(t)))})}}let gc;!function(e){e.Click="click",e.DoubleClick="dblclick",e.MouseMove="mousemove",e.MouseEnter="mouseenter",e.MouseLeave="mouseleave",e.ContextMenu="contextmenu"}(gc||(gc={}));const mc=Object(xs.h)(300),yc=Object(xs.b)(mc,3/4);class Ac extends fc.a{static calculateEventSlop(e,t){let{event:n}=e,{event:r}=t;const i=n.touches[0]||n.changedTouches[0],a=r.touches[0]||r.changedTouches[0],o=Math.abs(i.clientX-a.clientX),s=Math.abs(i.clientY-a.clientY);return o*o+s*s}constructor(e){super(),this.params=e,this.onEvent=new ss.a,this.timeoutId=void 0,this.firstTouchStartEvent=void 0,this.firstTouchStopEvent=void 0,this.secondTouchStartEvent=void 0,this.skipNextClick=!1,this.handleClickerEvent=e=>{if(function(e){return hc.includes(e.type)}(e)&&this.handleMouseEvent(e),function(e){return pc.includes(e.type)}(e))switch(e.timeStamp=Object(xs.h)(Date.now()),e.type){case"touchstart":this.handleTouchStart(e);break;case"touchend":this.handleTouchEnd(e);break;case"longtouch":this.dispatchEvent(_({},e,{type:gc.ContextMenu,event:_({},e.event,P(e))}))}},this.handleTouchEnd=e=>{this.firstTouchStartEvent&&(this.firstTouchStopEvent||(this.firstTouchStopEvent=e))},this.handleTouchStart=e=>{if(this.skipNextClick=!0,this.firstTouchStartEvent||this.timeoutId){if(this.secondTouchStartEvent)return;{this.secondTouchStartEvent=e;const t=this.isConsideredDoubleTap();this.reset(),t&&this.dispatchEvent(_({},e,{type:gc.DoubleClick,event:_({},e.event,P(e))}))}}else this.firstTouchStartEvent=e,this.timeoutId=window.setTimeout(this.handleTimeout,mc)},this.handleTimeout=()=>{const e=Boolean(this.firstTouchStartEvent&&this.firstTouchStopEvent&&!this.secondTouchStartEvent),t=this.areFirstTapsInSameBox(),n=e&&this.firstTouchStopEvent.timeStamp-this.firstTouchStartEvent.timeStamp<=yc,r=e&&t&&n,i=this.firstTouchStopEvent;this.reset(),r&&this.dispatchEvent(_({},i,{type:gc.Click,event:_({},i.event,P(i))}))};const{eventListener:t}=e;this.addDestroyHandler(()=>this.reset()),this.addDestroyHandler(t.onEvent.add(this.handleClickerEvent))}handleMouseEvent(e){this.skipNextClick?e.type===gc.Click&&(this.skipNextClick=!1):this.dispatchEvent(e)}dispatchEvent(e){-1!==e.event.clientX&&-1!==e.event.clientY&&this.onEvent.dispatch(e)}areFirstTapsInSameBox(){if(!this.firstTouchStartEvent||!this.firstTouchStopEvent)return!1;return Ac.calculateEventSlop(this.firstTouchStartEvent,this.firstTouchStopEvent)<=32}isConsideredDoubleTap(){if(!this.firstTouchStartEvent||!this.firstTouchStopEvent||!this.secondTouchStartEvent)return!1;if(!this.areFirstTapsInSameBox())return!1;if(!(Ac.calculateEventSlop(this.firstTouchStartEvent,this.secondTouchStartEvent)<=300))return!1;return!(this.secondTouchStartEvent.timeStamp-this.firstTouchStartEvent.timeStamp>mc)}reset(){window.clearTimeout(this.timeoutId),this.timeoutId=void 0,this.firstTouchStartEvent=void 0,this.firstTouchStopEvent=void 0,this.secondTouchStartEvent=void 0}}class Sc extends fc.a{constructor(e){super(),this.clickElement=e;const t=new Ec(this.clickElement);this.addDestroyHandler(()=>t.destroy());const n=new Ac({eventListener:t});this.addDestroyHandler(()=>n.destroy()),this.addDestroyHandler(n.onEvent.add(e=>{e.type===gc.DoubleClick&&e.event.preventDefault()}))}}var Tc;!function(e){e.AdStarted="AdStarted",e.AdPlayingStateChange="AdPlayingStateChange",e.AdPodStarted="AdPodStarted",e.AdPodImpression="AdPodImpression",e.AdPodVideoFirstQuartile="AdPodVideoFirstQuartile",e.AdPodVideoMidpoint="AdPodVideoMidpoint",e.AdPodVideoThirdQuartile="AdPodVideoThirdQuartile",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdPodSkipped="AdPodSkipped",e.AdClickThru="AdClickThru",e.AdPodStopped="AdPodStopped",e.AdPodComplete="AdPodComplete",e.AdPodClose="AdPodClose",e.AdPodError="AdPodError",e.AdStopped="AdStopped",e.AllAdPodVideoComplete="AllAdPodVideoComplete",e.AdSkippableStateChange="AdSkippableStateChange",e.AdVolumeChange="AdVolumeChange",e.AdVolumeAvailabilityStateChange="AdVolumeAvailabilityStateChange",e.AdContentSizeChange="AdContentSizeChange"}(Tc||(Tc={}));var bc=n(76);class Oc extends bc.a{constructor(e,t){super(e,t)}}var Rc=n(1),_c=n(16),Pc=n(9),Cc=n(51),Ic=n(12);const wc={play:Fs.a.PLAY,pause:Fs.a.PAUSE,end:Fs.a.END,idle:Fs.a.PAUSE};class kc extends fc.a{constructor(e){super(),this.params=e,this.destroyPromise=new Promise(e=>{this.addDestroyHandler(()=>{e()})}),this.currentAdPlaybackController=void 0,this.playbackQueue=[],this.logAdStart=Object(ts.a)(()=>{const e=this.getAdTypeForLogs(),t=this.playbackQueue.length,{logEvent:n}=this.params;n({event:_c.a.AdStart,params:{adPodsCount:t,adType:e}}),e===Pc.a.inroll&&n({event:_c.a.InrollAdStart,params:{adPodsCount:t}})}),this.logAdEnd=Object(ts.a)(()=>{const e=this.getAdTypeForLogs(),t=this.playbackQueue.length,{logEvent:n}=this.params;e===Pc.a.inroll&&n({event:_c.a.InrollAdEnd,params:{adPodsCount:t}}),n({event:_c.a.AdEnd,params:{stopAdReason:this.destroyReason||Cc.a.AdCompleted,adPodsCount:t,adType:e}})}),this.adPodIndex=0,this.startPlayingAd=Object(ts.a)(async()=>{for(this.logAdStart();this.adPodIndex<this.playbackQueue.length&&!this.isDestroyed;)await this.playAdPod(this.playbackQueue[this.adPodIndex]),this.adPodIndex++;this.logAdEnd(),this.destroy(Cc.a.AdCompleted)}),this.dispatchOnFirstAdPodStarted=Object(ts.a)(()=>{this.params.onFirstAdPodStarted()}),this.playAdPod=async e=>{let{adType:t,adViewer:n,additionalData:r,adDisplayConfig:i,adElementsSet:a}=e;if(0===n.getAdPodsCount())return void Ic.a.log("AdViewer is empty");const{logEvent:o}=this.params;if(o({event:_c.a.AdPodLoading,params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:r}}),t===Pc.a.inroll){const{cueId:e}=r;o({event:_c.a.InrollAdPodStart,params:{adPodsCount:this.playbackQueue.length,cueId:e}}),n.setStatsRootFields({cueid:e})}const s=n.createPlaybackController(a.videoSlotElement,a.adSlotElement,C({videoSlotCanAutoPlay:!0},i));this.currentAdPlaybackController=s,s.subscribe(Tc.AdPodStarted,()=>{o({event:"AdPodStart",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:r}}),this.dispatchOnFirstAdPodStarted(),this.params.onAdPodStarted({adElementsSet:a}),this.updateAdPodPlayingStateChange()}),s.subscribe(Tc.AdPodStopped,()=>{this.params.onAdPodStopped()}),s.subscribe(Tc.AdContentSizeChange,()=>{const e=s.getAdContentSize();if(void 0===e)return;const{width:t,height:n}=e;this.params.onAdSizeChange({width:Object(xs.i)(Object(rs.a)(t)?t:NaN),height:Object(xs.i)(Object(rs.a)(n)?n:NaN)})}),s.subscribe(Tc.AdPodImpression,()=>{this.params.onAdPodImpression(),o({event:"AdPodImpression",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:r}})}),s.subscribe(Tc.AdPodError,e=>{o({event:"AdPodError",params:C({},e,{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:r})})}),s.subscribe(Tc.AdClickThru,()=>{this.params.onAdClickThru(),o({event:"AdClickThru",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:r}})}),await new Promise(e=>{s.subscribe(Tc.AdStopped,e),s.playAd(),this.params.onAdPodPlayingStateChange(Fs.a.BUFFERING)}),this.currentAdPlaybackController=void 0,o({event:_c.a.AdPodEnd,params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:r}}),t===Pc.a.inroll&&(o({event:_c.a.InrollAdPodEnd,params:{adPodsCount:this.playbackQueue.length,cueId:r.cueId}}),n.setStatsRootFields({cueid:void 0}))},this.addDestroyHandler(()=>{this.currentAdPlaybackController&&(this.currentAdPlaybackController.stopAd(),this.currentAdPlaybackController=void 0)})}playAdViewers(e){this.isDestroyed||(this.playbackQueue.push(e),this.addDestroyHandler(()=>{e.adViewer.destroy()}),this.startPlayingAd())}resumeAd(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.resumeAd(),this.updateAdPodPlayingStateChange())}pauseAd(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.pauseAd(),this.updateAdPodPlayingStateChange())}getDestroyPromise(){return this.destroyPromise}getAdTypeForLogs(){const[e]=this.playbackQueue;return e?e.adType:(this.params.onError(new Oc({code:Rc.a.AD_TYPE_IS_NOT_RECOGNIZED,isFatal:!1})),"unrecognized")}updateAdPodPlayingStateChange(){if(!this.currentAdPlaybackController)return;const e=this.currentAdPlaybackController.getAdPlayingState();this.params.onAdPodPlayingStateChange(wc[e])}}var Nc={},Dc={checkExisting:!0},Lc=0,jc=function(e){return e},Mc=function(e){return e&&"function"===typeof e.dispatch?e.dispatch:e},Vc=function(e){return Array.isArray(e)?e.map(Mc):Mc(e)},Fc=V("Batch",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?t[0]:t})),Uc=Fc.getType(),xc={},Hc=function(e){"function"===typeof console[e]&&(xc[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();Array.isArray(i)&&i.type===Uc?i.forEach((function(t){console[e].apply(console,[].concat(n,[t]))})):(n.push(i),console[e].apply(console,n))})};for(var Bc in console)Hc(Bc);const Kc=V("STORE_AD_CONFIG"),Yc=V("STORE_UPDATE_AD_INFO"),Wc=V("STORE_PUT_AD_INFO"),Gc=V("STORE_PUT_IS_ORIGINAL_BROADCAST_AD_CUE_ID"),qc=V("STORE_PUT_ADBLOCK_DETECTED"),Xc=V("STORE_PUT_ORIGINAL_BROADCAST_AD_CUES"),zc=V("STORE_REFRESH_CUE"),Qc=V("STORE_REMOVE_CUE"),Jc=V("STORE_PUT_HAS_PREROLL"),Zc=V("STORE_PUT_AD_SYNC_INIT"),$c=V("STORE_UPDATE_ORIGINAL_AD_STATE"),ed=V("STORE_PUT_LAST_KNOWN_BANDWIDTH_ESTIMATE"),td=V("STORE_AD_PUT_IN_STREAM_PLAYING_STATE"),nd=V("STORE_PUT_NEXT_AD_INFO"),rd=V("STORE_PUT_ENGINE"),id=V("STORE_PUT_AUTOPLAY"),ad=V("STORE_PUT_START_STAGE"),od=V("STORE_PUT_PRELOAD"),sd=V("STORE_PUT_ENCODER_ATTACHED"),cd=V("STORE_PUT_VOLUME_INFO"),dd=V("STORE_PUT_REQUIRE_USER_GESTURE_TO_UNMUTE"),ld=V("STORE_PUT_AUTOPLAY_IMPOSSIBLE"),ud=V("STORE_PUT_USER_VOLUME"),hd=V("STORE_PUT_DURATION"),pd=V("STORE_PUT_VIDEO_SIZES"),fd=V("STORE_PUT_VIDEO_TYPE"),vd=V("STORE_PUT_PLAYING_STATE"),Ed=V("STORE_PUT_CURRENT_TIME"),gd=V("STORE_PUT_CURRENT_TIME_LOW_QUALITY"),md=V("STORE_PUT_VIDEO_INFO"),yd=V("STORE_PUT_FROM"),Ad=V("STORE_PUT_STREAM"),Sd=V("STORE_PUT_SOURCE_PARAMS"),Td=V("STORE_UPDATE_SOURCE_ID"),bd=V("STORE_PUT_STREAMS"),Od=V("STORE_PUT_STREAMS_WITH_SUPPORT_INFO"),Rd=V("STORE_PUT_START_POSITION"),_d=V("STORE_PUT_IS_ONLINE"),Pd=V("STORE_PUT_FRAGMENT_DURATION"),Cd=V("STORE_PUT_PROGRAM_DATE_TIME"),Id=V("STORE_PUT_DVR_START_TIME"),wd=V("STORE_PUT_DVR_DURATION"),kd=V("STORE_PUT_INIT_TIME"),Nd=V("STORE_PUT_SKIN_DVR_START_TIME"),Dd=V("STORE_PUT_SKIN_DVR_DURATION"),Ld=V("STORE_PUT_PLAYBACK_RATE"),jd=V("STORE_PUT_BUFFERING_RANGES"),Md=V("STORE_PUT_ERROR_INFO"),Vd=V("STORE_PUT_LAST_RECOVER_POSITION"),Fd=V("STORE_PUT_IS_ABR_SUPPORTED"),Ud=V("STORE_PUT_IS_ABR_ENABLED"),xd=V("STORE_PUT_VIDEO_TRACK"),Hd=V("STORE_PUT_VIDEO_TRACKS",e=>[...e].sort(B)),Bd=V("STORE_PUT_USER_VIDEO_TRACK_PARAMS"),Kd=V("STORE_PUT_AUDIO_TRACK_VALUE"),Yd=V("STORE_PUT_AUDIO_TRACKS"),Wd=V("STORE_PUT_USER_AUDIO_TRACK_PARAMS"),Gd=V("STORE_PUT_VIDEO_TAG_READY_STATE"),qd=V("STORE_PUT_TEXT_TRACKS"),Xd=V("STORE_PUT_TEXT_TRACK_ENABLED"),zd=V("STORE_PUT_NATIVE_TEXT_TRACK_VISIBILITY"),Qd=V("STORE_PUT_TEXT_TRACK_VALUE"),Jd=V("STORE_PUT_USER_TEXT_TRACK_PARAMS"),Zd=V("STORE_CHANGE_TEXT_TRACK_PARAMETERS"),$d=V("ENABLE_TEXT_TRACK"),el=V("STORE_PUT_SUBTITLES"),tl=V("STORE_PUT_IS_FULLSCREEN"),nl=V("STORE_PUT_IS_PIP"),rl=V("STORE_PUT_IS_VISIBLE"),il=V("STORE_PUT_IS_DOCUMENT_VISIBLE"),al=V("STORE_PUT_PAUSED_CAUSE_VISIBILITY_CHANGE"),ol=V("STORE_PUT_EXPECTED_STALLED"),sl=V("STORE_PUT_PREVIEW"),cl=V("STORE_PUT_WATCHED_TIME"),dl=V("STORE_PUT_WATCHED_TIME_SINCE_AD"),ll=V("STORE_PUT_AD_SESSION_WATCHED_TIME"),ul=V("STORE_PUT_TILE_META_INFO"),hl=V("STORE_PUT_RESOURCES_IDLE"),pl=V("STORE_PUT_SKIN_SIZE"),fl=V("STORE_PUT_HIDDEN_CONTROLS"),vl=V("STORE_PUT_SHOW_PRELOADER"),El=V("STORE_PUT_SHOW_ERROR_SCREEN"),gl=V("SKIN_PUT_SETTINGS_VISIBILITY"),ml=V("SKIN_PUT_SETTINGS_VISIBILITY_BEFORE_SKIN_CLICK"),yl=V("SKIN_PUT_SETTINGS_PAGE"),Al=V("SKIN_TOGGLE_SETTINGS_VISIBILITY"),Sl=V("SKIN_PUT_LOGO_CONFIG"),Tl=V("STORE_PUT_CONTEXT_MENU_VISIBILITY_LOCK"),bl=V("STORE_PUT_CONTEXT_MENU_VISIBILITY"),Ol=V("STORE_PUT_CONTEXT_MENU_POSITION"),Rl=V("STORE_PUT_SEEK_TAP_EVENT"),_l=V("STORE_PUT_WAS_VOLUME_CHANGED"),Pl=V("STORE_PUT_NATIVE_CONTROLS_VISIBILITY"),Cl=V("STORE_PUT_VIDEO_ELEMENT_STYLE"),Il=V("STORE_ON_VIDEO_TAG_PLAYING_STATE_CHANGE"),wl=V("STORE_ADD_PROMO_CONFIG"),kl=V("STORE_PUT_NETWORK_SCORE"),Nl=V("STORE_LOG_EVENT"),Dl=V("STORE_PUT_FEATURES_PARAMS"),Ll=V("FEATURE_DISPATCH_ACTION"),jl=(V("FEATURE_DISPATCH_EVENT"),Object(xs.j)(900));let Ml;!function(e){e.original="original"}(Ml||(Ml={}));class Vl{constructor(e,t){this.parent=e,this.element=document.createElement("div");const{style:n}=this.element;n.backgroundColor=function(e){switch(e){case Ml.original:return"rgba(0, 255, 0, 0.5)";default:throw new Error("Unexpected BroadcastAdType ["+e+"]")}}(t),n.width="10px",n.height="10px",n.cssFloat="left",n.marginRight="1px"}setVisibility(e){e?this.show():this.hide()}show(){this.parent.appendChild(this.element)}hide(){Object(gs.a)(this.element)}}class Fl{constructor(e){this.element=document.createElement("div"),e.appendChild(this.element);const{style:t}=this.element;t.position="absolute",t.bottom="1px",t.left="1px"}createIndicator(e){return new Vl(this.element,e)}}var Ul=n(205);const xl=Object(xs.h)(6e5);let Hl;!function(e){e.INVALID_INROLL_FRAME="INVALID_INROLL_FRAME",e.INVALID_START="INVALID_START",e.CROSSED_BY_INVALID="CROSSED_BY_INVALID",e.MAX_DURATION="MAX_DURATION"}(Hl||(Hl={}));const Bl=Object(xs.h)(5e3),Kl=Object(xs.h)(1e4),Yl=Object(xs.a)(xl,Object(xs.c)(Kl,3)),Wl=Object(xs.h)(-xl);class Gl{constructor(){this.onInvalidAdInterval=new ss.a,this.onAdIntervalUpdated=new ss.a,this.adIntervals=[]}handleInrollFrame(e){if(!function(e){if(e.offset<Wl||e.offset>Yl)return!1;if(void 0===e.cutoff)return!0;if(e.cutoff<Wl||e.cutoff>Yl)return!1;const t=e.cutoff-e.offset;return t>=Bl&&t<=xl}(e))return Ic.a.warn("invalid inroll frame:",e),void this.handleInvalidInrollFrame(e,Hl.INVALID_INROLL_FRAME);const t=this.adIntervals.find(t=>{let{cueId:n}=t;return n===e.cue_id});if(!t)return this.addAdIntervalByFastFrame(e);this.updateAdIntervalByInrollFrame(t,e)}validateAdIntervalsByTimestamp(e){for(let t=0;t<this.adIntervals.length;t++){const n=this.adIntervals[t];if(n.start>e)return;if(!n.isValid||n.isEndReceived)continue;if(e-n.start>xl){this.invalidateAdInterval(n,Hl.MAX_DURATION);continue}const r=this.adIntervals[t+1];if(!r)return;r.start<=e&&this.invalidateAdInterval(n,Hl.CROSSED_BY_INVALID)}}handleInvalidInrollFrame(e,t){const n=this.adIntervals.find(t=>{let{cueId:n}=t;return n===e.cue_id});if(n)return this.invalidateAdInterval(n,t),void this.updateAdIntervalByInrollFrame(n,e);const r=X(e);this.invalidateAdInterval(r,t),this.pushAdInterval(r)}addAdIntervalByFastFrame(e){const t=X(e);return this.pushAdInterval(t),t.isValid?t:void 0}updateAdIntervalByInrollFrame(e,t){const n=t.pts+t.offset;if(Math.abs(e.start-n)>Ul.a)return void this.invalidateAdInterval(e,Hl.INVALID_START);if(e.isEndReceived)return;const r=void 0!==t.cutoff,i=r?Object(xs.a)(t.pts,t.cutoff):q(t.pts,e.start);e.isEndReceived=r,e.end=i,this.handleUpdatedAdInterval(e)}findCrossedAdIntervals(e){return this.adIntervals.filter(t=>e!==t&&(e.start<t.start?e.end>t.start:t.end>e.start))}pushAdInterval(e){const t=this.findCrossedAdIntervals(e);t.length&&this.invalidateAdInterval(e,Hl.CROSSED_BY_INVALID),this.adIntervals.push(e),this.adIntervals.sort((e,t)=>{let{start:n}=e,{start:r}=t;return n-r}),this.invalidate(t,Hl.CROSSED_BY_INVALID),e.isValid&&this.onAdIntervalUpdated.dispatch(e)}handleUpdatedAdInterval(e){const t=this.findCrossedAdIntervals(e);if(t.length)return t.push(e),void this.invalidate(t,Hl.CROSSED_BY_INVALID);e.isValid&&this.onAdIntervalUpdated.dispatch(e)}invalidate(e,t){e.forEach(e=>{this.invalidateAdInterval(e,t)})}invalidateAdInterval(e,t){e.isValid&&(e.isValid=!1,e.invalidateReason=t,this.onInvalidAdInterval.dispatch({reason:t,cueId:e.cueId}))}}const ql=Object(xs.j)(15);var Xl=n(199);class zl{constructor(e){this.adType=e,this.ads=[],this.postAdsIds=[]}add(e){if(this.postAdsIds.indexOf(e.cueId)>-1)return;const t=this.findById(e.cueId);t?t.startTime=e.startTime:this.ads.push(z({},e,{adViewers:e.adViewers.reduce((e,t)=>e.concat(t.separateAdPods()),[])}))}getAdViewers(e,t){const[n,r]=Object(Xl.a)(this.ads,n=>{let{startTime:r,endTime:i,cueId:a,adViewers:o}=n;if(a!==t)return!1;if(e<r)return!1;if(i-ql*ds.a<e)return!1;for(const t of o){if(e+1e3*t.getAdDuration()<i)return!0}return!1});if(0===n.length)return[];this.postAdsIds.push(...n.map(e=>{let{cueId:t}=e;return t})),this.ads=r,n.sort((e,t)=>e.startTime-t.startTime);let i=Object(xs.j)(0);const a=[];for(const{adViewers:t,endTime:r,cueId:o}of n)for(const n of t){const t=Object(xs.a)(e,Object(xs.c)(i,1e3));if(r-ql*ds.a<t)break;r<Object(xs.a)(t,Object(xs.c)(n.getAdDuration(),1e3))||(a.push({adViewer:n,additionalData:{cueId:o},adType:this.adType}),i=Object(xs.a)(i,Object(xs.j)(n.getAdDuration())))}return a}findById(e){return this.ads.find(t=>{let{cueId:n}=t;return n===e})}}class Ql{constructor(e,t,n,r,i){let a;this.video=e,this.slot=t,this.store=n,this.playerApi=r,this.onError=i,this.onInrollAdPlayRequest=new ss.a,this.onOverlayAdPlayRequest=new ss.a,this.onAdIntervalUpdated=new ss.a,this.onAdIntervalRemoved=new ss.a,this.adIntervalStorage=new Gl,this.isEnabled=!0,this.adIndicators=void 0,this.inrolls=new zl(Pc.a.inroll),this.overlays=new zl(Pc.a.inrollOverlay),this.adIndicators=new Fl(t);const o=this.adIndicators.createIndicator(Ml.original);e.addEventListener("timeupdate",()=>{const t=this.store.getState(),n=W(t);if(a!==n){const e=void 0!==n;o.setVisibility(e),a=n}const r=G(t);r&&(this.adIntervalStorage.validateAdIntervalsByTimestamp(r),this.isEnabled&&!e.paused&&(this.store.dispatch($c()),this.handleInrolls(),this.handleOverlays()))}),this.adIntervalStorage.onAdIntervalUpdated.add(e=>{this.onAdIntervalUpdated.dispatch({cueId:e.cueId,start:e.start,end:e.end})}),this.adIntervalStorage.onInvalidAdInterval.add(e=>{let{cueId:t,reason:n}=e;Ic.a.warn("invalid ad interval: [cueId="+t+"] [reason="+n+"]"),this.onError(new Oc({code:Rc.a.INVALID_METADATA,details:{cueId:t,reason:n},isFatal:!1})),this.onAdIntervalRemoved.dispatch(t)})}handleInrollFrame(e){const t=this.adIntervalStorage.handleInrollFrame(e);if(!t)return Promise.resolve();const{cueId:n,start:r,end:i,isEndReceived:a}=t,o=a?i+ql*ds.a:r+xl,s="overlay"===e.ad_type;return this.addInroll(n,r,Object(xs.h)(o),{isOverlay:s,inrollFrame:e})}setEnabled(e){this.isEnabled=e}async addInroll(e,t,n,r){let{isOverlay:i,inrollFrame:a}=r;const o=i?Pc.a.inrollOverlay:Pc.a.inroll;this.playerApi.logEvent({event:_c.a.BroadcastAdReceived,params:{cueId:e,podStart:t,adType:o}});const s=this.playerApi.publicApi.getMultiroll(),c=i?await s.inrollOverlay.loadViewers(J({},a)):await s.inroll.loadViewers(J({},a));if(0===c.length)return;const d=Q(c);this.playerApi.logEvent({event:_c.a.BroadcastAdInit,params:{cueId:e,podStart:t,duration:d,adPodsCount:c.length,adType:o}}),(i?this.overlays:this.inrolls).add({adViewers:c,cueId:e,startTime:t,endTime:n})}handleInrolls(){const e=this.store.getState(),t=G(e);if(!t)return;const n=W(e);if(!n)return;const r=this.inrolls.getAdViewers(t,n);if(!r.length)return;const{ad:{adInfo:i}}=e;i&&i.adType===Pc.a.overlay&&this.playerApi.publicApi.stopAd({stopAdReason:Cc.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:Pc.a.inroll}}),this.onInrollAdPlayRequest.dispatch(r)}handleOverlays(){const e=this.store.getState(),{ad:{adInfo:t}}=e;if(Boolean(t))return;const n=G(e);if(!n)return;const r=W(e);if(!r)return;const i=this.overlays.getAdViewers(n,r);i.length&&this.onOverlayAdPlayRequest.dispatch(i)}}const Jl=[Pc.a.midroll,Pc.a.inroll];class Zl{constructor(){this.stopReasonInternal=void 0}stop(e){this.stopReasonInternal=e}get stopReason(){return this.stopReasonInternal}}var $l=n(79),eu=n(54);const tu=Object(us.getHardcodedParam)(window,eu.HARDCODED_ADSDK_URL)||"https://an.yandex.ru/system/video-ads-sdk/adsdk.js",nu=()=>{if("undefined"!==typeof ya&&ya.videoAd&&ya.videoAd.loadModule)return ya.videoAd.loadModule};var ru=n(20),iu=n(119),au=n(136),ou=n(81);const su=e=>{let{callback:t}=e;return t(),Xo.a};var cu=n(267),du=function(){return Math.random().toString(36).substring(7).split("").join(".")},lu={INIT:"@@redux/INIT"+du(),REPLACE:"@@redux/REPLACE"+du(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+du()}};var uu=function(e){return"@@redux-saga/"+e},hu=uu("CANCEL_PROMISE"),pu=uu("CHANNEL_END"),fu=uu("IO"),vu=uu("MATCH"),Eu=uu("MULTICAST"),gu=uu("SAGA_ACTION"),mu=uu("SELF_CANCELLATION"),yu=uu("TASK"),Au=uu("TASK_CANCEL"),Su=uu("TERMINATE"),Tu=uu("LOCATION"),bu=function(e){return null===e||void 0===e},Ou=function(e){return null!==e&&void 0!==e},Ru=function(e){return"function"===typeof e},_u=function(e){return"string"===typeof e},Pu=Array.isArray,Cu=function(e){return e&&Ru(e.then)},Iu=function(e){return e&&Ru(e.next)&&Ru(e.throw)},wu=function e(t){return t&&(_u(t)||Du(t)||Ru(t)||Pu(t)&&t.every(e))},ku=function(e){return e&&Ru(e.take)&&Ru(e.close)},Nu=function(e){return Ru(e)&&e.hasOwnProperty("toString")},Du=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},Lu=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[hu]=function(){clearTimeout(n)},r},ju=function(e){return function(){return e}}(!0),Mu=function(){};var Vu,Fu=function(e){return e},Uu=("function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator,function(e,t){ue(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))}),xu=function(e){throw e},Hu=function(e){return{value:e,done:!0}},Bu=function(e){return Array.apply(null,new Array(e))},Ku=function(e){return function(t){return e(Object.defineProperty(t,gu,{value:!0}))}},Yu=function(e){return e===Su},Wu=function(e){return e===Au},Gu=function(e){return Yu(e)||Wu(e)},qu=function(e){return ye(e,4)},Xu=function(e,t){var n;return(n={})[fu]=!0,n.combinator=!1,n.type=e,n.payload=t,n},zu=Re.bind(null,Lu),Qu=we,Ju=[],Zu=0,$u=function(e){return function(t){return e.some((function(e){return Ve(e)(t)}))}},eh=function(e){return function(t){return e(t)}},th=function(e){return function(t){return t.type===String(e)}},nh=function(e){return function(t){return t.type===e}},rh=function(){return ju},ih={type:pu},ah=function(e){return e&&e.type===pu},oh=0,sh=function(){return++oh},ch=((Vu={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,s=function(e){e instanceof Error?n(e,!0):!ah(e)||o?n(e):n(Su)};try{i.take(s,Ou(a)?Ve(a):null)}catch(e){return void n(e,!0)}n.cancel=s.cancel},Vu.PUT=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;Ne((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}a&&Cu(t)?xe(t,n):n(t)}))},Vu.ALL=function(e,t,n,r){var i=r.digestEffect,a=oh,o=Object.keys(t);if(0!==o.length){var s=Ee(t,n);o.forEach((function(e){i(t[e],a,s[e],e)}))}else n(Pu(t)?[]:{})},Vu.RACE=function(e,t,n,r){var i=r.digestEffect,a=oh,o=Object.keys(t),s=Pu(t)?Bu(o.length):{},c={},d=!1;o.forEach((function(e){var t=function(t,r){d||(r||Gu(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,s[e]=t,n(s)))};t.cancel=Mu,c[e]=t})),n.cancel=function(){d||(d=!0,o.forEach((function(e){return c[e].cancel()})))},o.forEach((function(e){d||i(t[e],a,c[e],e)}))},Vu.CALL=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,s=r.task;try{var c=a.apply(i,o);if(Cu(c))return void xe(c,n);if(Iu(c))return void Ge(e,c,s.context,oh,ge(a),!1,n);n(c)}catch(e){n(e,!0)}},Vu.CPS=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){bu(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(e){n(e,!0)}},Vu.FORK=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,s=t.detached,c=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(Iu(i))return i;var a=!1;return fe((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!Cu(i)})}))}catch(e){return fe((function(){throw e}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:ge(t)}(d,a);De((function(){var t=Ge(e,d,c.context,oh,l,s,void 0);s?n(t):t.isRunning()?(c.queue.addTask(t),n(t)):t.isAborted()?c.queue.abort(t.error()):n(t)}))},Vu.JOIN=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&he(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Pu(t)){if(0===t.length)return void n([]);var o=Ee(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},Vu.CANCEL=function(e,t,n,r){var i=r.task;t===mu?He(i):Pu(t)?t.forEach(He):He(t),n()},Vu.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},Vu.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=Fe(t.buffer),a=Ve(r),o=function t(n){ah(n)||e.channel.take(t,a),i.put(n)},s=i.close;i.close=function(){o.cancel(),s()},e.channel.take(o,a),n(i)},Vu.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},Vu.FLUSH=function(e,t,n){t.flush(n)},Vu.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},Vu.SET_CONTEXT=function(e,t,n,r){var i=r.task;Uu(i.context,t),n()},Vu),dh=null,lh=[],uh=function(){dh=null,lh.length=0},hh=function(e){function t(e){var t=e.getState,r=e.dispatch;return n=qe.bind(null,ue({},d,{context:a,channel:s,dispatch:r,getState:t,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return s.put(t),n}}}var n,r=void 0===e?{}:e,i=r.context,a=void 0===i?{}:i,o=r.channel,s=void 0===o?Ue():o,c=r.sagaMonitor,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,["context","channel","sagaMonitor"]);return t.run=function(){return n.apply(void 0,arguments)},t.setContext=function(e){Uu(a,e)},t},ph=function(e){return{done:!0,value:e}},fh={};const vh=V("DELAYED_ACTION"),Eh=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYBACK_CONFIG"),gh=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYBACK_POSSIBLE"),mh=V("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYBACK"),yh=V("EXTERNAL_PLAYBACK_TOUCH_EXTERNAL_PLAYER_LIST"),Ah=V("EXTERNAL_PLAYBACK_REQUEST_EXTERNAL_PLAYER_CSRF_TOKEN"),Sh=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_CSRF"),Th=V("EXTERNAL_PLAYBACK_START_EXTERNAL_PLAYER_CSRF_EXPIRATION"),bh=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_LIST_STATUS"),Oh=V("EXTERNAL_PLAYBACK_REQUEST_EXTERNAL_PLAYER_LIST"),Rh=V("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_LIST_REFRESH_BUTTON"),_h=V("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_LIST_CLOSE_BUTTON"),Ph=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_LIST"),Ch=V("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_BUTTON"),Ih=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_ACTIVATION"),wh=V("EXTERNAL_PLAYBACK_CLOSE_EXTERNAL_PLAYER_LIST_EVENTUALLY"),kh=V("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_STATUS"),Nh=V("EXTERNAL_PLAYBACK_ACTIVATED_POPUP_VISIBILITY"),Dh=V("EXTERNAL_PLAYBACK_REFRESH_EXTERNAL_PLAYER_LIST_ON_DOCUMENT_VISIBLE"),Lh=V("NATIVE_SKIN_CLICK_VIDEO"),jh=V("SKIN_CHANGE_VOLUME"),Mh=V("SKIN_START_CHANGE_VOLUME"),Vh=V("SKIN_FINISH_CHANGE_VOLUME"),Fh=V("SKIN_TOGGLE_MUTED"),Uh=(V("SKIN_CLICK_PLAY_BUTTON"),V("SKIN_CLICK_REPORT_BUTTON"),V("SKIN_CLICK_BRAND_LOGO_BUTTON"),V("SKIN_CLICK_DEBUG_DOWNLOAD_BUTTON"),V("SKIN_SEEK_TO_LIVE"),V("SKIN_SEEK")),xh=(V("SKIN_SEEK_BY_STEP"),V("SKIN_SEEK_START")),Hh=V("SKIN_SEEK_END"),Bh=(V("SKIN_SEEK_MOVE"),V("SKIN_HANDLE_KEY_DOWN")),Kh=V("SKIN_HANDLE_KEY_UP"),Yh=(V("SKIN_CHANGE_VIDEO_TRACK_VALUE"),V("SKIN_CHANGE_AUDIO_TRACK_VALUE"),V("SKIN_TOGGLE_TEXT_TRACK"),V("SKIN_CHANGE_TEXT_TRACK_VALUE"),V("SKIN_TOGGLE_FULLSCREEN")),Wh=V("SKIN_CLICK_CONTEXT_MENU"),Gh=(V("SKIN_SEEK_EVENT_DIRECTION_CHANGE"),V("SKIN_CHANGE_PLAYBACK_RATE"),V("SKIN_MOUSE_MOTIONLESS")),qh=V("SKIN_MOUSE_HOVER_CHANGE"),Xh=V("SKIN_CONTROLS_MOUSE_HOVER_CHANGE"),zh=V("SKIN_PUT_VISIBILITY_ON_INIT"),Qh=V("SKIN_PUT_MOUSE_MOTIONLESS"),Jh=V("SKIN_PUT_MOUSE_MOTIONLESS_TIMER_ID"),Zh=(V("SKIN_TOUCH_STARTED_CHANGE"),V("SKIN_CONTROLS_TOUCH_STARTED_CHANGE")),$h=V("MOBILE_SKIN_TAPPED_CHANGE"),ep=(V("SKIN_CLICK_LOGO"),V("SKIN_DOCUMENT_FOCUS_OUT"),V("SKIN_PUT_TITLE_SETTINGS")),tp=V("SKIN_TOGGLE_PLAY_PAUSE"),np=V("SKIN_LOG_SEEK_EVENT"),rp=(V("SKIN_TOUCH_START"),V("SKIN_TOUCH_END"),V("SKIN_TOUCH_MOVE"),V("SKIN_PUT_VERTICAL_TOUCH_DISTANCE")),ip=V("SKIN_PUT_HORIZONTAL_TOUCH_DISTANCE"),ap=V("SKIN_PUT_USE_NATIVE_SUBTITLES"),op=(V("SKIN_TIMELINE_TOUCH_START"),V("SKIN_TIMELINE_TOUCH_END"),V("SKIN_PUT_TIMELINE_TOUCH_STARTED")),sp=(V("SKIN_LOAD_TIMELINE_HI_RES_PREVIEW_IMAGE"),V("SKIN_LOAD_TIMELINE_LOW_RES_PREVIEW_IMAGE_INTERNAL"),V("SKIN_LOAD_TIMELINE_HI_RES_PREVIEW_IMAGE_INTERNAL"),V("SKIN_LOAD_TIMELINE_LOW_RES_PREVIEW_IMAGE"),V("SKIN_PUT_TIMELINE_PREVIEW_IMAGE")),cp=V("SKIN_CLEAR_TIMELINE_PREVIEW_IMAGE"),dp=V("SKIN_CLEAR_TIMELINE_PREVIEW_IMAGES"),lp=V("SKIN_CONFIRM_START_POSITION"),up=V("SKIN_CANCEL_START_POSITION"),hp=V("SKIN_DISABLE_START_POSITION_CONFIRMATION"),pp=V("SKIN_SET_FOCUS_RESTORATION_EXPECTED"),fp=(V("SHOW_SKIN"),V("HANDLE_POINTER_EVENT"),V("HANDLE_SCREEN_CLICK"),V("HANDLE_SCREEN_DOUBLE_CLICK"),V("HANDLE_SCREEN_MOUSE_MOVE")),vp=(V("HANDLE_SCREEN_MOUSE_ENTER"),V("HANDLE_SCREEN_MOUSE_LEAVE"),V("SET_LOGO_WIDGET_SETTINGS")),Ep=V("SET_LOGO_WIDGET_FORCE_EXPANDED"),gp=V("SET_LOGO_WIDGET_ACTION_STATUS"),mp=(V("CALL_LOGO_WIDGET_ACTION"),V("DOCUMENT_CAPTURE_CLICK"));V("SKIN_SHARE_BUTTON_CLICK");var yp=n(110),Ap=n(53),Sp=n(197),Tp=n(34),bp=n(182);const Op=Object(xs.h)(5e3);var Rp=n(113);const _p=Object(xs.j)(5*ds.c);let Pp=Object(xs.j)(0);const Cp=Object(xs.h)(5e3),Ip=Object(xs.h)(1e4),wp=Object(xs.h)(6e4);var kp=n(86),Np=n(107);const Dp={[Pc.a.overlaySelfPromo]:"overlay",[Pc.a.preroll]:"preroll",[Pc.a.midroll]:"midroll",[Pc.a.postroll]:"postroll",[Pc.a.inroll]:"midroll"};const Lp={[Pc.a.preroll]:"preroll",[Pc.a.midroll]:"midroll",[Pc.a.overlay]:"overlay",[Pc.a.postroll]:"postroll",[Pc.a.notReplaced]:"notReplaced",[Pc.a.inroll]:"inroll",[Pc.a.externalInroll]:"inroll",[Pc.a.inrollOverlay]:"inroll-overlay",[Pc.a.intro]:"preroll",[Pc.a.jingle]:"midroll",[Pc.a.overlaySelfPromo]:"overlay"},jp=e=>Lp[e],Mp=new class{constructor(){this.nextIndex=void 0,this.lastEndTime=void 0,this.prevWatchedTime=void 0,this.waitingForCreativeFinish=void 0,this.reset()}requestCreative(e){let{watchedTime:t,promoConfig:n}=e;if(this.updateWatchedTime(t),void 0===n.overlaySelfPromo)return;if(this.waitingForCreativeFinish)return;if(this.nextIndex>=n.overlaySelfPromo.length)return;const r=n.overlaySelfPromo[this.nextIndex];return t-this.lastEndTime>=r.offset?(this.waitingForCreativeFinish=!0,this.nextIndex++,r):void 0}onCreativeFinished(e){this.updateWatchedTime(e),this.lastEndTime=e,this.waitingForCreativeFinish=!1}reset(){this.nextIndex=0,this.lastEndTime=0,this.prevWatchedTime=0,this.waitingForCreativeFinish=!1}updateWatchedTime(e){e<this.prevWatchedTime&&this.reset(),this.prevWatchedTime=e}};let Vp;!function(e){e.PLAY="play",e.PAUSE="pause",e.REPLAY="replay"}(Vp||(Vp={}));var Fp=n(31);let Up;!function(e){e.DOWNLOAD_DEBUG="DOWNLOAD_DEBUG",e.CLOSE_CONTEXT_MENU="CLOSE_CONTEXT_MENU",e.COPY_LINK="COPY_LINK",e.COPY_LINK_WITH_TIME="COPY_LINK_WITH_TIME",e.COPY_VSID="COPY_VSID",e.COPY_HTML="COPY_HTML"}(Up||(Up={}));var xp=n(133),Hp=n.n(xp);let Bp;!function(e){e.LOGO_WATERMARK="player_watermark",e.BRAND_LOGO="yandex_logo",e.CONTEXT_MENU="player_context_menu",e.SHARE_BUTTON="player_share_button",e.RECOMMENDATIONS="player_recommendations"}(Bp||(Bp={}));Object(xs.j)(10),Object(xs.j)(10);const Kp=Object(xs.j)(5);var Yp=n(30);let Wp;!function(e){e.INDEX="INDEX",e.PLAYBACK_RATE="PLAYBACK_RATE",e.VIDEO_TRACK="VIDEO_TRACK",e.AUDIO_TRACK="AUDIO_TRACK",e.TEXT_TRACK="TEXT_TRACK"}(Wp||(Wp={}));const Gp=Object(xs.h)(3e3),qp=Object(xs.h)(Gp/2);var Xp=n(59),zp=n(64),Qp=n(56),Jp=n(92);const Zp=[Pc.a.midroll,Pc.a.postroll,Pc.a.preroll,Pc.a.externalInroll];let $p,ef;!function(e){e.NATIVE="NATIVE",e.HLS="HLS",e.MPD="MPD",e.MP4="MP4",e.YANDEX="YANDEX"}(ef||(ef={}));var tf=n(282),nf=n(245);const rf=["ts","m4s","m4f"],af=e=>{let{fragDuration:t,downloadTime:n}=e;return n>.9*t};let of;!function(e){e.OK="OK",e.SLOW="SLOW",e.UNKNOWN="UNKNOWN"}(of||(of={}));const sf=e=>{let{fragDuration:t,timings:n}=e;const r=n.filter(e=>{const{name:t,duration:n,encodedBodySize:r,decodedBodySize:i,transferSize:a}=e;if(void 0===t||void 0===n)return!1;const o=Number(r||i||a);return!(isNaN(o)||o<1024)&&-1!==rf.indexOf(Object(Do.c)(t).toLowerCase())}).slice(-5).map(e=>{let{duration:t}=e;return Object(xs.h)(t)});if(0===r.length)return of.UNKNOWN;const i=(o=.33,0===(a=r).length?Object(xs.h)(0):a.reduce((e,t)=>Object(xs.a)(Object(xs.c)(e,o),Object(xs.c)(t,1-o)),a[0]));var a,o;return af({fragDuration:t,downloadTime:i})?of.SLOW:of.OK};var cf=n(70),df=n(90);const lf=Object(xs.h)(2e3),uf=Object(xs.j)(1);var hf=n(99),pf=n(74),ff=n(155);const vf=/<\s*\w+?[^>]*>|<\s*\/\s*\w+?>/g,Ef=/<script[\d\D]*?>([\d\D]*?<\/script\s*>)?/gm,gf=V("SHARING_RESET"),mf=V("SHARING_PUT"),yf={link:void 0,html:void 0,title:void 0,text:void 0,showShareButtonInFullscreenOnly:!1};var Af=n(52);var Sf=n(283),Tf=n(123);const bf={size:n(219).a,width:Object(xs.i)(0),height:Object(xs.i)(0),hiddenControls:[],useNativeControls:!1,useNativeFullscreen:!1,useNativeSubtitles:!1,nativeControlsVisibility:!0,contextMenuPosition:void 0,contextMenuVisibility:!1,contextMenuVisibilityLock:!1,showReportButton:!1,showBrandLogo:!1,showUnmuteButtonForAll:!1,showStartScreen:!0,isMobileSkin:!1,showPreloader:!1,seeking:!1,volumeChanging:!1,settingsVisible:!1,settingsVisibilityBeforeDocumentClick:!1,mouseMotionlessTimeoutId:0,skinMouseHovered:!1,controlMouseHovered:!1,mouseMotionless:!0,skinVisibilityOnInit:!0,controlTouchStarted:!1,mobileSkinTapped:!1,seekTapEvent:void 0,startPositionConfirmation:void 0,primaryColor:Tf.a,secondaryColor:Tf.b,title:{isVisible:!1,visibleWithSkinOnly:!1,name:null,description:null},skinDVRStartTime:Object(xs.j)(0),skinDVRDuration:Object(xs.j)(0),verticalTouchDistance:Object(xs.i)(0),horizontalTouchDistance:Object(xs.i)(0),timelineTouchStarted:!1,timelinePreviewImages:{},logoWidget:void 0,focusRestorationExpected:!1,handleVideoTagClickWhenHidingNativeControls:!0};var Of=n(188),Rf=n(230),_f=n(241);let Pf;!function(e){e.ApiPlay="ApiPlay",e.VolumeChange="VolumeChange",e.MuteChange="MuteChange"}(Pf||(Pf={}));var Cf=n(98),If=n(162),wf=n(144),kf=n(242);const Nf=!1;var Df=n(243);const Lf={startPosition:{},additionalParams:Cf.a,adConfig:void 0,withCredentials:!1,loop:!1,preview:"",logoConfig:void 0,shareConfig:void 0,netParams:Df.a,videoInfo:{}};var jf=n(165),Mf=n(138);const Vf={2:Rc.a.RAA_TAKING_2SEC,10:Rc.a.RAA_TAKING_10SEC},Ff=Object(xs.j)(5),Uf=Object(xs.h)(500),xf=Object(xs.f)(-1),Hf={name:"\u0410\u0432\u0442\u043e",value:"auto",bitrate:xf};let Bf;!function(e){e.VideoIsNotPausedOnInit="VideoIsNotPausedOnInit",e.DetectByInterval="DetectByInterval",e.VideoPlayEvent="VideoPlayEvent",e.PlayCallback="PlayCallback"}(Bf||(Bf={}));var Kf=n(28),Yf=n(27);let Wf;!function(e){e.firstNetworkAdSDK="first.network.adsdk",e.firstNetworkHls="first.network.hls",e.firstNetworkMpd="first.network.mpd",e.firstNetworkMp4="first.network.mp4",e.firstNetworkNative="first.network.native",e.firstNetworkYandex="first.network.yandex",e.firstNetworkAdSDKHls="first.network.adsdk.hls",e.firstNetworkAdSDKMpd="first.network.adsdk.mpd",e.firstNetworkAdSDKMp4="first.network.adsdk.mp4",e.firstNetworkAdSDKNative="first.network.adsdk.native",e.firstNetworkAdSDKYandex="first.network.adsdk.yandex",e.setSourceNetworkAdSDK="setsource.network.adsdk",e.setSourceNetworkHls="setsource.network.hls",e.setSourceNetworkMpd="setsource.network.mpd",e.setSourceNetworkMp4="setsource.network.mp4",e.setSourceNetworkNative="setsource.network.native",e.setSourceNetworkYandex="setsource.network.yandex",e.setSourceNetworkAdSDKHls="setsource.network.adsdk.hls",e.setSourceNetworkAdSDKMpd="setsource.network.adsdk.mpd",e.setSourceNetworkAdSDKMp4="setsource.network.adsdk.mp4",e.setSourceNetworkAdSDKNative="setsource.network.adsdk.native",e.setSourceNetworkAdSDKYandex="setsource.network.adsdk.yandex"}(Wf||(Wf={}));var Gf=n(109),qf=n(141);let Xf;!function(e){e.firstLoadSource="firstloadsource",e.yaFirstFrameDecodedMp4="ya.firstframedecoded.mp4",e.yaFirstFrameDecodedMpd="ya.firstframedecoded.mpd",e.yaFirstFrameDecodedHls="ya.firstframedecoded.hls",e.yaFirstFrameDecodedYandex="ya.firstframedecoded.yandex",e.yaFirstFrameDecodedNative="ya.firstframedecoded.native",e.yaFirstFrameDecodedAdSDK="ya.firstframedecoded.adsdk",e.yaFirstFrameShownMp4="ya.firstframeshown.mp4",e.yaFirstFrameShownMPD="ya.firstframeshown.mpd",e.yaFirstFrameShownHls="ya.firstframeshown.hls",e.yaFirstFrameShownYandex="ya.firstframeshown.yandex",e.yaFirstFrameShownNative="ya.firstframeshown.native",e.yaFirstFrameShownAdSDK="ya.firstframeshown.adsdk",e.autoplayFalse="autoplayfalse",e.firstStartAdSDKFailed="firststart.adsdk.failed",e.firstStartAdSDK="firststart.adsdk",e.firstStartYandex="firststart.yandex",e.firstStartHls="firststart.hls",e.firstStartMp4="firststart.mp4",e.firstStartMpd="firststart.mpd",e.firstStartNative="firststart.native",e.firstStartAdSDKYandex="firststart.adsdk.yandex",e.firstStartAdSDKHls="firststart.adsdk.hls",e.firstStartAdSDKMpd="firststart.adsdk.mpd",e.firstStartAdSDKMp4="firststart.adsdk.mp4",e.firstStartAdSDKNative="firststart.adsdk.native"}(Xf||(Xf={}));const zf={[ef.HLS]:Xf.firstStartHls,[ef.MPD]:Xf.firstStartMpd,[ef.MP4]:Xf.firstStartMp4,[ef.NATIVE]:Xf.firstStartNative,[ef.YANDEX]:Xf.firstStartYandex,AD:Xf.firstStartAdSDK},Qf={[ef.HLS]:Xf.firstStartAdSDKHls,[ef.MPD]:Xf.firstStartAdSDKMpd,[ef.MP4]:Xf.firstStartAdSDKMp4,[ef.NATIVE]:Xf.firstStartAdSDKNative,[ef.YANDEX]:Xf.firstStartAdSDKYandex,AD:Xf.firstStartAdSDK},Jf={[ef.HLS]:Xf.yaFirstFrameDecodedHls,[ef.MPD]:Xf.yaFirstFrameDecodedMpd,[ef.MP4]:Xf.yaFirstFrameDecodedMp4,[ef.NATIVE]:Xf.yaFirstFrameDecodedNative,[ef.YANDEX]:Xf.yaFirstFrameDecodedYandex,AD:Xf.yaFirstFrameDecodedAdSDK},Zf={[ef.HLS]:Xf.yaFirstFrameShownHls,[ef.MPD]:Xf.yaFirstFrameShownMPD,[ef.MP4]:Xf.yaFirstFrameShownMp4,[ef.NATIVE]:Xf.yaFirstFrameShownNative,[ef.YANDEX]:Xf.yaFirstFrameShownYandex,AD:Xf.yaFirstFrameShownAdSDK},$f={[ef.HLS]:Wf.firstNetworkHls,[ef.MPD]:Wf.firstNetworkMpd,[ef.MP4]:Wf.firstNetworkMp4,[ef.NATIVE]:Wf.firstNetworkNative,[ef.YANDEX]:Wf.firstNetworkYandex,AD:Wf.firstNetworkAdSDK},ev={[ef.HLS]:Wf.firstNetworkAdSDKHls,[ef.MPD]:Wf.firstNetworkAdSDKMpd,[ef.MP4]:Wf.firstNetworkAdSDKMp4,[ef.NATIVE]:Wf.firstNetworkAdSDKNative,[ef.YANDEX]:Wf.firstNetworkAdSDKYandex,AD:Wf.firstNetworkAdSDK},tv={[ef.HLS]:Wf.setSourceNetworkHls,[ef.MPD]:Wf.setSourceNetworkMpd,[ef.MP4]:Wf.setSourceNetworkMp4,[ef.NATIVE]:Wf.setSourceNetworkNative,[ef.YANDEX]:Wf.setSourceNetworkYandex,AD:Wf.setSourceNetworkAdSDK},nv={[ef.HLS]:Wf.setSourceNetworkAdSDKHls,[ef.MPD]:Wf.setSourceNetworkAdSDKMpd,[ef.MP4]:Wf.setSourceNetworkAdSDKMp4,[ef.NATIVE]:Wf.setSourceNetworkAdSDKNative,[ef.YANDEX]:Wf.setSourceNetworkAdSDKYandex,AD:Wf.setSourceNetworkAdSDK};let rv,iv=-1;const av={sourceStart:!1,yaFirstFrameDecoded:!1,yaFirstFrameShown:!1};var ov=n(189);const sv={onCurrentTimeChange:Xo.a,onDurationChange:Xo.a,onVolumeChange:Xo.a,onStateChange:Xo.a,onSeek:Xo.a,onAdStateChange:Xo.a,onAdPodStart:Xo.a,onFullScreenChange:Xo.a,onErrorScreenVisibilityChange:Xo.a,onError:Xo.a,onRecover:Xo.a,onUserAction:Xo.a,onVideoTrackChange:Xo.a,onAudioTrackChange:Xo.a,onTextTrackChange:Xo.a,onThumbnailTileGeneralMetaInfoChange:Xo.a,onVideoTracksChange:Xo.a,onAudioTracksChange:Xo.a,onTextTracksChange:Xo.a,onSubtitlesChange:Xo.a,onVideoTypeChange:Xo.a,onPlaybackRateChange:Xo.a,onOriginalBroadcastAdStateChange:Xo.a,onAdblockDetected:Xo.a,onChangeStream:Xo.a,onSetSourceRequest:Xo.a,onFeatureEvent:Xo.a,onSkinReady:Xo.a,onContentImpression:Xo.a,onResourcesIdle:Xo.a,onVisualStateChange:Xo.a,onSaveDataOutsideIframe:Xo.a,onBufferingRangesChange:Xo.a,onStartStageChange:Xo.a,onVideoSizeChange:Xo.a,onVideoReadyStateChange:Xo.a,onVideoClickerEvent:Xo.a,onLogoWidgetActionCall:Xo.a,logEvent:Xo.a,onNextAdRemainingTimeChange:Xo.a,onAdSDKVersionDefined:Xo.a,onStreamsWithSupportInfoChange:Xo.a,onEngineChange:Xo.a,onNetworkScoreChange:Xo.a};let cv,dv,lv;!function(e){e.ON="ON",e.OFF="OFF"}(cv||(cv={})),function(e){e.setSource="setSource",e.destroy="destroy",e.end="end"}(dv||(dv={})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(lv||(lv={}));class uv{constructor(e){this.vsid=e}sendData(e,t){const n=new FormData;n.append("debugInfo",JSON.stringify(t)),n.append("reason",e.reason),n.append("badFragmentInfo",JSON.stringify(e.badFragment.frag)),n.append("badFragment",e.badFragment.data),e.prevFragment&&(n.append("prevFragmentInfo",JSON.stringify(e.prevFragment.frag)),n.append("prevFragment",e.prevFragment.data));ne({method:"POST",url:Object(Do.b)("https://log.strm.yandex.net/chunk/",{vsid:this.vsid,uri:e.badFragment.url}),data:n}).catch(e=>{})}}const hv=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1};var pv=n(125),fv=n(72),vv=n(173),Ev=n(58);const gv=e=>"m3u8"===Object(Do.c)(e.toLocaleLowerCase()),mv=e=>"mpd"===Object(Do.c)(e.toLocaleLowerCase()),yv=e=>/\.ism(c|l)?\/manifest[^\.]*(\.ismc)?$/i.test(Object(Do.g)(e.toLowerCase()).pathname);var Av=n(11);const Sv=function(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(Av.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(Av.a)(t.prototype.appendBuffer)&&Object(Av.a)(t.prototype.remove))}(e)?t:void 0}();var Tv=n(93);const bv=function(e){void 0===e&&(e=window);const t=Object(So.a)(e).toLowerCase();return/yandexstation.*yandexio/.test(t)||/station.*crosswalk/.test(t)}();var Ov=n(66);const Rv={supported:!0,engine:ef.NATIVE},_v={supported:!0,engine:ef.HLS};var Pv=n(174),Cv=n(21),Iv=n.n(Cv),wv=n(68),kv=n(114);const Nv=function(e){return void 0===e&&(e=window),/Chrome/.test(e.navigator.userAgent)&&/Google Inc/.test(e.navigator.vendor)&&!Object(kv.a)(e)}(),Dv=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}();var Lv=n(233);const jv=Object(kv.a)();var Mv=n(240);let Vv;!function(e){e.fairplay="fairplay",e.playready="playready",e.widevine="widevine"}(Vv||(Vv={}));const Fv={[Vv.fairplay]:["com.apple.fairplay",Mo,Vo],[Vv.widevine]:["com.widevine.alpha"],[Vv.playready]:["com.microsoft.playready"]},Uv=(xv=Br(Fv),[].concat.apply([],xv));var xv;const Hv=[-1,-1,-1,-1];let Bv,Kv;!function(e){e.YandexBrowserLinux="YandexBrowserLinux",e.OldYandexBrowser="OldYandexBrowser",e.WebKitMediaKeys="WebKitMediaKeys",e.requestMediaKeySystemAccess="requestMediaKeySystemAccess",e.MSMediaKeys="MSMediaKeys",e.GenerateKeyRequest="GenerateKeyRequest",e.Constant="Constant",e.NotAvailable="NotAvailable",e.LiteMode="LiteMode"}(Bv||(Bv={}));const Yv=[],Wv=Object(xs.h)(2592e5);let Gv;const qv=Object(ts.a)(async e=>{let{video:t}=e;const n=function(){try{const e=Iv.a.getItem("videoplayer-supported-drm-systems");if(null===e)return;const{value:t,time:n,version:r}=JSON.parse(e);if(Date.now()-n>Wv)return void Iv.a.removeItem("videoplayer-supported-drm-systems");if("d430e9264b9314932a6078fe18ed2e67"!==r)return void Iv.a.removeItem("videoplayer-supported-drm-systems");if(0===t.supportedDrmSystems.length)return;return t}catch(e){return}}();Object(Yf.b)("detect.drm");const r=n||await async function(e){void 0===Kv&&(Kv=zr(e));const t=await Kv;return Kr({},t,{supportedDrmSystems:[...t.supportedDrmSystems]})}({video:t});return Yv.forEach(e=>e(r)),Yv.length=0,Gv=r,void 0===n&&function(e){if(0!==e.supportedDrmSystems.length)try{Iv.a.setItem("videoplayer-supported-drm-systems",JSON.stringify({value:e,time:Date.now(),version:"d430e9264b9314932a6078fe18ed2e67"}))}catch(e){}}(r),Object(Yf.a)("detect.drm"),r.supportedDrmSystems}),Xv=document.createElement("video");var zv=n(218);const Qv={"strm.yandex.ru":"https://strm.yandex.ru/ping"},Jv={destroy:Xo.a,setStatsRootFields:Xo.a,updateAdConfig:Xo.a,getNextAdInfo:()=>{},preroll:{loadViewers:()=>Promise.resolve([])},midroll:{loadViewers:()=>Promise.resolve([])},inroll:{loadViewers:()=>Promise.resolve([])},inrollOverlay:{loadViewers:()=>Promise.resolve([])},overlay:{loadViewers:()=>Promise.resolve([])},postroll:{loadViewers:()=>Promise.resolve([])}},Zv=[{end:750,name:"750)"},{end:1250,name:"[750-1250)"},{end:2e3,name:"[1250-2000)"},{end:3500,name:"[2000-3500)"},{end:5500,name:"[3500-5500)"},{end:9e3,name:"[5500-9000)"},{end:1/0,name:"[9000"}];var $v=n(209),eE=n(194);const tE=window;var nE=n(122),rE=n(180);class iE{constructor(e){this.length=e,this.list=[]}push(e){this.list.length>=this.length&&this.list.shift(),this.list.push(e)}getAll(){return this.list}clear(){this.list.length=0}}class aE extends fc.a{constructor(e){super(),this.history=new iE(100),this.addDestroyHandler(Object(Ko.a)(e,"logposted",e=>{this.history.push(e.data)})),this.addDestroyHandler(()=>{this.history=null})}getHistory(){return this.history?[...this.history.getAll()]:["MediaInternalsHistory is destroyed"]}}class oE{constructor(){this.onOnline=new ss.a,this.onOffline=new ss.a,this.onDestroy=new ss.a,this.onDestroy.addOne(Object(Ko.a)(window,"online",()=>{this.onOnline.dispatch(void 0)})),this.onDestroy.addOne(Object(Ko.a)(window,"offline",()=>{this.onOffline.dispatch(void 0)}))}destroy(){this.onDestroy.dispatch(void 0)}}const sE={primaryColor:Tf.a,secondaryColor:Tf.b},cE={setItem(e,t){try{sessionStorage.setItem(e,t)}catch(e){}},getItem(e){try{return sessionStorage.getItem(e)}catch(e){return null}},removeItem(e){try{sessionStorage.removeItem(e)}catch(e){}}},dE=["start","end"];class lE{constructor(){this.playbackProgressKey="",this.lastProgress=void 0,this.enabled=!1}setEnabled(e){void 0===e&&(e=!1),this.enabled=e}setKey(e){this.lastProgress=void 0,this.playbackProgressKey=e}clearKey(){this.lastProgress=void 0,this.playbackProgressKey=""}setKeyByStream(e){let{url:t}=e;if(!t)return void this.clearKey();const n=Object(Do.g)(t),r=Object(Do.f)(n.search),i=dE.reduce((e,t)=>(t in r&&(e[t]=r[t]),e),{});this.setKey(Object(Do.b)(Object(Do.h)(mi({},n,{search:""})),i))}getProgress(){if(!this.enabled||!this.playbackProgressKey)return;const e=(t=this.playbackProgressKey,Number(cE.getItem(t)||n));var t,n;return isNaN(e)?void 0:Object(xs.j)(e)}saveProgress(e){var t,n;this.enabled&&this.playbackProgressKey&&("number"===typeof this.lastProgress&&Math.abs(this.lastProgress-e)<1||(this.lastProgress=e,t=this.playbackProgressKey,n=e,cE.setItem(t,String(n))))}}const uE={reportUrl:"https://log.strm.yandex.ru/perf",updateInterval:3e4,urlRegexp:"^https?:\\/\\/([^\\/]+\\.)?("+["(an|strm)\\.yandex\\.(ru|net)","cdn\\.ngenix\\.net","strm\\.yandex\\.cdnga\\.net","strm-yandex\\.gcdn\\.co","(widevine|playready|fairplay)-proxy\\.ott\\.yandex\\.ru"].join("|")+")\\/(?!log|perf|jstracer)",enabled:!0,historySize:200};class hE{static clearResourceTimings(){"function"===typeof performance.clearResourceTimings?performance.clearResourceTimings():"function"===typeof performance.webkitClearResourceTimings&&performance.webkitClearResourceTimings()}constructor(e){void 0===e&&(e={}),this.timeoutId=void 0,this.history=[],this.config=void 0,this.urlRegexp=void 0,this.enabled=!1,hE.isSupported&&(this.config=yi({},uE,e),this.config.enabled&&(this.enabled=!0,this.urlRegexp=new RegExp(this.config.urlRegexp),this.loop()))}destroy(){clearTimeout(this.timeoutId)}async updateInfo(){if(!this.config||!this.enabled)return;const e=this.getCurrentResourcesTimings();if(hE.clearResourceTimings(),0===e.length)return;this.history.push(...e),this.history.length>this.config.historySize&&this.history.splice(0,this.history.length-this.config.historySize);const t=Object(Do.b)(this.config.reportUrl,{perfnow:String(Date.now()),navstart:String(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart)},{saveOriginalPath:!0});try{await ne({method:"POST",data:JSON.stringify(e),url:t})}catch(e){}}getCurrentResourcesTimings(){if(!hE.isSupported||!this.enabled)return[];return performance.getEntriesByType("resource").filter(e=>{let{name:t}=e;return this.urlRegexp.test(t)&&t!==this.config.reportUrl})}getLastResourcesTimings(){return this.history}getAllResourcesTimings(){return[...this.getLastResourcesTimings(),...this.getCurrentResourcesTimings()]}loop(){!this.config||this.config.updateInterval<=0||(this.timeoutId=window.setTimeout(async()=>{await this.updateInfo(),this.loop()},this.config.updateInterval))}}hE.isSupported=window.performance&&"function"===typeof window.performance.getEntriesByType&&("function"===typeof performance.clearResourceTimings||"function"===typeof performance.webkitClearResourceTimings);var pE=n(167),fE=n(284),vE=n.n(fE),EE=n(192);const gE=Object(EE.a)(window),mE=function(e){const t=Object(So.a)(e).match(/Firefox\/([0-9]+)\./);return t&&parseInt(t[1],10)||-1}(window);var yE=n(130);const AE=Object(yE.a)();var SE=n(191);gE>=64&&!AE&&!ac.a&&!Oo&&SE.a;class TE{constructor(e){let{parentElement:t,ignorePointerEvents:n,visibleOnInit:r}=e;this.slotWrapper=void 0,this.slotElement=void 0,this.ignorePointerEvents=void 0,this.ignorePointerEvents=n,this.slotWrapper=t.ownerDocument.createElement("div"),Object(Yo.a)(this.slotWrapper,Ws.a.player__slot),this.setVisible(r),n&&(this.slotWrapper.style.pointerEvents="none"),this.slotElement=t.ownerDocument.createElement("div"),Object(Yo.a)(this.slotElement,Ws.a.player__slot),this.slotWrapper.appendChild(this.slotElement),t.appendChild(this.slotWrapper)}setVisible(e){this.slotWrapper.style.opacity=e?"1":"0",this.slotWrapper.style.pointerEvents=e&&!this.ignorePointerEvents?"auto":"none"}remove(){Object(gs.a)(this.slotWrapper)}getElement(){return this.slotElement}}var bE=n(231);class OE extends TE{constructor(e){super(e),this.videoElement=void 0;const{videoElement:t}=e;this.videoElement=t;const n=Object(bE.a)(t);this.slotElement.appendChild(t),n()}getVideoElement(){return this.videoElement}}class RE{constructor(e){this.parentElement=void 0,this.adElement=void 0,this.useNativeControls=void 0,this.forceUsingSeamlessAd=void 0,this.originalVideoSlot=void 0,this.skinSlot=void 0,this.adElementsSetObjects=[],this.visibleSlotsSet=void 0;const{parentElement:t,adElement:n,originalVideoElement:r,useNativeControls:i,forceUsingSeamlessAd:a}=e;this.useNativeControls=i,this.forceUsingSeamlessAd=a,this.parentElement=t,this.adElement=n,this.originalVideoSlot=new OE({videoElement:r,parentElement:t,ignorePointerEvents:!1,visibleOnInit:!0}),this.skinSlot=new TE({parentElement:t,ignorePointerEvents:i,visibleOnInit:!0}),this.showSkinAndOriginalVideo()}getSkinElement(){return this.skinSlot.getElement()}clearAdSlots(){this.adElementsSetObjects.forEach(e=>{let{adSlot:t,videoSlot:n}=e;t.remove(),n!==this.originalVideoSlot&&n.remove()}),this.adElementsSetObjects.length=0}showSkinAndOriginalVideo(){this.setVisibleSlotsSet({videoSlot:this.originalVideoSlot,htmlSlot:this.skinSlot}),this.clearAdSlots()}showAdElementsSet(e){const t=this.adElementsSetObjects.find(t=>t.adElementsSet===e);t&&this.setVisibleSlotsSet({videoSlot:t.videoSlot,htmlSlot:t.adSlot})}createAdElementsSet(e){let{useSeamlessAdIfPossible:t,adType:n}=e;const{parentElement:r}=this;let i;i=!1;const a=r.ownerDocument,o=i?new OE({videoElement:a.createElement("video"),parentElement:r,ignorePointerEvents:!1,visibleOnInit:!1}):void 0,s=n===Pc.a.overlay,c=s&&!this.useNativeControls?a.getElementById(vE.a.overlapAdContainer):this.adElement;if(!c)return;const d=new TE({parentElement:c,ignorePointerEvents:s,visibleOnInit:s}),l=o||this.originalVideoSlot;bi(this.originalVideoSlot.getVideoElement(),l.getVideoElement());const u={videoSlotElement:l.getVideoElement(),isOriginalVideoSlot:!o,adSlotElement:d.getElement()};return this.adElementsSetObjects.push({videoSlot:l,adSlot:d,adElementsSet:u}),u}setVisibleSlotsSet(e){let{videoSlot:t,htmlSlot:n}=e;this.visibleSlotsSet&&(n!==this.visibleSlotsSet.htmlSlot&&this.visibleSlotsSet.htmlSlot.setVisible(!1),t!==this.visibleSlotsSet.videoSlot&&this.visibleSlotsSet.videoSlot.setVisible(!1),bi(this.visibleSlotsSet.videoSlot.getVideoElement(),t.getVideoElement())),t.setVisible(!0),n.setVisible(!0),this.visibleSlotsSet={videoSlot:t,htmlSlot:n}}}var _E=n(247),PE=n.n(_E);const{isSupported:CE}=n(339),IE=CE();var wE=n(95);var kE=n(134);const NE=[401,403];var DE=n(69);const{ErrorDetails:LE}=n(329),jE=[LE.FRAG_LOAD_ERROR,LE.FRAG_LOAD_TIMEOUT,LE.FRAG_PARSING_ERROR,LE.BUFFER_APPEND_ERROR,LE.INTERNAL_EXCEPTION,LE.LEVEL_LOAD_TIMEOUT,LE.MANIFEST_LOAD_ERROR,LE.MANIFEST_LOAD_TIMEOUT],ME=[LE.FRAG_LOAD_ERROR,LE.FRAG_LOAD_TIMEOUT,LE.FRAG_PARSING_ERROR,LE.LEVEL_LOAD_TIMEOUT],VE=[LE.MANIFEST_LOAD_ERROR,LE.MANIFEST_LOAD_TIMEOUT],FE=[LE.FRAG_DECRYPT_ERROR,LE.FRAG_PARSING_ERROR,LE.BUFFER_STALLED_ERROR,LE.BUFFER_NUDGE_ON_STALL];class UE{constructor(e){this.lastLoadedFragBlobs=void 0,this.lastPlayedFrags=void 0,this.lastLoadedFrags=void 0,this.lastFragRequest=void 0,this.lastLoadedFragBlobs=new iE(e),this.lastPlayedFrags=new iE(e),this.lastLoadedFrags=new iE(e)}putFragBlob(e){this.lastLoadedFragBlobs.push(e)}putPlayedFrag(e){this.lastPlayedFrags.push(e)}putLoadedFrag(e){this.lastLoadedFrags.push(e)}onFragLoadStart(e){let{duration:t}=e;this.lastFragRequest={fragDuration:Object(xs.h)(1e3*t),getElapsedTime:Object(as.a)()}}onFragLoadStop(){this.lastFragRequest=void 0}getCurrentFragRequestTiming(){if(void 0===this.lastFragRequest)return;const{fragDuration:e,getElapsedTime:t}=this.lastFragRequest;return{fragDuration:e,downloadTime:t()}}getBadFragmentReport(e,t){const n=this.getFragmentData(e);if(!n)return;return{badFragment:n,prevFragment:this.getPrevFrag(e),reason:t}}getLastLoadedFragmentReport(e){const t=this.lastLoadedFrags.getAll(),{length:n}=t;return n>0?this.getBadFragmentReport(t[n-1],e):void 0}getFragmentData(e){const t=this.lastLoadedFragBlobs.getAll().find(t=>t.url===e.url);return t&&!t.frag&&(t.frag=_i(e)),t}getPrevFragFromList(e,t){const n=e.getAll(),r=n.find(e=>e.url===t.url),i=r?n.indexOf(r):0;if(i>0){const e=n[i-1];return this.getFragmentData(e)}}getPrevFrag(e){const t=this.getPrevFragFromList(this.lastLoadedFrags,e);return t||this.getPrevFragFromList(this.lastPlayedFrags,e)}}let xE;!function(e){e.LOWRES="lowres",e.HIGHRES="highres"}(xE||(xE={}));const HE={tiles:"com.yandex.video.thumbnail.lowres.tiles",duration:"com.yandex.video.thumbnail.lowres.duration",resolution:"com.yandex.video.thumbnail.lowres.resolution",uri:"com.yandex.video.thumbnail.lowres.uri"},BE={tiles:"com.yandex.video.thumbnail.tiles",duration:"com.yandex.video.thumbnail.duration",resolution:"com.yandex.video.thumbnail.resolution",uri:"com.yandex.video.thumbnail.uri"},KE=/^(\d+)x(\d+)@(\d+)$/;let YE;!function(e){e.WAS_WORKER_INTERNAL_ERROR="YANDEX_PLAYER_HLS_WAS_WORKER_INTERNAL_ERROR"}(YE||(YE={}));let WE;!function(e){e.HasAd="HasAd",e.NoAd="NoAd",e.NoData="NoData"}(WE||(WE={}));const GE=e=>{const t=e.match(/\?/g);return!t||t.length<2};var qE=n(82);const XE=function(){const{volume:e}=qE.a;qE.a.volume=0===e?1:0;const t=qE.a.volume!==e;return qE.a.volume=e,t}(),zE=15,QE=1e3;var JE,ZE,$E=n(179);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(JE||(JE={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(ZE||(ZE={}));var eg=n(176);const tg=null===qE.a.onwaiting,ng=(e,t)=>{let n=!1;const r=Object(Ko.a)(e,"waiting",()=>{n||(n=!0,t(!0))},{passive:!0}),i=Object(Ko.a)(e,"playing",()=>{n&&(n=!1,t(!1))},{passive:!0}),a=Object(Ko.a)(e,"canplay",()=>{n&&(n=!1,t(!1))},{passive:!0});return()=>{r(),i(),a()}},rg=!tg||xo.a||Tv.a?(e,t)=>{let n=0,r=!1;return Object(Ms.a)(()=>{const i=e.currentTime,a=e.duration,o=1/Vs.a;if(!e.paused){const e=n+o;r?i>e&&(t(!1),r=!1):i<e&&i!==a&&(t(!0),r=!0)}n=i})}:ng;n(152).a;class ig{constructor(e){this.props=e,this.currentAttempt=0,this.recovering=!1,this.plannedTaskPromise=void 0,this.resetTimeoutId=0}get allowed(){return this.currentAttempt<this.props.maxAttempts}get started(){return this.currentAttempt>0}get attempt(){return this.currentAttempt}getState(){return this.started?cv.ON:cv.OFF}planTask(e,t){let n,{reason:r,delay:i,force:a,rawData:o}=t;if(this.recovering&&!a)return this.log("Can't plan task cause is in process of recover"),void this.props.onConcurrentRecover({reason:r,rawData:o});this.clearPlannedTask("new task planned"),this.clearResetTimeout("new task planned"),"number"===typeof i?(n=os(i).promise.then(Xo.a),this.log("#"+this.currentAttempt+", PLAN task, "+i+"ms, ["+r+"]",o)):(n=i,this.log("#"+this.currentAttempt+", PLAN async task, ["+r+"]",o)),Object(ns.a)(n),n.then(()=>{if(n===this.plannedTaskPromise)return this.recovering=!0,this.currentAttempt++,this.props.onRunTask({reason:r,delay:i,rawData:o,attempt:this.currentAttempt}),this.log("#"+this.currentAttempt+", RUN task, ["+r+"]",o),this.clearPlannedTask(),e()}).catch(e=>{this.log("Error while recover",e),this.props.onRecoverError({reason:r,rawData:o},e)}).then(()=>{this.recovering=!1}),this.plannedTaskPromise=n}planReset(e){let{reason:t,delay:n}=e;this.log("plan RESET, "+n+"ms, if ["+t+"]"),this.clearResetTimeout("new reset planned"),this.resetTimeoutId=window.setTimeout(()=>{this.reset(t)},n)}destroy(){this.reset("destroy")}reset(e){this.props.onReset(),this.log("RESET because of ["+e+"]"),this.clearPlannedTask(),this.clearResetTimeout(),this.currentAttempt=0}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ic.a.log("RecoverHelper:",...t)}clearPlannedTask(e){e&&this.log("CLEAR planned TASKS because of ["+e+"]"),this.plannedTaskPromise=void 0}clearResetTimeout(e){e&&this.log("CLEAR planned RESET because of ["+e+"]"),0!==this.resetTimeoutId&&(clearTimeout(this.resetTimeoutId),this.resetTimeoutId=0)}}const ag=Object(xs.j)(30),og=Object(xs.j)(5),sg=Object(xs.i)(360);var cg=n(166),dg=n.n(cg),lg=n(175);class ug{constructor(e,t,n,r){this.win=e,this.callback=t,this.minDiff=n,this.maxDiff=r,this.animationFrameFunctions=void 0,this.getDiff=Object(as.a)(),this.id=0,this.maxDiffTimeoutId=0,this.started=!1,this.worksOnShort=!1,this.loopShort=()=>{this.worksOnShort=!0;const e=Object(xs.h)(this.getDiff());if(e>=this.minDiff&&(this.getDiff=Object(as.a)(),this.callback(e)),!this.started)return this.clearLong(),void this.clearShort();this.startShort()},this.loopLong=()=>{if(!this.worksOnShort){const e=Object(xs.h)(this.getDiff());e>=this.minDiff&&(this.getDiff=Object(as.a)(),this.callback(e))}if(!this.started)return this.clearLong(),void this.clearShort();this.worksOnShort=!1,this.startLong()},this.animationFrameFunctions=Object(lg.a)(e)}start(){this.started||(this.started=!0,this.getDiff=Object(as.a)(),this.startShort(),this.startLong())}stop(){this.started&&(this.started=!1,this.clearShort(),this.clearLong())}startShort(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loopShort)}startLong(){this.maxDiffTimeoutId=this.win.setTimeout(this.loopLong,this.maxDiff/2)}clearShort(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}clearLong(){this.win.clearTimeout(this.maxDiffTimeoutId)}}var hg=n(137);const pg=n(115).a?9e5:864e5;var fg=n(285),vg=n.n(fg),Eg=n(67);const gg=Object(Eg.a)(window);class mg{constructor(e){this.alpha=void 0,this.estimate=void 0,this.totalWeight=void 0,this.alpha=e?Math.exp(Math.log(.5)/e):0,this.estimate=0,this.totalWeight=0}sample(e,t){const n=Math.pow(this.alpha,e);this.estimate=t*(1-n)+n*this.estimate,this.totalWeight+=e}getTotalWeight(){return this.totalWeight}getEstimate(){if(this.alpha){const e=1-Math.pow(this.alpha,this.totalWeight);return this.estimate/e}return this.estimate}}class yg{constructor(){this.minWeight=void 0,this.minDelayMs=void 0,this.slow=void 0,this.fast=void 0,this.minWeight=.001,this.minDelayMs=50,this.slow=new mg(9),this.fast=new mg(3)}sample(e,t){const n=(e=Math.max(e,this.minDelayMs))/1e3,r=8*t/n;this.fast.sample(n,r),this.slow.sample(n,r)}getEstimate(){return this.canEstimate()?Object(xs.e)(Math.min(this.fast.getEstimate(),this.slow.getEstimate())):Object(xs.e)(NaN)}canEstimate(){const e=this.fast;return e&&e.getTotalWeight()>=this.minWeight}}const Ag=Object(xs.j)(.5),Sg=Object(xs.j)(0);class Tg{get state(){return this.playerStore.getState()}get fragDuration(){return this.getFragmentsData().fragmentDuration}constructor(e){this.props=e,this.engine=void 0,this.recoverHelper=void 0,this.video=void 0,this.wasPausedAfterQualityChanged=!1,this.currentTextTrack=void 0,this.onDestroy=new ss.a,this.onDetach=new ss.a,this.onCurrentTimeChange=void 0,this.onLoadedData=void 0,this.onCanPlay=void 0,this.onContentImpression=void 0,this.videoTrackValueSignal=void 0,this.audioTrackValueSignal=void 0,this.textTrackValueSignal=void 0,this.onPlayingStateChange=new ss.a,this.onPlayingStateChangeInternal=new ss.a,this.onVideoTypeChange=new ss.a,this.withCredentials=!1,this.playerStore=void 0,this.currentState=Fs.a.PAUSE,this.deepHDTracks=new Set,this.videoTrackLabels=new Map,this.destroy=Object(ts.a)(()=>this.destroyUnsafe()),this.animationFramesController=void 0,this.currentSubtitles=[],this.bandwidthEstimateUpdateInterval=null,this.preventPauseState=void 0,this.restoreUserTracks=()=>{this.restoreUserTextTrack(),this.restoreUserAudioTrack(),this.restoreUserVideoTrack()},this.refreshSubtitles=()=>{try{if(!this.video)return;const e=this.getCurrentTextTrack(),t=e?Object(qo.a)(e.activeCues).filter(e=>e&&e.text).map(e=>{let{text:t}=e;return t}):[];Bs()(this.currentSubtitles,t)||(this.currentSubtitles=t,this.playerStore.dispatch(el(t)))}catch(e){this.props.onError(new Oc(e,{code:Rc.a.REFRESH_SUBTITLES_ERROR,isFatal:!1}))}},this.disableSubtitlesNative=()=>{this.video&&ca(this.video.textTracks).forEach(e=>{e&&(e.mode="disabled")})},this.emptySubtitles=()=>{this.currentSubtitles.length>0&&(this.currentSubtitles=[],this.playerStore.dispatch(el([])))},this.handleConcurrentRecover=e=>{this.props.logEvent({event:"ConcurrentRecoverCalled",params:e})},this.handleRecoverError=(e,t)=>{this.props.onError(new Oc({code:Rc.a.RECOVER_TASK_ERROR,isFatal:!1,details:e,stack:t.stack}))},this.recoverHelper=new ig({maxAttempts:10,onRunTask:this.props.onRecover,onReset:()=>this.playerStore.dispatch(Vd(void 0)),onConcurrentRecover:this.handleConcurrentRecover,onRecoverError:this.handleRecoverError}),this.onDestroy.add(()=>this.recoverHelper.destroy());const{video:t,playerStore:n,sourceParams:r}=this.props;this.video=t,this.playerStore=n,this.onPlayingStateChange=this.props.onPlayingStateChange,this.onCurrentTimeChange=this.props.onCurrentTimeChange,this.videoTrackValueSignal=this.props.videoTrackValueSignal,this.audioTrackValueSignal=this.props.audioTrackValueSignal,this.textTrackValueSignal=this.props.textTrackValueSignal,this.onVideoTypeChange=this.props.onVideoTypeChange,this.onCanPlay=this.props.onCanPlay,this.onLoadedData=this.props.onLoadedData,this.onContentImpression=this.props.onContentImpression,this.onPlayingStateChange.add(e=>{if(e!==Fs.a.END||wt(this.state)){if(e===Fs.a.PLAY&&!nn(this.state)){const e=this.fragDuration<=2*wE.a?1e3*this.fragDuration:1e3*wE.a;this.recoverHelper.planReset({delay:e,reason:"no new errors for "+e+"ms"})}}else this.recoverHelper.reset("onPlayingStateChange ["+Fs.a.END+"]")}),this.onPlayingStateChangeInternal.add(()=>{if(!this.state.controller.wasVolumeChanged)return;if(this.engine===ef.NATIVE||this.engine===ef.MP4)return;const e=this.getMuted();this.setMuted(!e),this.setMuted(e)}),this.onPlayingStateChangeInternal.add(e=>{this.currentState!==e&&(this.isBufferingOnPreload(e)||this.currentState===Fs.a.END&&this.video.paused||(this.currentState=e,this.onPlayingStateChange.dispatch(e)))}),this.onCurrentTimeChange.add(e=>{const t=this.getDuration(),{videoType:n}=this.state.controller;e>=t&&t>0&&n===Us.a.VOD&&!this.props.sourceParams.loop&&this.onPlayingStateChangeInternal.dispatch(Fs.a.END)}),this.setLoop(Boolean(e.sourceParams.loop)),this.withCredentials=Boolean(e.sourceParams.withCredentials),this.withCredentials&&Object($E.a)("https://strm.yandex.net/cmatch"),this.setPoster(r.preview),this.updateNativeControlsVisibility();const i=this.playerStore.getState().controller.preload||vs.a;t.setAttribute("preload",i?"auto":"none"),this.subscribeYabroRum(),this.addVideoEventListener(null===t.onplaying?"playing":"play",()=>{this.wasPausedAfterQualityChanged=!1,this.onPlayingStateChangeInternal.dispatch(Fs.a.PLAY)}),this.addVideoEventListener("loadedmetadata",()=>{this.props.onDurationChange.dispatch(this.getDuration())}),this.addVideoEventListener("seeking",()=>{this.playerStore.dispatch(Gd(this.video.readyState))}),this.addVideoEventListener("seeked",()=>{this.playerStore.dispatch(Gd(this.video.readyState))}),this.addVideoEventListener("ratechange",()=>{if(nn(this.state))return;const e=this.video.playbackRate;0!==e&&e!==this.state.controller.playbackRate&&this.playerStore.dispatch(Ld(e))}),this.addVideoEventListener("pause",()=>{this.wasPausedAfterQualityChanged||this.video.ended||this.getCurrentTime()>=this.getDuration()||this.onPlayingStateChangeInternal.dispatch(Fs.a.PAUSE)}),this.addVideoEventListener("volumechange",()=>{let e=this.getMuted(),t=this.getVolume();nn(this.state)&&(e=0===t||this.getMuted(),t=this.playerStore.getState().controller.volume,this.setMuted(e),this.setVolume(this.playerStore.getState().controller.volume)),this.playerStore.dispatch(cd({volume:t,muted:e,changeReason:hf.a.VolumeChangeEvent}))}),this.addVideoEventListener("progress",()=>{this.props.onChangeBufferingRanges.dispatch(function(e){const t=[];for(let n=0;n<e.buffered.length;n++)t.push({start:Object(xs.j)(e.buffered.start(n)),end:Object(xs.j)(e.buffered.end(n))});return function(e){const t=e.map(e=>{let{start:t,end:n}=e;return{start:t,end:n}}).sort((e,t)=>e.start-t.start);if(t.length<=1)return t;const n=[t[0]];return t.slice(1).forEach((e,t)=>{const r=n[n.length-1];r.end<e.start?n.push(e):r.end<e.end&&(r.end=e.end)}),n}(t)}(this.props.video))}),this.addVideoEventListener("canplay",()=>{this.onCanPlay.dispatch(void 0),this.restorePlaybackRateIfNeeded()}),this.addVideoEventListener("ended",()=>{const{videoType:e}=this.playerStore.getState().controller;e===Us.a.VOD||void 0===e?this.onPlayingStateChangeInternal.dispatch(Fs.a.END):this.video.paused&&Ic.a.warn('Pause stream after "ended" event on LIVE stream')}),this.addVideoEventListener("loadeddata",()=>{this.playerStore.dispatch(Gd(this.video.readyState)),this.onLoadedData.dispatch(void 0)}),this.addVideoEventListener("error",e=>this.onVideoTagError(e)),this.state.skin.useNativeControls&&this.onDestroy.add(ia(this.video,()=>{this.playerStore.dispatch(Lh())})),this.animationFramesController=new ug(window,e=>{try{this.onTick(Object(xs.h)(e))}catch(e){this.props.onError(new Oc(e,{code:Rc.a.ON_TICK_ERROR,isFatal:!1}))}},Object(xs.h)(4*eg.a),Object(xs.h)(250)),this.onDestroy.add(()=>this.animationFramesController.stop()),this.animationFramesController.start(),this.handleSubtitles()}async play(){if(this.preventPauseState)return this.preventPauseState=va({},this.preventPauseState,{shouldPlayAfterEnd:!0}),void Ic.a.log("play method call during preventPauseAsync operation");const e=y(this.video);e.catch(e=>{-1!==e.toString().indexOf("no supported sources")&&this.props.onError(new Oc({code:Rc.a.UNSUPPORTED_MEDIA_TYPE}))}),await e}getFragmentsData(){return{totalDuration:this.getDuration(),fragmentDuration:wE.a,startTime:Object(xs.j)(0)}}getUtcStartTime(){return Sg}getUtcPosition(){return Sg}async attachEncoder(){this.bandwidthEstimateUpdateInterval=window.setInterval(()=>{this.playerStore.dispatch(ed(this.getBandwidthEstimate())),la(this.getBandwidthEstimate())},5e3)}seek(e){if(this.canSeek()){this.playerStore.dispatch(Vd(void 0));const{start:t,end:n}=this.getSeekableRange(),{currentTime:r,bufferingRanges:i}=this.state.controller,a=d(e,t,n);fa(this.video,Object(xs.j)(a)),this.onCurrentTimeChange.dispatch(this.getCurrentTime());kn(i,a)||this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.Seek,{oldPosition:r,newPosition:a})))}else this.playerStore.dispatch(Rd({videoTime:e}))}setPlaybackRate(e){const t=this.video.playbackRate;if(t===e)return;this.video.playbackRate=e;const n=this.video.playbackRate;n!==t&&this.playerStore.dispatch(Ld(n))}getUtcEndTime(){return Object(xs.j)(0)}updateNativeControlsVisibility(){const e=Zn(this.state)&&!Zs(this.state.skin.hiddenControls)&&(this.state,!0);this.playerStore.dispatch(Pl(e)),p(this.video,{controls:e?"controls":null}),this.video.classList.toggle(dg.a.video_hiddenControls,!e),this.setNativeTimeControlVisibility(aa(this.state)),this.setNativeTimelineControlVisibility(aa(this.state))}async detachEncoder(){const e=this.getBandwidthEstimate();this.playerStore.dispatch(ed(e)),la(e),null!==this.bandwidthEstimateUpdateInterval&&clearInterval(this.bandwidthEstimateUpdateInterval),this.videoTrackValueSignal.dispatch(void 0),this.audioTrackValueSignal.dispatch(void 0),this.textTrackValueSignal.dispatch(void 0),this.onDetach.dispatch(void 0)}async preloadSource(){Ic.a.log("preloadSource() is not implemented for "+this.engine)}setLoop(e){const{video:t}=this.props,{loop:n}=this.video;e!==n&&(t.loop=e)}isPaused(){return this.props.video.paused}pause(){this.recoverHelper.reset("pause"),this.props.video.pause()}getDuration(){return Object(xs.j)(this.video.duration)}getCurrentTime(){return Object(xs.b)(Object(xs.h)(Math.floor(Object(xs.c)(Object(xs.j)(this.props.video.currentTime),1e3))),1e3)}getVideoWidth(){return this.video.videoWidth}getVideoHeight(){return this.video.videoHeight}setVolume(e){di(e)?XE?this.video.volume=e:Ic.a.warn("cannot change video volume"):Ic.a.warn("setVolume wrong value")}getVolume(){return this.video.volume}setMuted(e){this.video.muted=e}getMuted(){return this.video.muted}setPoster(e){this.state.skin.useNativeControls&&(this.removePoster(),this.props.video.setAttribute("poster",e||$s.a))}removePoster(){this.props.video.removeAttribute("poster")}getConnectionQuality(){return sf({fragDuration:Object(xs.c)(this.fragDuration,1e3),timings:this.props.resourceTimingsMonitor.getAllResourcesTimings()})}isDvrEnabled(){return!0}toggleNativeSubtitles(e){const t=this.state.skin.useNativeSubtitles;if(t===e)return;const n=da(t),r=da(e);this.playerStore.dispatch(ap(e)),ca(this.video.textTracks).forEach((e,t)=>{e&&(e.mode=n===e.mode?r:"disabled")})}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.buffered.length>0&&e.duration>0}getRecoverHelperState(){return this.recoverHelper.getState()}getCapSizes(){var e;const t=null!=(e=this.props.getPipWindowSize())?e:{width:this.getVideoElementWidth(),height:this.getVideoElementHeight()};return{height:Object(xs.i)(Math.min(...[Object(xs.c)(t.height,devicePixelRatio),Object($v.a)()?sg:void 0].filter(rs.a))),width:Object(xs.c)(t.width,devicePixelRatio)}}getMaxCapAllowedVideoTrack(){}getRemainingBufferedTime(){return{total:Dn(this.state)||Object(xs.j)(0)}}getBandwidthEstimate(){const{controller:{lastKnownBandwidthEstimate:e}}=this.playerStore.getState();if(isFinite(e))return e;const t=function(){try{const e=Iv.a.getItem("videolayer-bandwidth-estimate");if(!e)return Object(xs.e)(NaN);const{bandwidthEstimate:t,time:n}=JSON.parse(e);return Object(hg.a)()-n<pg?t:Object(xs.e)(NaN)}catch(e){return Object(xs.e)(NaN)}}();if(!isNaN(t)&&t>0)return t;const n=ha();if(!isNaN(n)&&n>0)return n;const r=Object(xs.g)(function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:n={}}=t;if("number"===typeof n.downlink)return n.downlink;if("number"===typeof n.downlinkMax)return n.downlinkMax;if("string"===typeof n.type||"number"===typeof n.type)switch(n.type){case ZE.BLUETOOTH:return 3;case JE.CELL_2G:return.384;case JE.CELL_3G:case ZE.CELLULAR:return 2;case ZE.WIMAX:return 37;case ZE.NONE:return 0;case JE.ETHERNET:case ZE.ETHERNET:case JE.WIFI:case ZE.WIFI:case ZE.MIXED:return 10;case JE.UNKNOWN:case ZE.UNKNOWN:case ZE.OTHER:}return-1}(window));return-1===r?Object(xs.e)(1e6):Object(xs.c)(Object(xs.c)(r,1e3),1e3)}async recoverStream(){const e=this.getPositionToRecover();this.playerStore.dispatch(Rd(e)),await this.detachEncoder(),await this.attachEncoder()}getLiveLatency(){}subscribeVideoBuffering(){const{video:e}=this,t=this.getVideoBufferingSubscriber()(e,t=>{const n=pa(e,t);this.onPlayingStateChangeInternal.dispatch(n)});this.onDestroy.add(t)}getVideoBufferingSubscriber(){return rg}getPositionToRecover(){const{programDateTime:e,currentTime:t,startPosition:n}=this.state.controller,r={utc:void 0===e?void 0:Object(xs.a)(Object(xs.b)(e,1e3),t),videoTime:t};return t?r:n}subscribeContentImpression(){this.onDetach.add(function(e,t){const n=Object(Ko.a)(e,"timeupdate",()=>{e.currentTime>0&&!e.paused&&(i(),t())}),r=Object(Ko.a)(e,"playing",()=>{e.duration>0&&(i(),t())}),i=()=>{n(),r()};return i}(this.video,()=>{this.onContentImpression.dispatch(void 0)}))}onTick(e){this.state.skin.seeking||(this.dispatchOnDurationChange(),this.onCurrentTimeChange.dispatch(this.getCurrentTime()),this.playerStore.dispatch(Gd(this.video.readyState)),this.video.paused&&this.currentState===Fs.a.PLAY&&!this.wasPausedAfterQualityChanged&&this.onPlayingStateChangeInternal.dispatch(Fs.a.PAUSE),this.setPlaybackRateCatchup())}addVideoEventListener(e,t,n){let{once:r}=void 0===n?{}:n,i=t;const{video:a}=this,o=()=>{a.removeEventListener(e,i)};return r&&(i=e=>{this.onDestroy.remove(o),o(),t.call(a,e)}),this.onDestroy.add(o),this.video.addEventListener(e,i),o}addEventListener(e,t,n,r){const i=Object(Ko.a)(e,t,n,r);this.onDestroy.addOne(i)}getSeekableRange(){return{start:Object(xs.j)(0),end:this.getDuration()||Object(xs.j)(0)}}getNetParams(){return this.playerStore.getState().controller.netParams}setNativeTimeControlVisibility(e){this.state.skin.useNativeControls&&this.video.classList.toggle(dg.a.video_hiddenTime,!e)}setNativeTimelineControlVisibility(e){this.state.skin.useNativeControls&&this.video.classList.toggle(dg.a.video_hiddenTimeline,!e)}getVisibleTextTrackMode(){return da(this.state.skin.useNativeSubtitles)}getHiddenTextTrackMode(){return"disabled"}getCurrentTextTrack(){if(!this.video)return;const e=this.getVisibleTextTrackMode();return ca(this.video.textTracks).find(t=>void 0!==t&&t.mode===e)}restoreUserTextTrack(){const{userTextTrackEnabled:e,userTextTrackName:t,userTextTrackLang:n,textTracks:r}=this.playerStore.getState().controller;if(void 0!==e)if(e){const i=en(r,{enabled:e,name:t,lang:n});i&&this.setTextTrack(i)}else this.disableTextTrack()}restoreUserAudioTrack(){const e=function(e){const{userAudioTrackName:t,userAudioTrackLang:n,audioTracks:r}=e.controller;return Zi(r,{name:t,lang:n})}(this.playerStore.getState());e&&(Ic.a.log("Set audio track by user params audioTrack=["+JSON.stringify(e)+"]"),this.setAudioTrack(e))}restoreUserVideoTrack(){const e=function(e){const{videoTracks:t,userVideoTrackName:n,userVideoTrackHeight:r}=e.controller;return $i(t,{name:n,height:r})}(this.playerStore.getState());e&&(Ic.a.log("Set video track by user params videoTrack=["+JSON.stringify(e)+"]"),this.setVideoTrack(e))}updateSkinDvrParameters(e){const t=Object(xs.b)(e,1e3),{skin:{skinDVRStartTime:n,skinDVRDuration:r},controller:{videoType:i,dvrDuration:a,duration:o}}=this.state;if(i===Us.a.LIVE){const e=Object(xs.j)(Math.min(Object(xs.a)(n,t),o||Object(xs.j)(0)));this.playerStore.dispatch(Nd(e))}else if(i===Us.a.EVENT){const e=Object(xs.j)(Math.min(Object(xs.a)(r,t),a));this.playerStore.dispatch(Dd(e))}}checkPositionAndReturnToLive(){const{controller:{videoType:e},skin:{useNativeControls:t}}=this.state;if(e!==Us.a.LIVE||t||nn(this.state)||!this.canSeek())return;const n=this.getCurrentTime(),{startTime:r,fragmentDuration:i}=this.getFragmentsData();if(n<r){const e=Object(xs.a)(r,Object(xs.c)(i,Jp.b));Ic.a.log("checkPositionAndReturnToLive: return to dvr at "+e),this.seek(e)}}async destroyUnsafe(){this.onDestroy.dispatch(void 0),await this.detachEncoder();const{error:e}=this.state.controller.errorInfo;e&&e.isFatal&&this.video.src&&(this.video.src=""),this.playerStore.dispatch(jd(Ap.a.bufferingRanges))}async preventPauseAsync(e,t){const{paused:n}=e,r=t();this.preventPauseState||(this.preventPauseState={promises:[],shouldPlayAfterEnd:!n}),this.preventPauseState.promises.push(r);const i=await r;if(this.preventPauseState){const t=this.preventPauseState.promises.length;Promise.all(this.preventPauseState.promises).catch(Xo.a).then(()=>{this.preventPauseState&&t===this.preventPauseState.promises.length&&(this.preventPauseState.shouldPlayAfterEnd&&Object(ns.a)(e.play()),this.preventPauseState=void 0)})}return i}getVideoOwnerDocument(){return this.video.ownerDocument||document}logLoadToRum(){Nr(this.engine,this.state.ad.adSyncInit)}subscribeYabroRum(){this.onDetach.addOne(this.addVideoEventListener("firstframedecoded",()=>{Lr(this.engine,{},this.state.ad.adSyncInit)},{once:!0})),this.onDetach.addOne(this.addVideoEventListener("firstframeshown",()=>{jr(this.engine,{},this.state.ad.adSyncInit)},{once:!0}))}getStreamUrl(){return this.props.stream.url}shouldUseLowBuffer(){const{startStage:e,autoplay:t,preload:n}=this.state.controller;return e!==Yp.a.started&&!t&&n}isBufferingOnPreload(e){return e===Fs.a.BUFFERING&&(!!this.state.controller.preload&&(this.state.controller.startStage!==Yp.a.started&&this.state.controller.startStage!==Yp.a.starting))}getMaxBufferLength(){if(this.shouldUseLowBuffer())return og;const{maxBufferLength:e=ag}=this.props;return e}setPlaybackRateCatchup(){const e=void this.state;void 0!==e&&this.setPlaybackRate(e)}getVideoElementHeight(){const{video:e}=this;return Object(xs.i)(e.height||e.clientHeight||e.offsetHeight)}getVideoElementWidth(){const{video:e}=this;return Object(xs.i)(e.width||e.clientWidth||e.offsetWidth)}handleSubtitles(){const{textTracks:e}=this.video;e&&"function"===typeof e.addEventListener&&(this.onDestroy.add(Object(Ko.a)(e,"addtrack",e=>{const t=e.track;t&&"subtitles"===t.kind&&this.onDestroy.add(Object(Ko.a)(t,"cuechange",this.refreshSubtitles))})),this.textTrackValueSignal.add(e=>{void 0===e?this.emptySubtitles():this.refreshSubtitles()}),this.onDestroy.add(Object(Ms.a)(this.refreshSubtitles)),this.onDetach.add(this.disableSubtitlesNative))}restorePlaybackRateIfNeeded(){if(wt(this.state))return;const e=this.state.controller.playbackRate;e!==this.video.playbackRate&&this.setPlaybackRate(e)}dispatchOnDurationChange(){const e=this.getDuration();isNaN(e)||this.props.onDurationChange.dispatch(e)}}class bg extends Tg{constructor(e){super(e),this.props=e,this.engine=ef.HLS,this.preloadSourceHLSEncoder=void 0,this.preloadSourceHandlers=[],this.preloadPosition={},this.HLSEncoder=void 0,this.lastKnownLevelDetails=void 0,this.HLSEncoderAttachTime=1/0,this.loadStarted=!1,this.recoverOnBufferingReason=null,this.initHlsEncoderPromise=void 0,this.maxHeightCapping=void 0,this.levelForcingInterval=void 0,this.hlsFragHelper=new UE(5),this.restoreUserTracksWhenPossible=()=>{const{HLSEncoder:e}=this;if(!e)return;if(!e.levels||0===e.levels.length)return void e.once(Hls.Events.MANIFEST_LOADED,this.restoreUserTracksWhenPossible);Object(rs.a)(this.HLSEncoderAttachTime)?this.restoreUserTracks():e.once(Hls.Events.MEDIA_ATTACHED,this.restoreUserTracks)},this.onLevelUpdated=()=>{this.onVideoTypeChange.dispatch(this.getVideoType()),this.checkPositionAndReturnToLive();const e=this.getHlsEncoderLevelDetails();if(e&&e.fragments&&e.fragments.length>0){const[t]=e.fragments;t.programDateTime&&this.props.onProgramDateTimeChange.dispatch(Object(xs.c)(this.getUtcStartTime(),1e3))}},this.onSubtitleTracksUpdated=()=>{this.HLSEncoder&&this.props.onTextTracksChange.dispatch(function(e){const t=[];return Array.isArray(e)&&e.forEach(e=>{const n=Gi(e);n&&t.push(n)}),t}(this.HLSEncoder.subtitleTracks))},this.onAudioTracksUpdated=()=>{const{HLSEncoder:e}=this;if(!e)return;const{audioTracks:t}=e;e.config.maxBufferSize=t.length>0?12e6:Hls.DefaultConfig.maxBufferSize,this.props.onAudioTracksChange.dispatch(function(e){const t=[];return Array.isArray(e)?(e.forEach(e=>{const n=Wi(e);n&&t.push(n)}),t):[]}(t))},Object($l.b)(),this.playerStore.dispatch(Fd(!0)),this.onPlayingStateChange.add(e=>{e===Fs.a.PLAY?this.recoverHelper.reset("play"):e===Fs.a.END?this.stopLoad():e===Fs.a.BUFFERING&&this.tryRecoverOnBuffering()}),this.subscribeVideoBuffering()}getEngine(){return ef.HLS}getFragmentsData(){const e=this.getHlsEncoderLevelDetails();if(!e)return super.getFragmentsData();const{totalduration:t,targetduration:n,fragments:r}=e,[i]=r;return i?{totalDuration:Object(xs.j)(Math.min(t,this.getDuration())),fragmentDuration:Object(xs.j)(n),startTime:Object(xs.j)(i.start)}:super.getFragmentsData()}onOnline(){this.startLoadOnce(this.video.currentTime)}onOffline(){this.stopLoad()}play(){return this.startLoadOnce(),super.play()}getUtcStartTime(){const e=this.getHlsEncoderLevelDetails();if(!e||!e.hasProgramDateTime)return Object(xs.j)(0);const[t]=e.fragments;return t&&t.programDateTime?Object(xs.d)(Object(xs.b)(Object(xs.h)(t.programDateTime),1e3),Object(xs.j)(t.start)):Object(xs.j)(0)}getUtcPosition(){const e=this.getUtcStartTime();return e>0?Object(xs.a)(e,this.getCurrentTime()):super.getUtcPosition()}setVideoTrack(e){const{HLSEncoder:t}=this;if(void 0===t)return;const{levels:n}=t;if(void 0===n)return;const r=e.value===Hf.value?-1:n.findIndex(t=>t.url.some(t=>t===e.value));-1===r?this.startLevelForcingWithSizeCap():this.stopLevelForcingWithSizeCap();const i=this.isPaused();t.currentLevel=r,!i&&this.isPaused()&&(this.wasPausedAfterQualityChanged=!0,this.onPlayingStateChangeInternal.dispatch(Fs.a.BUFFERING))}setAudioTrack(e){const{HLSEncoder:t}=this;if(void 0===t)return;const n=t.audioTracks.find(t=>e.value===String(t.id));n&&(t.audioTrack=Number(n.id))}setTextTrack(e){const{HLSEncoder:t}=this;if(void 0===t)return;const n=this.getHlsTextTrack(e);n&&(this.textTrackValueSignal.dispatch(e&&e.value),t.subtitleTrack=n.id)}disableTextTrack(){this.textTrackValueSignal.dispatch(void 0)}toggleNativeSubtitles(e){super.toggleNativeSubtitles(e);const{HLSEncoder:t}=this;void 0!==t&&(t.subtitleDisplay=e)}async preloadSource(){this.props.logEvent({event:_c.a.PreloadSource,params:{}});let e=!1;const t=()=>{e=!0};this.onDestroy.addOne(t),this.onDetach.addOne(t);try{await Object($l.b)()}catch(e){return void this.props.onError(new Oc(e,{code:Rc.a.SCRIPT_INIT_ERROR,isFatal:!1}))}if(e||this.HLSEncoder||this.initHlsEncoderPromise||this.preloadSourceHLSEncoder)return;const n=Ea({},this.getHlsJsConfig(),{liveSyncDuration:wE.a}),r=window.hls=this.preloadSourceHLSEncoder=new Hls(n),i=(e,t)=>{this.preloadSourceHandlers.push([e,t]),r.once(e,t)};((e,t)=>{this.preloadSourceHandlers.push([e,t]),r.on(e,t)})(Hls.Events.ERROR,(e,t)=>{if(!t)return;const n=Li(t),i=Mi(t);void 0!==i&&(this.props.onError(new Oc(i,{isFatal:!1})),n&&(this.props.onError(new Oc({code:Rc.a.PRELOAD_SOURCE_FAILED,isFatal:!1,details:{reason:i}})),this.unsubscribePreloadSourceHandlers(),r.destroy(),this.clearPreloadSourceHlsEncoder()))});const a=()=>{this.preloadPosition=this.state.controller.startPosition,r.config.startFragPrefetch=!0,this.loadStarted=!0};i(Hls.Events.MANIFEST_PARSED,(e,t)=>{let{levels:n=[],audioTracks:o=[]}=t;const s=this.getStartVideoLevelIndex(n);r.startLevel=s,this.state.controller.isAbrEnabled||(r.loadLevel=s);this.getStartAudioTrackIndex(o)>-1&&(r.audioTrack=this.getStartAudioTrackIndex(o));const c=this.getStartLoadPosition();i(Hls.Events.LEVEL_UPDATED,(e,t)=>{let{details:n}=t;const i=this.getStartLoadPosition(n);c!==i&&void 0!==i&&r.streamController.startLoad(i),a()}),r.startLoad(c)}),r.loadSource(this.getStreamUrl())}async attachEncoder(){if(await super.attachEncoder(),!IE){const e=Rc.a.HLS_JS_NOT_SUPPORTED_ERROR;return this.props.onError(new Oc({code:e})),Promise.reject(Object(kE.a)(e,this.state.ad.adblockDetected))}return this.initHlsEncoderPromise=this.initHlsEncoder(),await this.initHlsEncoderPromise,this.initHlsEncoderPromise=void 0,this.subscribeContentImpression(),this.startLevelForcingWithSizeCap(),this.attachMedia()}async destroyUnsafe(){await super.destroyUnsafe(),this.preloadSourceHLSEncoder&&this.preloadSourceHLSEncoder.destroy(),this.HLSEncoder&&this.HLSEncoder.destroy()}canSeek(){return void 0!==this.HLSEncoder&&Boolean(this.HLSEncoder.media)&&super.canSeek()}async detachEncoder(){if(Object(qo.a)(this.video.textTracks).forEach(ea),this.stopLevelForcingWithSizeCap(),await super.detachEncoder(),this.loadStarted=!1,this.preloadSourceHLSEncoder&&(this.preloadSourceHLSEncoder.destroy(),this.clearPreloadSourceHlsEncoder()),!this.HLSEncoder){if(!this.initHlsEncoderPromise)return;await this.initHlsEncoderPromise}const{video:e,HLSEncoder:t}=this;if(void 0!==t)return this.recoverOnBufferingReason=null,new Promise(n=>{Boolean(t.media)?t.once(Hls.Events.MEDIA_DETACHED,()=>{this.HLSEncoderAttachTime=1/0,n()}):n(),this.lastKnownLevelDetails=void 0,A(e,()=>{t.destroy(),this.HLSEncoder=void 0})})}getConnectionQuality(){const e=this.hlsFragHelper.getCurrentFragRequestTiming();return e&&af(e)?of.SLOW:super.getConnectionQuality()}getMaxCapAllowedVideoTrack(){const{HLSEncoder:e}=this;if(!e||!e.levels||!e.autoLevelEnabled)return;const t=e.levels[e.autoLevelCapping];return t?this.state.controller.videoTracks.find(e=>{let{value:n}=e;return n===t.url[0]}):void 0}onVideoTagError(e){if(!this.video.error||nn(this.state))return;const t=g(this.video);if(t.code!==Io.MEDIA_ERR_DECODE&&t.code!==Io.MEDIA_ERR_SRC_NOT_SUPPORTED)return;const n=t.code===Io.MEDIA_ERR_SRC_NOT_SUPPORTED,r=new Oc({code:Io[t.code],details:t,isFatal:n});if(this.props.onError(r),n)return;const i="VideoTagError MEDIA_ERR_DECODE";Ic.a.log(i),this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.MediaError,void 0))),this.isPaused()&&this.recoverHelper.planTask(()=>this.recoverCurrentFrag(),{reason:i,delay:1e3})}onTick(e){super.onTick(e),this.updateSkinDvrParameters(e)}getStreamUrl(){return Object(Do.b)(super.getStreamUrl(),{session_data:"1",preview:"1"},{saveOriginalPath:!0})}getBandwidthEstimate(){if(!this.HLSEncoder)return super.getBandwidthEstimate();const e=Object(cs.a)(()=>this.HLSEncoder.abrController._bwEstimator.getEstimate());return Object(rs.a)(e)?e:super.getBandwidthEstimate()}getUtcEndTime(){const e=this.getUtcStartTime();return e?Object(xs.a)(e,this.getDuration()):Object(xs.j)(0)}stopLoad(){this.HLSEncoder&&(this.HLSEncoder.stopLoad(),this.loadStarted=!1)}tryRecoverOnBuffering(){if(!this.recoverOnBufferingReason)return;const{type:e,url:t,details:n,frag:r}=this.recoverOnBufferingReason,{controller:{bufferingRanges:i,fragmentDuration:a}}=this.state,o=this.getCurrentTime();if(i.some(e=>{let{start:t,end:n}=e;return t+a<o&&n-a>o}))return void Ic.a.log("skip recover",{currentTime:o,bufferingRanges:i});const{recoverHelper:s}=this;s.planTask(()=>this.recoverCurrentFrag(),{reason:"HlsJs "+e,rawData:{details:n,type:e,url:t,isFatal:!0,frag:_i(r)},delay:100})}getHlsJsConfig(){const e="true"!==Iv.a.getItem(YE.WAS_WORKER_INTERNAL_ERROR);return{manifestLoadingTimeOut:this.getNetParams().manifestTimeout,levelLoadingTimeOut:this.getNetParams().levelTimeout,fragLoadingTimeOut:this.getNetParams().chunkTimeout,fragLoadingMaxRetry:5,debug:this.props.debug,enableWorker:e,autoStartLoad:!1,capLevelToPlayerSize:!1,liveSyncDuration:this.props.liveOffset,levelLoadingMaxRetry:25,levelLoadingMaxRetryTimeout:100,xhrSetup:(e,t)=>{this.withCredentials&&(e.withCredentials=!0);const n=Object(Do.c)(t),r="ts"===n;("m3u8"===n||r)&&e.open("GET",ni(t),!0),r&&Object(Ko.a)(e,"readystatechange",()=>{if(4===e.readyState){if(!e.response)return;if(0===e.response.byteLength)return;const t={data:new Blob([new Int8Array(e.response)]),url:e.responseURL};this.hlsFragHelper.putFragBlob(t)}})},fetchSetup:(e,t)=>(this.withCredentials&&(t.credentials="include"),new Request(e.url,t)),maxMaxBufferLength:this.getMaxBufferLength()}}preparePreloadSourceHlsEncoderToAttach(){const e=this.preloadSourceHLSEncoder;if(!e)return;this.HLSEncoder=e;const{preloadPosition:t}=this;if(this.unsubscribePreloadSourceHandlers(),this.clearPreloadSourceHlsEncoder(),e.config.liveSyncDuration=this.props.liveOffset,!e.levels||0===e.levels.length)return e;this.onLevelsUpdated(),this.onLevelUpdated(),this.updateThumbnailTileMeta(),this.onAudioTracksUpdated(),this.onAudioTrackUpdated(e.audioTrack),this.onSubtitleTracksUpdated();const{videoTime:n,utc:r}=this.state.controller.startPosition;if(!(t.utc!==r||t.videoTime!==n))return e;const i=this.getStartLoadPosition(this.getHlsEncoderLevelDetails());return void 0!==i&&e.streamController.startLoad(i),e}async initHlsEncoder(){if(this.HLSEncoder)return;if(this.HLSEncoder=this.preparePreloadSourceHlsEncoderToAttach(),this.HLSEncoder)this.props.logEvent({event:_c.a.UsePreloadedHlsJs,params:{}});else{try{await Object($l.b)()}catch(e){const t=new Oc(e,{code:Rc.a.SCRIPT_INIT_ERROR});throw this.props.onError(t),t}this.HLSEncoder=new Hls(this.getHlsJsConfig())}const{HLSEncoder:e}=this;window.hls=e,this.subscribeHlsEncoderEvents(e),this.restoreUserTracksWhenPossible(),this.onPlayingStateChange.addOne(()=>{e.config.maxMaxBufferLength=this.getMaxBufferLength()})}subscribeHlsEncoderEvents(e){e.subtitleDisplay=this.state.skin.useNativeSubtitles;const t=t=>{if(!e.levels)return;const n=e.levels[t];if(!n)return;const r=Qi(n,this.deepHDTracks,this.videoTrackLabels);r&&this.videoTrackValueSignal.dispatch(r.value)};e.on(Hls.Events.LEVEL_SWITCHING,(e,n)=>{t(n.level)}),e.on(Hls.Events.LEVEL_SWITCHED,(e,n)=>{t(n.level)}),e.on(Hls.Events.LEVEL_LOADED,(e,t)=>{let{details:n,networkDetails:r}=t;this.validateLevelManifestUrl(r),this.validateLevels(r)}),e.on(Hls.Events.STREAM_STATE_TRANSITION,(e,t)=>{let{nextState:n}=t;"FRAG_LOADING"!==n&&this.hlsFragHelper.onFragLoadStop()}),e.on(Hls.Events.FRAG_LOADING,(e,t)=>{let{frag:n}=t;this.hlsFragHelper.onFragLoadStart(n)}),e.levels&&0!==e.levels.length||e.on(Hls.Events.MANIFEST_PARSED,(n,r)=>{let{levels:i=[],audioTracks:a=[]}=r;this.onLevelsUpdated(),this.updateThumbnailTileMeta();const o=this.getStartVideoLevelIndex(i);e.startLevel=o,this.state.controller.isAbrEnabled||(e.loadLevel=o);this.getStartAudioTrackIndex(a)>-1&&(e.audioTrack=this.getStartAudioTrackIndex(a)),e.once(Hls.Events.LEVEL_LOADED,(e,n)=>{let{level:r}=n;t(r)})}),e.on(Hls.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated),e.on(Hls.Events.AUDIO_TRACK_SWITCHING,(e,t)=>{this.onAudioTrackUpdated(t.id)}),e.on(Hls.Events.AUDIO_TRACK_SWITCHED,(e,t)=>{this.onAudioTrackUpdated(t.id)}),e.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated),e.on(Hls.Events.SUBTITLE_TRACK_SWITCH,(t,n)=>{const{subtitleTrack:r}=e;if(r>-1){const t=Gi(e.subtitleTracks.find(e=>e.id===n.id));if(!t)return;this.textTrackValueSignal.dispatch(t.value)}else this.textTrackValueSignal.dispatch(void 0)}),e.on(Hls.Events.FRAG_PARSING_METADATA,async(e,t)=>{const{samples:n,frag:r}=t;if(n){const{length:e}=n;if(e){const e=(await Promise.all(n.map(e=>PE.a.parse(e.data).then(e=>{let{writer:t}=e;return t})))).filter(e=>void 0!==e),{data:t,index:i,reason:a}=function(e){const[t,n]=e.reduce((e,t)=>{let[n,r]=e;try{return!function(e){return"object"===typeof e&&e.id&&"number"===typeof e.offset&&(void 0===e.cutoff||"number"===typeof e.cutoff)}(JSON.parse(t))?r.push(t):n.push(t),[n,r]}catch(e){return[n,r]}},[[],[]]);if(t.length>0){const n=t[t.length-1];return{data:n,index:e.indexOf(n),reason:WE.HasAd}}if(n.length>0){const t=n[n.length-1];return{data:t,index:e.indexOf(t),reason:WE.NoAd}}return{data:"",index:-1,reason:WE.NoData}}(e);Ic.a.log("choose metadata: ",t,i,a);Math.random()<.01&&this.props.logEvent({event:_c.a.StreamPlayerChooseMetadata,params:{fragmentMetadataArray:t,chosenIndex:i,chosenReason:a}}),this.props.onMetadata.dispatch({fragmentMetadataArray:[t],fragmentStart:Object(xs.j)(r.start),fragmentDuration:Object(xs.j)(r.duration),src:r?r.url:this.getStreamUrl()})}}}),e.on(Hls.Events.MANIFEST_LOADED,(e,t)=>{let{levels:n,audioTracks:r,subtitles:i,url:a,networkDetails:o}=t;this.validateLevels(o),this.onLevelsUpdated(),this.forceLevel(),this.onAudioTracksUpdated(),this.onSubtitleTracksUpdated()}),e.on(Hls.Events.LEVEL_UPDATED,this.onLevelUpdated),e.on(Hls.Events.ERROR,(e,t)=>{t&&this.onEncoderError(t)}),e.on(Hls.Events.FRAG_LOADED,(e,t)=>{let{frag:n}=t;this.hlsFragHelper.putLoadedFrag(n)}),e.on(Hls.Events.FRAG_PARSED,(e,t)=>this.handleFragParsed(e,t)),e.on(Hls.Events.FRAG_CHANGED,(e,t)=>{let{frag:n}=t;this.hlsFragHelper.putPlayedFrag(n)}),this.state.skin.useNativeControls&&this.onPlayingStateChange.add(e=>{"play"!==e&&"buffering"!==e||this.startLoadOnce()})}getStartVideoLevelIndex(e){const{userVideoTrackHeight:t,userVideoTrackName:n}=this.playerStore.getState().controller,r=$i(e,{name:n,height:t});if(r){const t=e.indexOf(r);return Ic.a.log("User level found, start loading by index=["+t+"]"),t}return function(e){let{video:t,maxHeightCapping:n,levels:r=[],bandwidth:i}=e;const a=r.slice().filter(Boolean).sort((e,t)=>t.bitrate-e.bitrate);if(0===a.length)return-1;const{width:o,height:s}=ra(t),[c]=a.filter(e=>!(i&&e.bitrate>i)&&(!(n&&e.height>n)&&(e.width<=o||e.height<=s)));return void 0===c?r.indexOf(a.pop()):r.indexOf(c)}({levels:e,maxHeightCapping:this.maxHeightCapping,video:this.video,bandwidth:this.state.controller.isAbrEnabled?this.getBandwidthEstimate():1/0})}getStartAudioTrackIndex(e){const{userAudioTrackName:t,userAudioTrackLang:n}=this.playerStore.getState().controller,r=Zi(e,{name:t,lang:n});if(!r)return-1;const i=e.indexOf(r);return Ic.a.log("User audio track found, start loading by index=["+i+"]"),i}handleFragParsed(e,t){let{frag:n}=t;const{duration:r}=n;if(0===r&&this.state.controller.videoType===Us.a.VOD){const e=this.getHlsEncoderLevelDetails(),t=e?e.fragments:[];if(t[t.length-1]===n)return}(r<=0||r>=2*this.fragDuration)&&this.props.logEvent({event:"InvalidFragDuration",params:_i(n)})}startLoadOnce(e){const{HLSEncoder:t}=this;!this.loadStarted&&void 0!==t&&this.state.controller.isOnline&&(t.levels&&t.levels.length>0?(t.startLoad(e),this.loadStarted=!0):t.once(Hls.Events.MANIFEST_PARSED,()=>{this.startLoadOnce(e)}))}getHlsEncoderLevelDetails(){const{HLSEncoder:e}=this;if(void 0===e)return;const{currentLevel:t,levels:n}=e;if(!n)return;const r=n[t];if(r&&r.details)return this.lastKnownLevelDetails=r.details,this.lastKnownLevelDetails;const i=n.find(e=>{let{details:t}=e;return Boolean(t)});if(i){const{details:e}=i;this.lastKnownLevelDetails=e}return this.lastKnownLevelDetails}computeRecoverJumpGap(){const{controller:{bufferingRanges:e}}=this.state,t=this.getCurrentTime();return Math.max(...e.map(e=>{let{end:t}=e;return t}))+1.1*this.fragDuration<t?(Ic.a.log("use 0 as recoverJumpGap",{currentTime:t,bufferingRanges:e}),Object(xs.j)(0)):Object(xs.c)(this.fragDuration,1.1)}computeRecoverPositionFromStartPosition(){const{startPosition:e}=this.state.controller,t={},n=this.computeRecoverJumpGap();return void 0!==e.utc&&e.utc>0&&(t.utc=Object(xs.a)(e.utc,n)),t.videoTime=Object(xs.a)(e.videoTime||Object(xs.j)(0),n),t}computeRecoverPositionFromCurrentTime(){const e={},{lastRecoverPosition:t}=this.state.controller,n=this.getCurrentTime(),r=this.getUtcPosition(),i=this.computeRecoverJumpGap(),{utc:a=0,videoTime:o=0}=t||{};return(r>0||a>0)&&(e.utc=Object(xs.a)(Object(xs.j)(Math.max(r,a)),i)),e.videoTime=Object(xs.a)(Object(xs.j)(Math.max(n,o)),i),e}async recoverCurrentFrag(){const{lastRecoverPosition:e}=this.state.controller,t=this.getDuration()>0||void 0!==e?this.computeRecoverPositionFromCurrentTime():this.computeRecoverPositionFromStartPosition();this.playerStore.dispatch(Vd(t)),this.playerStore.dispatch(Rd(t)),await this.detachEncoder(),await this.attachEncoder()}attachMedia(){Ic.a.log("attachMedia"),this.logLoadToRum();const{video:e,HLSEncoder:t}=this;if(void 0===t){const e=new Oc({code:Rc.a.NO_HLS_JS_INSTANCE,isFatal:!1});return this.props.onError(e),Promise.reject(e)}const n=new Promise(e=>{t.once(Hls.Events.MEDIA_ATTACHED,()=>{window.performance&&Object(Av.a)(performance.now)&&(this.HLSEncoderAttachTime=performance.now()),t.url||t.loadSource(this.getStreamUrl()),e()})});t.once(Hls.Events.MANIFEST_PARSED,()=>{if(this.loadStarted)return;const e=this.getStartLoadPosition();t.startLoad(e),this.loadStarted=!0,t.once(Hls.Events.LEVEL_UPDATED,(n,r)=>{let{details:i}=r;const a=this.getStartLoadPosition(i);a!==e&&void 0!==a&&t.streamController.startLoad(a)})});const r=t.levels&&t.levels.length>0?Promise.resolve():new Promise(e=>{t.once(Hls.Events.MANIFEST_PARSED,()=>{e()})});return A(this.video,()=>{t.attachMedia(e)}),Promise.all([n,r]).then(()=>{})}onAudioTrackUpdated(e){const{HLSEncoder:t}=this;if(!t)return;const n=Wi(t.audioTracks.find(t=>t.id===e));n&&this.audioTrackValueSignal.dispatch(n.value)}getVideoType(){const e=this.getHlsEncoderLevelDetails();if(e)return na(e);return(this.HLSEncoder&&this.HLSEncoder.levels||[]).some(e=>{let{details:t}=e;return Boolean(t&&t.live)})||this.getDuration()===1/0?Us.a.LIVE:Us.a.VOD}onLevelsUpdated(){const{sessionData:e={},levels:t=[]}=this.HLSEncoder||{};this.deepHDTracks=function(e){const{VALUE:t=""}=e["com.yandex.video.levels.deephd"]||{},n=t.split(",").filter(e=>void 0!==Yi(e));return new Set(n)}(e),this.videoTrackLabels=function(e){const{VALUE:t=""}=e["com.yandex.video.labels.quality"]||{};return t.split(",").filter(Boolean).reduce((e,t)=>{const[n,r]=t.split(":");return void 0!==Yi(n)&&r&&e.set(n,r),e},new Map)}(e),this.maxHeightCapping=function(e){const{VALUE:t=""}=e["com.yandex.video.capping.maxheight"]||{},n=parseInt(t,10);return n>0?n:void 0}(e),this.props.onVideoTracksChange.dispatch(Ji(t,this.deepHDTracks,this.videoTrackLabels))}updateThumbnailTileMeta(){const{sessionData:e={}}=this.HLSEncoder||{},t=e=>{this.props.logEvent({event:e,params:void 0})},n=Ki(e,xE.LOWRES,t),r=Ki(e,xE.HIGHRES,t);if(void 0===r)return;const i=n?Bi(n,t):void 0,a=Bi(r,t),o={version:function(e){const{VALUE:t=""}=e["com.yandex.video.thumbnail.version"]||{};return parseFloat(t)||0}(e),lowRes:i,highRes:a};this.playerStore.dispatch(ul(o))}onEncoderError(e){const{details:t,type:n,url:r,frag:i}=e;if(!t)return;if(t===Hls.ErrorDetails.FRAG_PARSING_ERROR&&i){const e=this.hlsFragHelper.getBadFragmentReport(i,Hls.ErrorDetails.FRAG_PARSING_ERROR);e&&this.props.onBadFragment(e)}if(t===Hls.ErrorDetails.BUFFER_APPENDING_ERROR){const e=this.hlsFragHelper.getLastLoadedFragmentReport(Hls.ErrorDetails.BUFFER_APPENDING_ERROR);e&&this.props.onBadFragment(e)}if((a=e).networkDetails&&423===a.networkDetails.status&&a.details===Hls.ErrorDetails.LEVEL_LOAD_ERROR){this.props.logEvent({event:_c.a.HlsJsForceCappingStart,params:{}});const{recoverHelper:i}=this;return void i.planTask(()=>this.recoverCurrentFrag(),{force:Fi(e),reason:"HlsJs "+n,rawData:{details:t,type:n,url:r,isFatal:!1},delay:0})}var a;const o=Li(e),s=Mi(e);if(void 0!==s&&(o||n===Hls.ErrorTypes.MEDIA_ERROR))if(this.recoverHelper.allowed&&!s.isFatal){if(this.props.onError(s),Vi(e)){if(this.currentState!==Fs.a.BUFFERING&&function(e){const{details:t}=e;return!!t&&ME.includes(t)}(e))return void(this.recoverOnBufferingReason=e);let a;e.details===Hls.ErrorDetails.INTERNAL_EXCEPTION&&"demuxerWorker"===e.event?(Iv.a.setItem(YE.WAS_WORKER_INTERNAL_ERROR,"true"),a=()=>this.recoverStream()):a=()=>this.recoverCurrentFrag(),this.recoverHelper.planTask(a,{force:Fi(e),reason:"HlsJs "+n,rawData:{details:t,type:n,url:r,isFatal:o,frag:_i(i)},delay:1e3})}}else this.props.onError(new Oc(s,{isFatal:!0}))}getHlsTextTrack(e){if(this.HLSEncoder)return this.HLSEncoder.subtitleTracks.find(t=>e.value===String(t.id))}unsubscribePreloadSourceHandlers(){const{preloadSourceHLSEncoder:e}=this;e&&(this.preloadSourceHandlers.forEach(t=>{let[n,r]=t;e.off(n,r)}),this.preloadSourceHandlers.length=0)}clearPreloadSourceHlsEncoder(){this.preloadSourceHLSEncoder=void 0,this.preloadPosition={}}validateLevelManifestUrl(e){let{responseText:t,responseURL:n}=e;n&&(GE(n)||this.props.onError(new Oc({},{code:Rc.a.HLS_JS_INVALID_MANIFEST_URL,details:{networkDetailsResponseText:t,networkDetailsResponseUrl:n},isFatal:!1})))}validateLevels(e){const{levels:t=[]}=this.HLSEncoder||{},n=t.filter(e=>e.url.some(e=>!GE(e)));n.length>0&&this.props.onError(new Oc({},{code:Rc.a.HLS_JS_INVALID_MANIFEST_URL,isFatal:!1,details:{levels:n,networkDetailsResponseText:e.responseText,networkDetailsResponseUrl:e.responseURL}}))}getStartLoadPosition(e){const{startPosition:t}=this.state.controller,{liveOffset:n}=this.props;return function(e){let{details:t,startPosition:n,liveOffset:r}=e,{videoTime:i}=n;if(void 0===t)return i;if(t.hasProgramDateTime&&ta(n.utc)){const e=Object(xs.b)(Object(xs.j)(t.fragments[0].programDateTime),1e3);i=Object(xs.d)(n.utc,e)}if(!ta(i))return;const a=na(t)===Us.a.VOD?0:r,[o]=t.fragments,s=void 0===o?0:o.start,c=t.totalduration-a;return Object(xs.j)(d(i,s,c))}({details:e,startPosition:t,liveOffset:n})}startLevelForcingWithSizeCap(){clearInterval(this.levelForcingInterval),this.levelForcingInterval=window.setInterval(()=>{this.forceLevel()},1e3)}stopLevelForcingWithSizeCap(){clearInterval(this.levelForcingInterval)}forceLevel(){if(!this.HLSEncoder||!this.HLSEncoder.autoLevelEnabled||!this.HLSEncoder.levels||!this.HLSEncoder.levels.length)return;const{width:e,height:t}=this.getCapSizes(),n=Object(xs.i)(Math.min(...[this.maxHeightCapping,t].filter(rs.a))),{levels:r}=this.HLSEncoder,i=r.reduce((t,i,a)=>{if((i.height<t.smallestLevel.height||i.width<t.smallestLevel.width)&&(t.smallestLevel=i,t.smallestLevelIndex=a),i.height>n||i.width>e)return t;const o=(r[t.index]||{}).height||0;return i.height>o?Ea({},t,{index:a}):t},{index:-1,smallestLevel:r[0],smallestLevelIndex:0});this.HLSEncoder.autoLevelCapping=-1===i.index?i.smallestLevelIndex:i.index}}class Og{static fromXHR(e){return new Og(e)}constructor(e){this.status=void 0,this.status=e.status}isFatalError(){return this.isRegionLimitationError()||this.isSignatureExpiredError()}toPlayerError(){return new Oc({code:this.getErrorCode(),isFatal:this.isFatalError(),details:JSON.parse(Object(DE.a)(this))})}isRegionLimitationError(){return 451===this.status}isSignatureExpiredError(){return NE.includes(this.status)}getErrorCode(){return this.isRegionLimitationError()?Rc.a.REGIONAL_LIMITATION_MANIFEST:this.isSignatureExpiredError()?Rc.a.SIGNATURE_EXPIRED_MANIFEST:Rc.a.DEFAULT_ERROR}}const Rg=Object(xs.h)(3e3);class _g extends Tg{constructor(e){super(e),this.props=e,this.isRecoverablePlaylistHTTPStatus=!0,this.checkPlaylistHTTPStatusPromise=void 0,this.applyStartPosition=()=>{if(!this.canSeek())return;const e=this.getCurrentTime(),t=this.getStartPosition();Object(rs.a)(t)&&e!==t&&this.seekInternal(t)},this.saveUserAudioTrack=e=>{if(!e.isTrusted)return;const t=Aa(this.video);t&&this.playerStore.dispatch(Wd({name:t.name||void 0,lang:t.lang||void 0}))},this.actualizeNativeAudioTrack=()=>{const e=Aa(this.video);this.audioTrackValueSignal.dispatch(e&&e.value)},this.notifyTextTracksChanged=()=>{const e=function(e,t){const{textTracks:n=[]}=e;for(let e=0;e<n.length;e++){const r=n[e];if(r&&ba(r)&&r.mode===t)return Oa(r,e)}}(this.video,this.getVisibleTextTrackMode());this.textTrackValueSignal.dispatch(e&&e.value)},this.subscribeVideoBuffering(),this.playerStore.dispatch(Fd(!0)),this.playerStore.dispatch(Ud(!0));const{videoTracks:t,audioTracks:n,textTracks:r}=this.props.video,i=Object(ts.a)(()=>{this.props.onVideoTracksChange.dispatch(Pa(t)),this.props.onAudioTracksChange.dispatch(Ra(n)),this.props.onTextTracksChange.dispatch(_a(r));const e=Ta(this.video);e&&this.videoTrackValueSignal.dispatch(e.value),this.setFirstAudioTrack()});this.initTextTracks(),this.onDestroy.addOne(this.onCanPlay.addOne(i)),t&&(this.addEventListener(t,"addtrack",()=>{this.props.onVideoTracksChange.dispatch(Pa(t)),this.restoreUserVideoTrack()}),this.addEventListener(t,"removetrack",()=>{this.props.onVideoTracksChange.dispatch(Pa(t))}),this.addEventListener(t,"change",()=>{const e=Ta(this.video);this.videoTrackValueSignal.dispatch(e&&e.value)})),n&&(this.addEventListener(n,"addtrack",e=>{this.props.onAudioTracksChange.dispatch(Ra(n)),this.actualizeNativeAudioTrack(),this.restoreUserAudioTrack()}),this.addEventListener(n,"removetrack",()=>{this.props.onAudioTracksChange.dispatch(Ra(n)),this.actualizeNativeAudioTrack()}),this.addEventListener(n,"change",e=>{this.actualizeNativeAudioTrack(),this.saveUserAudioTrack(e)})),r&&this.addEventListener(r,"addtrack",()=>{this.props.onTextTracksChange.dispatch(_a(r))}),this.subscribeCueChange(),this.subscribeToLogTelemetry()}setAudioTrack(e){if(""===e.value)return;const t=Object(qo.a)(this.props.video.audioTracks),n=t.find(t=>t.id===e.value);n&&t.forEach(e=>e.enabled=e.id===n.id)}setTextTrack(e){""!==e.value&&this.renderTextTrack(e.value)}disableTextTrack(){this.renderTextTrack(void 0)}renderTextTrack(e){ca(this.video.textTracks).forEach((t,n)=>{t&&(t.mode=Oa(t,n).value===e?this.getVisibleTextTrackMode():this.getHiddenTextTrackMode())})}seekInternal(e){fa(this.video,Object(xs.j)(d(e,0,this.getDuration()||0)))}getFragmentsData(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return super.getFragmentsData();const e=this.video.seekable,t=Object(xs.j)(e.start(0)),n=Object(xs.j)(e.end(e.length-1));return{totalDuration:Object(xs.d)(n,t),fragmentDuration:wE.a,startTime:t}}shouldSkipVideoTagError(e){return e.code!==Io.MEDIA_ERR_DECODE&&e.code!==Io.MEDIA_ERR_ENCRYPTED&&e.code!==Io.MEDIA_ERR_SRC_NOT_SUPPORTED||nn(this.state)}async onVideoTagError(){const e=g(this.video);if(this.shouldSkipVideoTagError(e))return;this.video.poster=$s.a,this.checkPlaylistHTTPStatus();const t=!this.recoverHelper.allowed||!this.isRecoverablePlaylistHTTPStatus,n=new Oc({code:Io[e.code],details:e,isFatal:t});if(!t)return this.props.onError(n),void this.recoverHelper.planTask(()=>this.recoverStream(),{delay:500,reason:"VideoTagError ["+e.code+"]["+e.message+"]"});const r=await this.checkPlaylistHTTPStatusPromise;r&&r.isFatalError()?this.props.onError(r.toPlayerError()):this.props.onError(n)}onTick(e){super.onTick(e),this.isDvrEnabled()&&(this.updateSkinDvrParameters(e),this.checkPositionAndReturnToLive())}async attachEncoder(){await super.attachEncoder();const e=e=>(this.props.onError(e),Promise.reject(Object(kE.a)(e.code,this.state.ad.adblockDetected)));if(!("mp4"===Object(Do.c)(Object(Do.d)(this.getStreamUrl().toLowerCase())))&&!Ov.a.canPlayHlsOnNative())return e(new Oc({code:Rc.a.NATIVE_HLS_NOT_SUPPORTED_ERROR}));const{video:t}=this;this.subscribeContentImpression();try{await this.initDrm(this.props.stream.drmConfig)}catch(t){return e(t)}this.applyStartPositionEventually(),this.initVideoTypeQualifier(),this.logLoadToRum(),A(t,()=>t.src=this.getStreamUrl())}getStreamUrl(){const e=this.getStartPosition();return ga(super.getStreamUrl(),e)}onOnline(){}onOffline(){}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.duration>0}getStartPosition(){const{videoTime:e,utc:t}=this.state.controller.startPosition;if(!Object(rs.a)(e)&&!Object(rs.a)(t))return;const n=this.getUtcStartTime();return n>0&&Object(rs.a)(t)&&t>0?t-n:Object(rs.a)(e)?e:void 0}checkPlaylistHTTPStatus(){this.checkPlaylistHTTPStatusPromise||(this.checkPlaylistHTTPStatusPromise=this.loadPlaylistInfo().then(Og.fromXHR).then(e=>(this.isRecoverablePlaylistHTTPStatus=!e.isFatalError(),e)).catch(()=>{}))}initTextTracks(){let e=!1,t=!1;const{textTracks:n}=this.video;if(!n)return;const r=Object(ts.a)(()=>{this.castTextTracksModeOnInit(),this.addEventListener(n,"change",this.notifyTextTracksChanged),this.notifyTextTracksChanged()}),i=()=>{e&&t&&r()};this.onDestroy.addOne(this.onCanPlay.addOne(()=>{e=!0,i()})),this.addEventListener(n,"addtrack",function(e,t,n,r){function i(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!==typeof n&&(r=n,n=!1);let a=null;const o=function(){const o=arguments;r=r||this,n&&null===a&&e.apply(r,o),i(),a=window.setTimeout((function(){n||e.apply(r,o),a=null}),t)};return o.cancel=i,o}(()=>{t=!0,i()},0))}setFirstAudioTrack(){this.restoreUserAudioTrack();const e=Aa(this.video);e&&this.audioTrackValueSignal.dispatch(e.value)}loadPlaylistInfo(){return ne({method:"HEAD",url:this.getStreamUrl(),timeout:Rg,checkStatus:()=>!0})}subscribeCueChange(){const{textTracks:e}=this.video;if(!e||"function"!==typeof e.addEventListener)return;const t=e=>{const t=e.track;t&&"metadata"===t.kind&&(t.mode="hidden",this.addEventListener(t,"cuechange",e=>{const{activeCues:t}=e.target,{length:n}=t;if(!n)return;const r=t[n-1];if(!r)return;const{value:i,startTime:a,endTime:o}=r;if(!i)return;const s="number"===typeof o&&isFinite(o)?Object(xs.d)(o,a):wE.a,c=Object(qo.a)(t).map(e=>{if(e&&e.value){const{data:t}=e.value;if("string"===typeof t)return t}return""});this.props.onMetadata.dispatch({fragmentMetadataArray:c,fragmentStart:a,fragmentDuration:s,src:this.video.src})}))};e.addEventListener("addtrack",t),this.onDestroy.add(()=>e.removeEventListener("addtrack",t))}castTextTracksModeOnInit(){if(this.state.skin.useNativeSubtitles)return;void 0!==ca(this.video.textTracks).find(e=>Boolean(e&&"disabled"===e.mode))||ca(this.video.textTracks).forEach(e=>{e&&(e.mode="showing"===e.mode?this.getVisibleTextTrackMode():this.getHiddenTextTrackMode())})}subscribeToLogTelemetry(){this.addVideoEventListener("telemetryEvent",e=>{this.props.logEvent({event:e.eventName,params:e.params})})}}class Pg extends _g{constructor(e){super(e),this.props=e,this.engine=ef.MP4;const t=Object(ts.a)(()=>{this.props.onVideoTracksChange.dispatch(function(e){const{videoWidth:t,videoHeight:n}=e;var r;return[{name:(r=Object(xs.i)(n),r?r+"p":""),value:"0",bitrate:xf,width:t,height:n}]}(e.video))});this.onDestroy.addOne(this.onCanPlay.addOne(t))}async attachEncoder(){await super.attachEncoder(),Ic.a.log("mp4 native mode")}applyStartPositionEventually(){const e=this.addVideoEventListener("durationchange",()=>{this.canSeek()&&(this.applyStartPosition(),e(),this.onDetach.remove(e))});this.onDetach.addOne(e)}initVideoTypeQualifier(){this.props.onVideoTypeChange.dispatch(Us.a.VOD)}initDrm(){return Promise.resolve()}setVideoTrack(){}}const Cg=Object(xs.j)(5*Math.random()),Ig=e=>!!e.data&&418===e.data[1],wg={error:"",isFatal:!1},kg=e=>{try{return ka(e.data[2])}catch(e){return wg}};let Ng;!function(e){e.EXPIRED_SIGNATURE="EXPIRED_SIGNATURE"}(Ng||(Ng={}));var Dg=n(89);class Lg{static convertToTextTrackCue(e){return shaka&&VTTCue?e.startTime>=e.endTime?null:new VTTCue(e.startTime,e.endTime,e.payload):null}static removeWhere(e,t){const n=e.mode;e.mode="hidden";const r=e.cues||[];for(let n=r.length-1;n>=0;n--){const i=r[n];i&&t(i)&&e.removeCue(i)}e.mode=n}constructor(e,t){this.useNativeSubtitles=t,this.textTrack=void 0,Object(qo.a)(e.textTracks).forEach(e=>{e.mode="disabled","StreamPlayerJs TextTrack"===e.label&&(this.textTrack=e)}),this.textTrack||(this.textTrack=e.addTextTrack("subtitles","StreamPlayerJs TextTrack")),this.textTrack.mode=this.hiddenMode()}remove(e,t){if(!this.textTrack||!shaka)return!1;return Lg.removeWhere(this.textTrack,n=>n.startTime<t&&n.endTime>e),!0}append(e){if(!shaka||!this.isTextVisible()||!this.textTrack)return;const t=[];e.forEach(e=>{const n=Lg.convertToTextTrackCue(e);n&&t.push(n)});t.slice().sort((e,n)=>e.startTime!==n.startTime?e.startTime-n.startTime:e.endTime!==n.endTime?e.endTime-n.startTime:t.indexOf(n)-t.indexOf(e)).forEach(e=>{this.textTrack.addCue(e)})}destroy(){if(this.textTrack){const e=e=>!0;Lg.removeWhere(this.textTrack,e)}return this.textTrack=void 0,Promise.resolve()}isTextVisible(){return!!this.textTrack&&this.textTrack.mode!==this.hiddenMode()}setTextVisibility(e){this.textTrack&&(this.textTrack.mode=e?this.showingMode():this.hiddenMode())}hiddenMode(){return"disabled"}showingMode(){return da(this.useNativeSubtitles())}}let jg=!1;const Mg={version:'Period>SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:version"]',uriTemplate:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:uri"]',tiles:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:tiles"]',spriteDuration:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:duration"]',resolution:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:resolution"]'},Vg={version:Mg.version,uriTemplate:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:uri"]',tiles:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:tiles"]',spriteDuration:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:duration"]',resolution:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:resolution"]'},Fg=Object(xs.j)(8);var Ug=n(239);const xg=Object(xs.h)(3e4);class Hg extends fc.a{constructor(){super(),this.blacklist=[],this.checkLoopTimeoutId=void 0,this.startLoop()}destroy(){this.stopLoop(),super.destroy()}addHostname(e){Ug.a.indexOf(e)>-1||this.blacklist.indexOf(e)>-1||this.blacklist.push(e)}isBlacklisted(e){return this.blacklist.indexOf(e)>-1}async checkBlacklistedHosts(){const e=[];await Promise.all(this.blacklist.map(async t=>{try{await wn(Pn(t)),e.push(t)}catch(e){}})),this.blacklist=this.blacklist.filter(t=>!(e.indexOf(t)>-1))}startLoop(){this.getIsDestroyed()||(this.checkLoopTimeoutId=window.setTimeout(async()=>{this.stopLoop(),await this.checkBlacklistedHosts(),this.startLoop()},xg))}stopLoop(){clearTimeout(this.checkLoopTimeoutId)}}const Bg=e=>void 0!==e.width&&void 0!==e.height,Kg=(e,t,n)=>{const r=e.filter(Bg);return r.sort((e,t)=>e.width>t.width&&e.height>t.height?-1:1).find(e=>{let{width:r,height:i}=e;return r<=t&&i<=n})||r[r.length-1]};class Yg{constructor(e,t){void 0===e&&(e=2),void 0===t&&(t=5),this.fast=void 0,this.slow=void 0,this.bytesSampled=0,this.minTotalBytes=128e3,this.minBytes=16e3,this.fast=new Wg(e),this.slow=new Wg(t)}sample(e,t){if(t<this.minBytes)return;const n=8e3*t/e,r=e/1e3;this.bytesSampled+=t,this.fast.sample(r,n),this.slow.sample(r,n)}getBandwidthEstimate(e){return this.bytesSampled<this.minTotalBytes?e:Object(xs.e)(Math.min(this.fast.getEstimate(),this.slow.getEstimate()))}hasGoodEstimate(){return this.bytesSampled>=this.minTotalBytes}}class Wg{constructor(e){this.alpha=void 0,this.estimate=0,this.totalWeight=0,this.alpha=Math.exp(Math.log(.5)/e)}sample(e,t){const n=Math.pow(this.alpha,e),r=t*(1-n)+n*this.estimate;isNaN(r)||(this.estimate=r,this.totalWeight+=e)}getEstimate(){const e=1-Math.pow(this.alpha,this.totalWeight);return this.estimate/e}}const Gg=ag/wE.a*2*2;class qg{constructor(){this.initSegments=new iE(10),this.segments=new iE(Gg)}set(e,t){const{pathname:n}=Object(Do.g)(e),r={pathname:n,response:t};xa(e)?this.initSegments.push(r):this.segments.push(r)}get(e){const{pathname:t}=Object(Do.g)(e),n=xa(e)?Ua(this.initSegments,t):Ua(this.segments,t);return void 0===n?void 0:n.response}clear(){this.initSegments.clear(),this.segments.clear()}hasCachedData(){return this.initSegments.getAll().length>0||this.segments.getAll().length>0}}class Xg{constructor(){this.segmentCache=new qg,this.useLastLoadedManifest=!0,this.lastLoadedManifest=void 0,this.shaka=void 0,this.strmSession=void 0,this.serverTimestamp=void 0,this.getElapsedTimeFromServerDate=()=>0}setup(e,t){if(void 0!==this.shaka)return;this.shaka=e;const n=this.customNetPluginFactory(e,t);e.net.NetworkingEngine.registerScheme("http",n),e.net.NetworkingEngine.registerScheme("https",n)}useCachedManifest(){this.useLastLoadedManifest=!0}destroy(){this.segmentCache.clear(),void 0!==this.shaka&&(this.shaka.net.NetworkingEngine.unregisterScheme("http"),this.shaka.net.NetworkingEngine.unregisterScheme("https"),this.shaka=void 0)}hasCachedSegments(){return this.segmentCache.hasCachedData()}hasCachedData(){return this.useLastLoadedManifest&&void 0!==this.lastLoadedManifest||this.hasCachedSegments()}getServerTime(){if(void 0!==this.serverTimestamp)return this.serverTimestamp+this.getElapsedTimeFromServerDate()}cacheResponse(e,t,n,r){switch(n){case e.net.NetworkingEngine.RequestType.MANIFEST:this.lastLoadedManifest=r,this.useLastLoadedManifest=!1;break;case e.net.NetworkingEngine.RequestType.SEGMENT:this.segmentCache.set(t,r)}}getCachedResponse(e,t,n){switch(n){case e.net.NetworkingEngine.RequestType.MANIFEST:const{useLastLoadedManifest:n,lastLoadedManifest:r}=this;return n&&void 0!==r?(this.useLastLoadedManifest=!1,r):void 0;case e.net.NetworkingEngine.RequestType.SEGMENT:const i=this.segmentCache.get(t);return void 0===i?void 0:i;default:return}}customNetPluginFactory(e,t){return(n,r,i,a)=>{const o=this.getCachedResponse(e,n,i);if(void 0!==o)return new e.util.AbortableOperation(Promise.resolve(o),Xo.a);const s=i===e.net.NetworkingEngine.RequestType.MANIFEST;s&&void 0!==this.strmSession&&(r.headers["x-strm-session"]=this.strmSession);const c=function(e){return e.net.HttpFetchPlugin.isSupported()?e.net.HttpFetchPlugin:e.net.HttpXHRPlugin}(e)(n,r,i,a);return new e.util.AbortableOperation(c.promise.then(t=>(s&&(this.strmSession=t.headers["x-strm-session"]),this.parseDateHeader(t),this.cacheResponse(e,n,i,t),t)).catch(n=>{throw n&&n.code!==e.util.Error.Code.OPERATION_ABORTED&&t(i,n),n}),()=>c.abort())}}parseDateHeader(e){let{headers:t,timeMs:n=0}=e;if(void 0!==this.serverTimestamp)return;if(void 0===t.date||null===t.date)return;const r=new Date(t.date).getTime();Object(rs.a)(r)&&(this.serverTimestamp=r+n,this.getElapsedTimeFromServerDate=Object(as.a)())}}const zg=e=>e.active;var Qg=n(208);const Jg=Object(xs.h)(1e3),Zg={timeout:5e3,maxAttempts:10,baseDelay:100,backoffFactor:2,fuzzFactor:.5},$g=$a({},Zg,{timeout:1e4,maxAttempts:3}),em=Object(xs.j)(.001);class tm extends Tg{constructor(e){var t;super(e),t=this,this.engine=ef.MPD,this.shakaPlayer=void 0,this.preloadShakaPlayer=void 0,this.chunkHostnameBlacklist=new Hg,this.shakaConfigAutoUpdateInterval=void 0,this.manifestXML=void 0,this.initMpdEncoderPromise=void 0,this.detachMpdEncoderCalled=!1,this.useNativeSubtitles=!1,this.networkingEngine=new Xg,this.lastVariantBandwidthBeforeDetach=void 0,this.tryToInjectWidevineCert=Object(ts.a)(async()=>{const{drmConfig:e={}}=this.props.stream;if(Oo)return;if(!e)return;const t=e.advanced;if(t&&t["com.widevine.alpha"])try{const{serverCertificateUrl:e}=t["com.widevine.alpha"];if(!e)return;const{response:n}=await ne({method:"get",responseType:"arraybuffer",url:e,withCredentials:this.withCredentials});t["com.widevine.alpha"].serverCertificate=new Uint8Array(n)}catch(e){const t=new Oc(e,{isFatal:!1,code:Rc.a.MPD_WIDEVINE_CERT_LOAD_ERROR});this.props.onError(t)}}),this.shakaHTTPRequestFilter=(e,t)=>Object(cs.a)(()=>this.shakaHTTPRequestFilterInternal(e,t),this.onShakaFilterError),this.shakaHTTPRequestFilterInternal=(e,t)=>{if("undefined"!==typeof shaka)switch(t.allowCrossSiteCredentials=this.withCredentials,e){case shaka.net.NetworkingEngine.RequestType.MANIFEST:t.uris=t.uris.map(ni);break;case shaka.net.NetworkingEngine.RequestType.LICENSE:const{stream:e}=this.props,{drmConfig:n}=e;if(!n)return;const{requestParams:r}=n;if(r){const{StringUtils:e,Uint8ArrayUtils:n}=shaka.util,i=$a({rawLicenseRequestBase64:n.toBase64(new Uint8Array(t.body||new ArrayBuffer(0)))},r);t.body=e.toUTF8(JSON.stringify(i)),t.headers=$a({},t.headers,{"Content-Type":"application/json"})}n.headers&&(t.headers=$a({},t.headers,n.headers));break;case shaka.net.NetworkingEngine.RequestType.SEGMENT:const i=t.uris.filter(e=>{const{hostname:t}=Object(Do.g)(e);return!this.chunkHostnameBlacklist.isBlacklisted(t)});if(0===i.length)break;t.uris=i.map(ni)}},this.shakaPreviewsHTTPResponseFilter=(e,t)=>Object(cs.a)(()=>this.shakaPreviewsHTTPResponseFilterInternal(e,t),this.onShakaFilterError),this.shakaPreviewsHTTPResponseFilterInternal=(e,t)=>{if("undefined"===typeof shaka)return;if(e!==shaka.net.NetworkingEngine.RequestType.MANIFEST)return;if(!t.data)return;const n=function(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(e){return null}}(La(new Uint8Array(t.data)));if(!n)return;this.manifestXML&&this.checkRepresentationChange(this.manifestXML,n),this.manifestXML=n,this.videoTrackLabels=function(e){const t=new Map,n=e.querySelectorAll('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:labels:quality"]');return Object(qo.a)(n).forEach(e=>{const n=e.getAttribute("value");if(!n)return;n.split(",").filter(Boolean).forEach(e=>{const[n,r]=e.split(":");void 0!==Yi(n)&&r&&t.set(n,r)})}),t}(n),this.deepHDTracks=function(e){const t=Object(qo.a)(e.querySelectorAll('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:labels:deephd"]')),n=new Set;return t.forEach(e=>{const t=e.getAttribute("value");t&&t.split(",").filter(e=>void 0!==Yi(e)).forEach(e=>n.add(e))}),n}(n);const r=ja(n,xE.LOWRES),i=ja(n,xE.HIGHRES),a={version:function(e){const t=e.querySelector('AdaptationSet[mimeType="image/jpeg"] SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:version"]');return t?parseFloat(t.getAttribute("value")||""):0}(n),lowRes:r,highRes:i};a.highRes&&this.playerStore.dispatch(ul(a))},this.onShakaAdaptationEvent=()=>{this.actualizeAvailableVariantTracks(),this.actualizeActiveVariantTrack()},this.onShakaEmsgEvent=e=>{if(Ic.a.log("-> Shaka EmsgEvent",e),!Object(Lo.a)(e)||!Object(Lo.a)(e.detail)||!Object(Lo.a)(e.detail.messageData))return;const{startTime:n,messageData:r}=e.detail;PE.a.parse(r).then((function(e){let{writer:r}=void 0===e?{}:e;r&&t.props.onMetadata.dispatch({fragmentMetadataArray:[r],fragmentStart:n,fragmentDuration:Ga(t.shakaPlayer,n),src:t.getStreamUrl()})}))},this.reportLargeGap=e=>{Ic.a.log("-> Shaka LargeGapEvent",e),this.props.logEvent({event:"MpdLargeGap",params:{currentTime:e.currentTime,gapSize:e.gapSize}})},this.actualizeTracks=()=>{Wa(this.shakaPlayer)&&(this.actualizeAvailableTracks(),this.actualizeActiveTracks())},this.onShakaErrorEvent=e=>{if(!shaka||!e)return;const{detail:t}=e;this.onShakaError(t);const n=Da(shaka,t);n&&n.isFatal&&this.shakaPlayer&&this.shakaPlayer.destroy()},this.onShakaError=e=>{if(!shaka)return;Ic.a.error("-> onShakaError",e);const t=function(e,t,n){let{code:r}=t;return r===e.util.Error.Code.VIDEO_ERROR&&n.controller.watchedTime>0}(shaka,e,this.state)&&this.recoverHelper.allowed;t&&(e.severity=shaka.util.Error.Severity.RECOVERABLE);const n=Da(shaka,e);n&&(t&&this.recoverHelper.planTask(()=>this.recoverStream(),{delay:0,reason:n.code}),this.checkDeadChunkServer(e),this.props.onError(n))},this.onShakaFilterError=e=>{if(shaka){if(Ic.a.error("-> onShakaFilterError",e),t=e,Object(Lo.a)(t)&&Object(rs.a)(t.severity)&&Object(rs.a)(t.category)&&Object(rs.a)(t.code)&&Object(Dg.a)(t.data))return this.onShakaError(e);var t;this.props.onError(new Oc({code:Rc.a.SHAKA_FILTER_ERROR,message:e.message,isFatal:!1,stack:e.stack}))}},this.onShakaNetworkError=(e,t)=>{if("undefined"===typeof shaka||void 0===this.shakaPlayer)return;if(e===shaka.net.NetworkingEngine.RequestType.LICENSE&&Ig(t)){if(kg(t).isFatal||t.severity===shaka.util.Error.Severity.CRITICAL)return void(t.severity=shaka.util.Error.Severity.CRITICAL)}const n=Ca(shaka,t);451===n||NE.includes(n)?t.severity=shaka.util.Error.Severity.CRITICAL:this.onShakaError(t)},this.parseTextTrack=e=>{let{label:t,language:n,originalTextId:r}=e;const i=Ha(this.manifestXML,r)||n;return{name:t||i||r,value:r,lang:i}},this.parseAudioTrack=e=>{let{label:t,language:n,originalId:r,bandwidth:i}=e;const a=Ha(this.manifestXML,r)||n;return{name:t||a||r,value:r,lang:a,bitrate:Object(xs.f)(i?i/1e3:xf)}},this.setStartPosition=()=>{if(!this.video)return;const e=this.calcStartPosition();Object(rs.a)(e)&&(this.canSeek()?fa(this.video,Object(xs.j)(d(e,this.getUtcStartTime(),this.getDuration()))):this.onDetach.add(this.addVideoEventListener("loadeddata",()=>this.setStartPosition(),{once:!0})))},function(e){try{if(!navigator.requestMediaKeySystemAccess)return;const t=Object(Qg.a)(e);if(t===window)return;if(!t.navigator.requestMediaKeySystemAccess)return;navigator.requestMediaKeySystemAccess=function(){return t.navigator.requestMediaKeySystemAccess(...arguments)}}catch(e){}}(this.video),Object($l.e)(),this.onDestroy.addOne(()=>this.chunkHostnameBlacklist.destroy()),this.onDestroy.addOne(()=>this.stopShakaConfigAutoUpdate()),this.onDestroy.addOne(()=>this.networkingEngine.destroy()),this.onDestroy.addOne(()=>this.cancelPreloadSource()),this.video.classList.add(dg.a.video_hiddenSubtitlesBtn),this.playerStore.dispatch(Fd(!0)),function(){if(!jg&&(jg=!0,window.MediaKeySession)){const{prototype:e}=window.MediaKeySession,{close:t}=e;e.close=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Promise.race([t.call(this,n),os(200).promise])}}}(),this.onDestroy.addOne(this.textTrackValueSignal.add(e=>{Wa(this.shakaPlayer)&&this.shakaPlayer.setTextTrackVisibility(Boolean(e))})),this.useNativeSubtitles=this.state.skin.useNativeSubtitles}getMaxCapAllowedVideoTrack(){const{maxHeight:e=1/0,maxWidth:t=1/0}=this.getAbrRestrictions(),{videoTracks:n}=this.state.controller;return Kg(n,Object(xs.i)(t),Object(xs.i)(e))}getFragmentsData(){const{start:e=Object(xs.j)(0),end:t=Object(xs.j)(0)}=void 0===this.shakaPlayer?{}:this.shakaPlayer.seekRange();return{totalDuration:Object(xs.d)(t,e),fragmentDuration:Ga(this.shakaPlayer),startTime:e}}onOnline(){}onOffline(){}getUtcStartTime(){const e=Qa(this.shakaPlayer);return void 0===e?super.getUtcStartTime():e}getUtcPosition(){const e=Ja(this.shakaPlayer);return void 0===e?super.getUtcPosition():e}setVideoTrack(e){let{value:t}=e;if(void 0===this.shakaPlayer)return;if("auto"===t)return void this.setAbrEnabled(!0);const n=Ka(this.shakaPlayer);if(void 0===n)return;this.setAbrEnabled(!1);const r=this.shakaPlayer.getVariantTracks().find(e=>{const r=e.originalVideoId===t,i=e.originalAudioId===n.originalAudioId;return r&&i});this.setVariantTrack(r)}setAudioTrack(e){let{lang:t,value:n}=e;if(void 0===this.shakaPlayer)return;const r=Ka(this.shakaPlayer);if(void 0===r)return;const i=this.shakaPlayer.getVariantTracks().find(e=>{const t=e.originalAudioId===n,i=e.originalVideoId===r.originalVideoId;return t&&i});if(!r||!i)return void this.shakaPlayer.selectAudioLanguage(t);const{height:a,videoBandwidth:o}=r,{language:s}=i;this.setVariantTrack(this.shakaPlayer.getVariantTracks().find(e=>e.height===a&&e.videoBandwidth===o&&e.language===s))}setTextTrack(e){let{value:t}=e;if(!this.shakaPlayer)return;const n=this.shakaPlayer.getTextTracks().find(e=>{let{originalTextId:n}=e;return n===t});n&&(this.shakaPlayer.selectTextTrack(n),this.textTrackValueSignal.dispatch(t))}disableTextTrack(){this.shakaPlayer&&this.textTrackValueSignal.dispatch(void 0)}toggleNativeSubtitles(e){super.toggleNativeSubtitles(e),this.useNativeSubtitles=e}onVideoTagError(e){Ic.a.log("-> onVideoTagError",e)}getDuration(){return Wa(this.shakaPlayer)?this.shakaPlayer.seekRange().end:Object(xs.j)(NaN)}async preloadSource(){this.tryToInjectWidevineCert(),await Object($l.e)();if(this.detachMpdEncoderCalled||void 0!==this.preloadShakaPlayer||void 0!==this.initMpdEncoderPromise||void 0!==this.shakaPlayer||!shaka.Player.isBrowserSupported()||this.networkingEngine.hasCachedData())return;this.networkingEngine.setup(shaka,this.onShakaNetworkError);const e=document.createElement("video"),t=this.preloadShakaPlayer=new shaka.Player(e);const n=t.getNetworkingEngine();n.registerRequestFilter(this.shakaHTTPRequestFilter),n.registerRequestFilter(e=>{if(e===shaka.net.NetworkingEngine.RequestType.LICENSE)return new Promise((e,n)=>{t.addEventListener("unloading",n)})});const r=this.getInitialShakaConfig();r.streaming.bufferingGoal=og,r.abr.enabled=!1,this.configureShaka(t,r),t.addEventListener("manifestparsed",()=>{this.onManifestParsed(t)}),Object(ns.a)(this.loadShakaSource(t))}getSeekableRange(){const{start:e,end:t}=Wa(this.shakaPlayer)?this.shakaPlayer.seekRange():{start:Object(xs.j)(0),end:Object(xs.j)(0)};return{start:e,end:Object(xs.j)(Math.min(t,Object(xs.d)(this.getDuration(),em)||0))}}canSeek(){return void 0!==this.shakaPlayer&&super.canSeek()}onTick(e){const t=za(this.shakaPlayer);this.onVideoTypeChange.dispatch(t),super.onTick(e);const{shakaPlayer:n}=this;if(void 0===n)return;this.setShakaAvailabilityWindowOverride(n);const r=Qa(this.shakaPlayer),i=void 0===r?void 0:Object(xs.c)(r,1e3);this.props.onProgramDateTimeChange.dispatch(i);const a=t===Us.a.VOD;this.setNativeTimeControlVisibility(a),this.setNativeTimelineControlVisibility(a)}getStreamUrl(){return Object(Do.b)(super.getStreamUrl(),{preview:"1",audio_mbr:"1"},{saveOriginalPath:!0})}getMaxBufferLength(){const e=za(this.shakaPlayer);return(e===Us.a.LIVE||e===Us.a.EVENT)&&!this.shouldUseLowBuffer()?this.props.liveOffset:super.getMaxBufferLength()}async detachEncoder(){this.detachMpdEncoderCalled=!0;const e=Ka(this.shakaPlayer);e&&(this.lastVariantBandwidthBeforeDetach=Object(xs.e)(e.bandwidth)),await super.detachEncoder(),this.manifestXML=void 0,this.networkingEngine.useCachedManifest();const{video:t,shakaPlayer:n}=this;t.classList.remove(dg.a.video_hiddenSubtitlesBtn),this.stopShakaConfigAutoUpdate(),void 0!==n&&await this.preventPauseAsync(t,()=>(this.shakaPlayer=void 0,n.destroy())),Object(Ss.a)(window.VTTCue)||delete window.VTTCue}async attachEncoder(){this.detachMpdEncoderCalled=!1,await super.attachEncoder(),this.initMpdEncoderPromise=this.initMpdEncoder(),await this.initMpdEncoderPromise,this.initMpdEncoderPromise=void 0}getBandwidthEstimate(){const e=this.preloadShakaPlayer||this.shakaPlayer;if(!e)return super.getBandwidthEstimate();const{estimatedBandwidth:t}=e.getStats();return t||super.getBandwidthEstimate()}getLiveLatency(){const{state:e}=this;if(!oa(e)||Rr(e))return;if(this.video.playbackRate<Qp.a)return;const{controller:{playingState:t,currentTime:n,duration:r}}=e;if(!(t===Fs.a.PLAY||t===Fs.a.BUFFERING))return;if(0===n||!r)return;const i=this.getUtcPosition(),a=this.networkingEngine.getServerTime();return i>0&&void 0!==a?Object(xs.j)(Math.max(a/1e3-i,0)):void 0}getRemainingBufferedTime(){if(!Wa(this.shakaPlayer))return super.getRemainingBufferedTime();const{currentTime:e}=this.state.controller,{audio:t,video:n,total:r}=this.shakaPlayer.getBufferedInfo();return{total:Nn(r,e)||Object(xs.j)(0),video:Nn(n,e)||Object(xs.j)(0),audio:Nn(t,e)||Object(xs.j)(0)}}getUtcEndTime(){if(za(this.shakaPlayer)===Us.a.LIVE)return this.getSeekableRange().end;const e=this.getUtcStartTime();return e?Object(xs.a)(e,this.getDuration()):Object(xs.j)(0)}async initMpdEncoder(){this.tryToInjectWidevineCert(),Object(Kf.e)("drm",qa(this.props.stream.drmConfig));try{await Object($l.e)(),this.networkingEngine.setup(shaka,this.onShakaNetworkError)}catch(e){const t=new Oc(e,{code:Rc.a.MPD_SHAKA_INIT_ERROR});throw this.props.onError(t),t}if(this.detachMpdEncoderCalled)return;if(!shaka.Player.isBrowserSupported()){const e=new Oc({code:Rc.a.MPD_NOT_SUPPORTED_ERROR});throw this.props.onError(e),e}const e=A(this.video,()=>new shaka.Player(this.video));this.shakaPlayer=e,this.subscribeContentImpression(),this.attachShakaEventListeners();const t=e.getNetworkingEngine();t.registerRequestFilter(this.shakaHTTPRequestFilter),t.registerResponseFilter(this.shakaPreviewsHTTPResponseFilter);const n=this.getInitialShakaConfig(),{video:r,props:i}=this,a=()=>this.useNativeSubtitles;n.textDisplayFactory=function(){return new Lg(r,a)};const o=this;n.abrFactory=function(){function e(e){let t=[...c];return e&&(t=t.filter(t=>{const{maxWidth:n=1/0,maxHeight:r=1/0,minBandwidth:i=0,maxBandwidth:a=1/0}=e,o=t.video;if(o&&o.width&&o.height){if(o.width>n)return!1;if(o.height>r)return!1}return!(t.bandwidth<i||t.bandwidth>a)})),t.sort((e,t)=>e.bandwidth-t.bandwidth)}const t=new Yg;let n,r,a=Xo.a,s=!1,c=[],d=!1;const{bandwidthEstimateOffset:l=Object(xs.e)(0)}=i,u=()=>Object(xs.a)(t.getBandwidthEstimate(r.defaultBandwidthEstimate),l),h=()=>{let t=e(o.getAbrRestrictions());const r=u();c.length&&!t.length&&(t=e(),t=[t[0]]);let i=t[0]||null;if(t.length<=1)return i;for(let e=0;e<t.length;++e){const n=t[e],a=t[e+1]||{bandwidth:1/0},o=n.bandwidth/.95,s=a.bandwidth/.85;r>=o&&r<=s&&(i=n)}return n=Object(xs.h)(Date.now()),i},p=()=>{if(d){if(void 0!==n){if(Date.now()-n<1e3*Fg)return}}else{if(!t.hasGoodEstimate())return;d=!0}const e=h();a(e)};return{stop:()=>{a=Xo.a,s=!1,c=[],n=void 0},init:e=>a=e,enable:()=>s=!0,disable:()=>s=!1,setVariants:e=>c=e,getBandwidthEstimate:u,chooseVariant:h,segmentDownloaded:(e,r)=>{t.sample(e,r),void 0!==n&&s&&p()},configure:e=>r=e}},this.configureShaka(e,n),void 0!==this.preloadShakaPlayer&&this.networkingEngine.useCachedManifest(),this.logLoadToRum();try{if(await this.preventPauseAsync(this.video,()=>this.loadShakaSource(e)),this.cancelPreloadSource(),this.detachMpdEncoderCalled)return;this.initShakaConfigAutoUpdate(),this.lastVariantBandwidthBeforeDetach=void 0}catch(e){this.onShakaError(e)}}loadShakaSource(e){const t=this.calcStartPosition();return e.load(this.getStreamUrl(),Object(rs.a)(t)?t:void 0).then(Object(rs.a)(t)?Xo.a:this.setStartPosition)}getInitialShakaConfig(){const{stream:e}=this.props,t=this.getBandwidthEstimate();return{abr:$a({enabled:this.state.controller.isAbrEnabled},t?{defaultBandwidthEstimate:t}:{}),drm:$a({retryParameters:$g},e.drmConfig),manifest:{availabilityWindowOverride:1/0,retryParameters:$a({},Zg,{timeout:this.getNetParams().manifestTimeout,maxAttempts:5}),dash:{ignoreMinBufferTime:!0}},streaming:{bufferingGoal:this.getMaxBufferLength(),jumpLargeGaps:!0,retryParameters:$a({},Zg,{timeout:this.getNetParams().chunkTimeout})}}}attachShakaEventListeners(){const{shakaPlayer:e,video:t}=this;void 0!==e&&(e.addEventListener("buffering",e=>{let{buffering:n}=e;const r=pa(t,n);this.onPlayingStateChangeInternal.dispatch(r)}),e.addEventListener("error",this.onShakaErrorEvent),e.addEventListener("adaptation",this.onShakaAdaptationEvent),e.addEventListener("trackschanged",this.actualizeTracks),e.addEventListener("emsg",this.onShakaEmsgEvent),e.addEventListener("largegap",this.reportLargeGap),e.addEventListener("manifestparsed",()=>{this.onManifestParsed(e),this.updateShakaConfig()}),e.addEventListener("trackschanged",Object(ts.a)(this.restoreUserTracks)))}onManifestParsed(e){this.setShakaAvailabilityWindowOverride(e),this.setPresentationTimelineDelay(e)}setPresentationTimelineDelay(e){const t=e.getManifest();t&&t.presentationTimeline.setDelay(this.props.liveOffset+Cg)}setShakaAvailabilityWindowOverride(e){const t=za(e);if(void 0===t)return;const n=t===Us.a.EVENT?1/0:NaN,{manifest:{availabilityWindowOverride:r}}=e.getConfiguration();n===r||isNaN(n)&&isNaN(r)||this.configureShaka(e,{manifest:{availabilityWindowOverride:n}})}setVariantTrack(e){void 0!==this.shakaPlayer&&void 0!==e&&(this.shakaPlayer.selectVariantTrack(e,!0),this.actualizeTracks())}setAbrEnabled(e){void 0!==this.shakaPlayer&&(this.configureShaka(this.shakaPlayer,{abr:{enabled:e}}),this.updateShakaConfig())}actualizeActiveTracks(){this.actualizeActiveVariantTrack(),this.actualizeActiveTextTrack()}actualizeActiveVariantTrack(){const e=Ka(this.shakaPlayer);if(void 0===e)return;const{originalAudioId:t,originalVideoId:n}=e;this.videoTrackValueSignal.dispatch(n),this.audioTrackValueSignal.dispatch(t)}actualizeActiveTextTrack(){if(void 0===this.shakaPlayer)return;const{controller:{textTrackEnabled:e}}=this.state,t=this.getCurrentInternalTextTrack();this.textTrackValueSignal.dispatch(void 0!==t&&e?this.parseTextTrack(t).value:void 0)}actualizeAvailableTracks(){this.actualizeAvailableTextTracks(),this.actualizeAvailableVariantTracks()}actualizeAvailableTextTracks(){const e=this.getAvailableTextTracks();this.video.classList.toggle(dg.a.video_hiddenSubtitlesBtn,0===e.length),this.props.onTextTracksChange.dispatch(e)}getAvailableTextTracks(){return this.shakaPlayer?this.shakaPlayer.getTextTracks().map(this.parseTextTrack):[]}actualizeAvailableVariantTracks(){const e=Ka(this.shakaPlayer);if(!e)return;const t=Ba(this.shakaPlayer);if(!t)return;const n=t.variants;if(!Array.isArray(n))return;const r={},i={};n.forEach(t=>{const n=t.video,a=t.audio;if(!a||a.originalId===e.originalAudioId){const t=((e,t,n)=>{const{bandwidth:r,width:i,height:a,originalId:o}=e;return{name:Za(e,n),value:o,width:i,height:a,deepHD:Ma(e,t),bitrate:r?Object(xs.b)(Object(xs.e)(r),1e3):xf}})(n,this.deepHDTracks,this.videoTrackLabels),{name:i=String(t.height)||""}=t;(void 0===r[i]||t.value===e.originalVideoId||r[i].value!==e.originalAudioId&&r[i].bitrate<t.bitrate)&&(r[i]=t)}if(a&&n.originalId===e.originalVideoId){const t=this.parseAudioTrack(a),{name:n}=t;(void 0===i[n]||t.value===e.originalAudioId||i[n].value!==e.originalAudioId&&i[n].bitrate<t.bitrate)&&(i[n]=t)}}),this.props.onVideoTracksChange.dispatch(Br(r)),this.props.onAudioTracksChange.dispatch(Br(i))}getCurrentInternalTextTrack(){return void 0===this.shakaPlayer?void 0:this.shakaPlayer.getTextTracks().find(zg)}checkDeadChunkServer(e){if(!shaka)return;if(!Object(Rp.a)(this.getStreamUrl()))return;if(this.state.controller.videoType!==Us.a.VOD)return;const{code:t,data:n}=e;if(!(t===shaka.util.Error.Code.BAD_HTTP_STATUS||t===shaka.util.Error.Code.HTTP_ERROR||t===shaka.util.Error.Code.TIMEOUT))return;const[r]=n,i=n[n.length-1];if("string"===typeof r&&i===shaka.net.NetworkingEngine.RequestType.SEGMENT){const{hostname:e}=Object(Do.g)(r);this.chunkHostnameBlacklist.addHostname(e)}}initShakaConfigAutoUpdate(){this.stopShakaConfigAutoUpdate(),this.shakaConfigAutoUpdateInterval=window.setInterval(()=>{this.updateShakaConfig()},Jg)}updateShakaConfig(){const{shakaPlayer:e}=this;if(void 0!==e)try{const t=this.getMaxBufferLength();if(e.getConfiguration().streaming.bufferingGoal===t)return;this.configureShaka(e,{streaming:{bufferingGoal:t}})}catch(e){}}stopShakaConfigAutoUpdate(){clearInterval(this.shakaConfigAutoUpdateInterval)}getAbrRestrictions(){if(!this.state.controller.isAbrEnabled)return{maxWidth:Object(xs.i)(1/0),maxHeight:Object(xs.i)(1/0)};const{width:e,height:t}=this.getCapSizes(),n=function(e){if(void 0===e)return;const t=e.querySelector('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:capping:maxheight"]');if(!t)return;const n=Object(xs.i)(parseInt(t.getAttribute("value")||"",10));return n>0?{maxHeight:n}:void 0}(this.manifestXML),r=Object(xs.i)(Math.min(...[n&&n.maxHeight,t].filter(rs.a)));let i=Object(xs.e)(0),a=Object(xs.e)(1/0);const o=Ka(this.preloadShakaPlayer),s=o&&Object(xs.e)(o.bandwidth)||this.lastVariantBandwidthBeforeDetach||void 0;return this.networkingEngine.hasCachedSegments()&&void 0!==s&&(i=a=s),{maxWidth:e,maxHeight:r,minBandwidth:i,maxBandwidth:a}}getPreloadedOrStartPosition(){const{preloadShakaPlayer:e}=this,{startPosition:t}=this.state.controller;if(!Wa(e))return t;const n=e.getBufferedInfo();if(0===n.audio.length&&0===n.video.length)return t;const r=e.getMediaElement();return{utc:Ja(e)||t.utc||void 0,videoTime:r&&Object(xs.j)(r.currentTime)||t.videoTime||void 0}}calcStartPosition(){const{utc:e,videoTime:t}=this.getPreloadedOrStartPosition(),n=Qa(this.shakaPlayer);return Object(rs.a)(e)&&void 0!==n?Math.max(e-n,0):t}configureShaka(e,t){try{e.configure(t)}catch(e){this.props.onError(new Oc(e,{isFatal:!1,code:Rc.a.SHAKA_CONFIGURE_ERROR}))}}checkRepresentationChange(e,t){(function(e,t){const n=Fa(e),r=Fa(t);return Bs()(n,r)})(e,t)||(this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.RepresentationsChange,void 0))),this.props.logEvent({event:_c.a.RepresentationsChange,params:{}}),this.recoverStream())}cancelPreloadSource(){const{preloadShakaPlayer:e}=this;void 0!==e&&(e.destroy(),this.preloadShakaPlayer=void 0)}}class nm extends fc.a{constructor(e,t,n,r){var i;super(),i=this,this.drmConfig=t,this.errorCallback=n,this.withCredentials=r,this.certificate=void 0,this.video=void 0,this.keySessions={},this.onNeedKey=async function(e){let{initData:t}=void 0===e?{}:e;const{certificate:n,video:r}=i;if(!t||void 0===n||i.isDestroyed)return;const a=i.extractContentId(t);if(await i.waitForStalledEvent(),i.keySessions[a])return;r.webkitKeys||"function"!==typeof WebKitMediaKeys||r.webkitSetMediaKeys(new WebKitMediaKeys("com.apple.fps.1_0")),r.webkitKeys||i.onError(new Oc({code:Rc.a.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR}));const o=i.video.webkitKeys.createSession("video/mp4",i.getWebKitMediaKeySessionInitData(t,a));o||i.onError(new Oc({code:Rc.a.FAIRPLAY_CREATE_KEY_SESSION_ERROR})),i.keySessions[a]=o,i.addDestroyHandler(()=>o.close());i.addDestroyHandler(Object(Ko.a)(o,"webkitkeymessage",e=>{let{message:t}=e;if(i.isDestroyed)return;const n=t||new ArrayBuffer(0),r=eo({"Content-Type":"application/json"},i.drmConfig.headers);ne({responseType:"json",method:"POST",url:i.drmConfig.advanced["com.apple.fps.1_0"].processSPCPath,data:JSON.stringify(eo({assetId:a,spc:btoa(to(new Uint8Array(n)))},i.drmConfig.requestParams)),headers:r,retries:3,timeout:1e4,onRetry:i.onRequestRetry(e=>{i.onError(new Oc({isFatal:!1,code:Rc.a.FAIRPLAY_SPC_LOAD_ERROR,details:e}))}),withCredentials:i.withCredentials}).then(e=>{let{response:{ckc:t}}=e;const n=ro(atob(t));o.update(new Uint8Array(n))}).catch(e=>{i.onError(new Oc({isFatal:!0,code:Rc.a.FAIRPLAY_SPC_LOAD_ERROR,details:e}))})}));i.addDestroyHandler(Object(Ko.a)(o,"webkitkeyerror",e=>{let t;const{error:n}=o;if(n){const{code:e,systemCode:r}=n;t={code:e,systemCode:r}}i.onError(new Oc({code:Rc.a.FAIRPLAY_CREATE_KEY_ERROR,isFatal:!1,details:t}))}))},this.onError=e=>{this.errorCallback.call(this.errorCallback,e),e.isFatal&&this.destroy()},this.onRequestRetry=e=>(t,n)=>{if(418!==n.status)return e(t),!0;const r=ka(n.response);return this.onError(Na(r)),!r.isFatal},this.clearKeySessions=()=>{this.keySessions={}},this.video=e,this.addDestroyHandler(Object(Ko.a)(e,"webkitneedkey",this.onNeedKey)),this.addDestroyHandler(this.clearKeySessions),this.addDestroyHandler(Object(Ko.a)(e,"emptied",this.clearKeySessions))}loadCertificate(){return ne({method:"GET",url:this.drmConfig.servers["com.apple.fps.1_0"],responseType:"arraybuffer",retries:3,timeout:1e4,onRetry:this.onRequestRetry(e=>{this.onError(new Oc({code:Rc.a.FAIRPLAY_CERT_LOAD_ERROR,isFatal:!1,details:e}))}),withCredentials:this.withCredentials}).then(e=>{let{response:t}=e;this.certificate=new Uint8Array(t)}).catch(e=>{this.onError(new Oc({isFatal:!0,code:Rc.a.FAIRPLAY_CERT_LOAD_ERROR,details:e}))})}getWebKitMediaKeySessionInitData(e,t){const{certificate:n=new Uint8Array(0)}=this,r=new Uint16Array(ro(t));let i=0;const a=e.byteLength+4+r.byteLength+4+n.byteLength,o=new ArrayBuffer(a),s=new DataView(o);new Uint8Array(o,i,e.byteLength).set(new Uint8Array(e)),i+=e.byteLength,s.setUint32(i,r.byteLength,!0),i+=4;const c=new Uint16Array(o,i,r.length);c.set(r),i+=c.byteLength,s.setUint32(i,n.byteLength,!0),i+=4;return new Uint8Array(o,i,n.byteLength).set(n),new Uint8Array(o,0,o.byteLength)}extractContentId(e){const t=new Uint8Array(e),n=to(new Uint16Array(t.buffer)),[,r]=n.split("//");return r||(this.onError(new Oc({isFatal:!1,code:Rc.a.FAIRPLAY_INVALID_CONTENT_ID})),"")}waitForStalledEvent(){return new Promise(e=>{this.addDestroyHandler(Object(Ko.a)(this.video,"stalled",()=>e(),{once:!0}))})}}nm.IS_SUPPORTED="undefined"!==typeof WebKitMediaKeys&&Object(Av.a)(WebKitMediaKeys.isTypeSupported)&&WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4");class rm{constructor(e){this.onVideoTypeChange=new ls.a(void 0),this.video=void 0,this.unsubscribers=[],this.isStrmCatchUpStream=!1,this.seekableEndFifo=new iE(2),this.destroy=()=>{Object(es.a)(this.unsubscribers)},this.handleProgressEvent=()=>{if(!this.video||!this.video.seekable.length)return;const e=this.video.seekable,t=Object(xs.j)(e.end(e.length-1)),n=this.seekableEndFifo.getAll();t!==n[n.length-1]&&(this.seekableEndFifo.push(t),this.updateVideoType())},this.updateVideoType=()=>{this.onVideoTypeChange.dispatch(this.getVideoType())},this.isStrmCatchUpStream=function(e){if(!Object(Rp.a)(e))return!1;const t=Object(Do.f)(Object(Do.g)(e).search);return Boolean(t.start)}(e)}setHTMLVideoElement(e){this.destroy(),this.video=e,this.unsubscribers.push(Object(Ko.a)(e,"timeupdate",this.updateVideoType)),this.unsubscribers.push(Object(Ko.a)(e,"durationchange",this.updateVideoType)),this.unsubscribers.push(Object(Ko.a)(e,"progress",this.handleProgressEvent))}getVideoType(){if(!this.video||isFinite(this.video.duration))return Us.a.VOD;if(this.isStrmCatchUpStream)return Us.a.EVENT;const e=this.seekableEndFifo.getAll();if(!this.video.seekable.length||e.length<2)return Us.a.LIVE;const t=this.video.seekable.start(0);return e[1]>e[0]&&t?Us.a.LIVE:Us.a.EVENT}}const im=["loadstart","progress","durationchange","loadedmetadata","loadeddata","canplay","playing"];class am extends _g{constructor(e){super(e),this.props=e,this.engine=ef.NATIVE,this.fairPlayController=void 0,this.recoverIosSleepMode(),this.activateVideoTagIosWorkaround(),s(this.video)&&this.video.loadDrmClient()}getUtcStartTime(){const e=this.video;if(!this.video.src||0===e.readyState||"function"!==typeof e.getStartDate)return super.getUtcPosition();const t=e.getStartDate();if(!t||"function"!==typeof t.getTime)return super.getUtcPosition();const n=Object(xs.h)(t.getTime());return isNaN(n)?super.getUtcPosition():Object(xs.b)(n,1e3)}getUtcPosition(){const e=this.getUtcStartTime();return e>0?Object(xs.a)(e,this.getCurrentTime()):super.getUtcPosition()}async attachEncoder(){await super.attachEncoder(),Ic.a.log("hls native mode")}shouldSkipVideoTagError(e){return super.shouldSkipVideoTagError(e)||Boolean(this.fairPlayController&&this.fairPlayController.isDestroyed)}getStartPosition(){const{videoTime:e,utc:t}=this.state.controller.startPosition;if(Object(rs.a)(e)||Object(rs.a)(t)){if(this.state.controller.videoType===Us.a.LIVE){const e=this.getUtcStartTime();if(e>0&&Object(rs.a)(t)&&t>0)return t-e}return Object(rs.a)(e)?e:void 0}}applyStartPositionEventually(){im.forEach(e=>{const t=this.addVideoEventListener(e,this.applyStartPosition,{once:!0});this.onDetach.addOne(t)})}isDvrEnabled(){if(Ov.a.isSmartTV())return!1;if(Ov.a.isSafariDesktop())return!0;const{controller:{isFullscreen:e},skin:{useNativeFullscreen:t,nativeControlsVisibility:n}}=this.state;return(!t||!e)&&!n}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.duration>0}setVideoTrack(){Ic.a.log("Unable to set video track on native encoder")}getBandwidthEstimate(){return Object(xs.e)(NaN)}async initDrm(){const{stream:{drmConfig:e},sourceParams:{subtitles:t}}=this.props;if(!o(this.video))return this.initFairPlay(e);this.video.drmConfig=e,this.video.subtitles=t,Object(Kf.e)("drm",Boolean(e)?this.video.proxyElementType:"none")}getVideoBufferingSubscriber(){return o(this.props.video)?ng:rg}getStreamUrl(){return Object(Do.b)(super.getStreamUrl(),{audio_mbr:o(this.video)?void 0:"1"},{saveOriginalPath:!0})}initVideoTypeQualifier(){const e=new rm(this.getStreamUrl());this.onDetach.addOne(e.destroy),e.onVideoTypeChange.add(e=>{e&&this.props.onVideoTypeChange.dispatch(e)}),e.setHTMLVideoElement(this.video)}onTick(e){super.onTick(e),this.updateProgramDateTime()}async initFairPlay(e){if(!xr(e))return void Object(Kf.e)("drm","none");if(Object(Kf.e)("drm","fairplay"),!nm.IS_SUPPORTED)throw new Oc({code:Rc.a.FAIRPLAY_NOT_SUPPORTED});const{video:t,onError:n}=this.props,r=new nm(t,e,n,this.withCredentials);this.fairPlayController=r,this.onDestroy.addOne(()=>r.destroy()),await r.loadCertificate()}recoverIosSleepMode(){if(!vs.a)return;const e=Object(Go.a)(this.getVideoOwnerDocument(),e=>{e&&(nn(this.state)||this.canSeek()&&(this.video.currentTime-=.001))});this.onDestroy.addOne(e)}updateProgramDateTime(){const{videoType:e}=this.state.controller,t=this.getUtcStartTime(),n=(e===Us.a.LIVE||e===Us.a.EVENT)&&t?Object(xs.c)(t,1e3):void 0;this.props.onProgramDateTimeChange.dispatch(n)}activateVideoTagIosWorkaround(){vs.a&&this.onDestroy.addOne(Object(Ko.a)(this.video,"touchstart",()=>{this.video.paused?this.video.pause():Promise.resolve(this.video.play()).catch(Xo.a)},{once:!0}))}}var om=n(228);const sm=Object(xs.h)(6e4),cm=Object(xs.j)(180),dm=Object(xs.h)(5e3),lm=Object(xs.h)(1e3),um=Object(xs.h)(1e3);class hm{constructor(){this.onVideoTypeChange=new ls.a(void 0),this.video=void 0,this.previousDuration=0,this.unsubscribers=[],this.destroy=()=>{this.previousDuration=0,Object(es.a)(this.unsubscribers)},this.updateVideoType=()=>{this.onVideoTypeChange.dispatch(this.getVideoType())}}setHTMLVideoElement(e){this.destroy(),this.video=e,this.unsubscribers.push(Object(Ko.a)(e,"timeupdate",this.updateVideoType)),this.unsubscribers.push(Object(Ko.a)(e,"durationchange",this.updateVideoType))}getVideoType(){return this.video&&this.video.duration?this.video.duration===1/0?Us.a.LIVE:(0===this.previousDuration&&(this.previousDuration=this.video.duration),this.video.duration>this.previousDuration?Us.a.EVENT:Us.a.VOD):Us.a.VOD}}let pm;!function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(pm||(pm={}));const fm=n(203);class vm extends Error{constructor(e,t){void 0===t&&(t=pm.UNKNOWN_ERROR),super(e),this.message=void 0,this.stack=void 0,this.code=void 0,fm(this,vm.prototype),this.message=e,this.code=t}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{code:this.code,message:this.message,data:this.stack}}}const Em=Object(xs.h)(3e4);class gm{constructor(e){this.playingState=void 0,this.lastRpcRequestId=1,this.waiters=Object.create(null),this.video=void 0,this.onError=void 0,this.onRun=void 0,this.handleMessage=e=>{if(e&&Object(ru.a)(e.data))try{const t=uo(e.data);"result"in t||"error"in t?this.handleRpcResponse(t):"method"in t&&this.handleRpcRequest(t)}catch(e){this.onError(e)}},this.video=e.video,this.onError=e.onError,this.onRun=e.onRun,this.playingState=e.playingState,this.video.addEventListener("yandexplayermessage",this.handleMessage)}destroy(){this.video.removeEventListener("yandexplayermessage",this.handleMessage),this.onError=Xo.a,this.onRun=Xo.a;for(const e in this.waiters)this.waiters[e](new Error("Stop on destroy"))}sendRequest(e,t){let{method:n,params:r}=e;if(void 0===t&&(t=Em),this.playingState!==Fs.a.PLAY&&this.playingState!==Fs.a.BUFFERING)return Promise.reject(new Error("Can't send request while playingState is "+this.playingState));const i=this.getUniqueRpcRequestId();return this.sendMessage(io({id:i,method:n,params:r})),this.waitForResponse(i,t)}sendEvent(e){let{method:t,params:n}=e;return this.playingState!==Fs.a.PLAY&&this.playingState!==Fs.a.BUFFERING?Promise.reject(new Error("Can't send event while playingState is "+this.playingState)):(this.sendMessage(io({method:t,params:n})),Promise.resolve())}setPlayingState(e){this.playingState=e}getUniqueRpcRequestId(){return String(this.lastRpcRequestId++)}waitForResponse(e,t){const n=setTimeout(()=>{const n=this.waiters[e];void 0!==n&&n(new Error("Timeout fired ("+t+"ms) for id="+e+"."))},t),r=()=>{clearTimeout(n),delete this.waiters[e]};return new Promise((t,n)=>{this.waiters[e]=(e,i)=>(r(),null!==e?n(e):t(i))})}sendMessage(e){this.video.yandexPlayerSend(e)}handleRpcRequest(e){let{id:t,method:n,params:r}=e;this.onRun({method:n,params:r},(e,n)=>{t&&this.sendMessage(function(e){let{id:t,error:n,result:r}=e;return n?JSON.stringify({jsonrpc:"2.0",id:t,error:n.toJSON()}):JSON.stringify({jsonrpc:"2.0",id:t,result:void 0===r?null:r})}({id:t,error:e,result:n}))})}handleRpcResponse(e){const t=this.waiters[e.id];void 0!==t?"error"in e?t(e.error):t(null,e.result):Ic.a.warn(new Error("Response for missed waiter for id="+JSON.stringify(e.id)))}}class mm{constructor(e){let{video:t,onError:n,playingState:r}=e;this.yandexRpcMessenger=void 0,this.handleRun=(e,t)=>{t(new vm("Not implemented",pm.METHOD_NOT_FOUND))},this.yandexRpcMessenger=new gm({video:t,onError:n,onRun:this.handleRun,playingState:r})}setPlayingState(e){return this.yandexRpcMessenger.setPlayingState(e)}destroy(){return this.yandexRpcMessenger.destroy()}async setViewPortSize(e){let{width:t,height:n}=e;await this.yandexRpcMessenger.sendRequest({method:"setViewPortSize",params:{width:t,height:n}})}async getVsid(){const e=await this.yandexRpcMessenger.sendRequest({method:"getVsid",params:[]});if(!Object(ru.a)(e))throw new Error("Unexpected result in getVsid: "+e);return e}async getPlayerVersion(){const e=await this.yandexRpcMessenger.sendRequest({method:"getPlayerVersion",params:[]});if(!Object(ru.a)(e))throw new Error("Unexpected result in getPlayerVersion: "+e);return e}async getBandwidth(){const e=await this.yandexRpcMessenger.sendRequest({method:"getBandwidth",params:[]});if(!Object(rs.a)(e))throw new Error("Unexpected result in getBandwidth: "+e);return Object(xs.e)(e)}async getStartDate(){const e=await this.yandexRpcMessenger.sendRequest({method:"getStartDate",params:[]});if(!Object(rs.a)(e))throw new Error("Unexpected result in getStartDate: "+e);return Object(xs.h)(e)}}document.createElement("div"),document.createElement("div");class ym extends _g{async attachEncoder(){this.initYandexPlayer(),await super.attachEncoder(),this.initYandexRpc(),this.initStartDateUpdater(),this.initBandwidthEstimateUpdater(),this.initAndroidVsidUpdater(),this.initViewPortSizeUpdater(),this.isRecoverablePlaylistHTTPStatus=!1,Ic.a.log("yandex native mode")}checkPositionAndReturnToLive(){}async detachEncoder(){this.isRecoverablePlaylistHTTPStatus=!0,this.destroyYandexPlayer(),await super.detachEncoder()}constructor(e){super(e),this.props=e,this.engine=ef.YANDEX,this.startDate=Object(xs.j)(Sg),this.yandexRpc=void 0,this.props.onPlayingStateChange.add(e=>{this.state.controller.encoderAttached&&e===Fs.a.PAUSE&&(this.playerStore.dispatch(Rd({videoTime:this.getCurrentTime(),utc:this.getUtcPosition()})),this.updateYandexPlayerConfig())})}setVideoTrack(e){const{videoTracks:t}=this.video;t[Array.from(t).findIndex(t=>t.id===e.value)].selected=!0}seekInternal(e){const{start:t,end:n}=this.getSeekableRange();fa(this.video,Object(xs.j)(d(e,t,n||0)))}getSeekableRange(){const{videoType:e}=this.state.controller;switch(e){case Us.a.LIVE:return{start:this.getUtcStartTime(),end:this.getDuration()};default:return{start:Object(xs.j)(0),end:this.getDuration()}}}getDuration(){const{videoType:e}=this.state.controller;switch(e){case Us.a.LIVE:return Object(xs.a)(this.getUtcStartTime(),cm);default:return Object(xs.j)(this.video.duration)}}getUtcStartTime(){return this.startDate}getUtcPosition(){const{videoType:e}=this.state.controller;switch(e){case Us.a.LIVE:return this.getCurrentTime();default:return this.getUtcStartTime()?Object(xs.a)(this.getUtcStartTime(),this.getCurrentTime()):super.getUtcPosition()}}getMaxCapAllowedVideoTrack(){const{videoTracks:e}=this.state.controller,t=this.getCapSizes();return Kg(e,t.width,t.height)}getFragmentsData(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return super.getFragmentsData();const{start:e,end:t}=this.getSeekableRange();return{totalDuration:Object(xs.d)(t,e),fragmentDuration:wE.a,startTime:e}}onTick(e){super.onTick(e),this.updateAutoVideoTrackIfNeed()}isDvrEnabled(){return!0}canSeek(){const{video:e}=this.props;return e.readyState>0&&e.duration>0}initVideoTypeQualifier(){const e=new hm;this.onDetach.addOne(e.destroy),e.onVideoTypeChange.add(e=>{e&&this.props.onVideoTypeChange.dispatch(e)}),e.setHTMLVideoElement(this.video)}applyStartPositionEventually(){const e=this.addVideoEventListener("durationchange",()=>{if(!this.canSeek())return;const t=this.getStartPosition(),n=this.getCurrentTime();Object(rs.a)(t)&&Object(om.b)(t,n,.5)?e():(this.applyStartPosition(),e(),this.onDetach.remove(e))});this.onDetach.addOne(e)}initDrm(e){return Object(Kf.e)("drm",e?"android":"none"),Promise.resolve()}async onVideoTagError(){const e=g(this.video);if(!this.state.controller.encoderAttached)return super.onVideoTagError();this.video.poster=$s.a,this.checkPlaylistHTTPStatus();const t=new Oc({code:Io[e.code],details:e,isFatal:!0}),n=await this.checkPlaylistHTTPStatusPromise;n&&n.isFatalError()?this.props.onError(n.toPlayerError()):this.props.onError(t)}initYandexRpc(){const e=new mm({video:this.video,onError:e=>{this.props.onError(new Oc(e,{isFatal:!1,code:Rc.a.YANDEX_RPC_ERROR}))},playingState:this.state.controller.playingState});this.onPlayingStateChange.add(t=>{e.setPlayingState(t)}),this.yandexRpc=e,this.onDetach.addOne(()=>{e.destroy(),this.yandexRpc=void 0})}initStartDateUpdater(){const{yandexRpc:e}=this;if(!e)return;const t=setInterval(()=>{e.getStartDate().then(e=>{if(!(e>0))return void this.props.onProgramDateTimeChange.dispatch(void 0);this.startDate=Object(xs.j)(Math.floor(e/1e3));const{videoType:t}=this.state.controller;switch(t){case Us.a.LIVE:return this.props.onProgramDateTimeChange.dispatch(Object(xs.h)(0));default:return this.props.onProgramDateTimeChange.dispatch(e)}}).catch(Xo.a)},dm);this.onDetach.addOne(()=>{clearInterval(t)})}initYandexPlayer(){this.updateYandexPlayerConfig()}updateYandexPlayerConfig(){const e=this.getStartPosition(),t=this.getBandwidthEstimate(),{drmConfig:n}=this.props.stream,{height:r,width:i}=this.getCapSizes(),a={drmConfig:n,bandwidthEstimate:Object(rs.a)(t)?Object(xs.e)(Math.floor(t)):void 0,startPosition:Object(rs.a)(e)?Object(xs.j)(e):void 0,viewPortHeight:Object(rs.a)(r)?Object(xs.i)(Math.floor(r)):void 0,viewPortWidth:Object(rs.a)(i)?Object(xs.i)(Math.floor(i)):void 0};this.video.setAttribute("yandexplayer",JSON.stringify(a))}initAndroidVsidUpdater(){function e(){t.getVsid().then(e=>{i!==e&&n({event:"YandexAndroidVsidChanged",params:{androidVsid:e}}),i=e}).catch(()=>{r=window.setTimeout(e,um)})}const t=this.yandexRpc,{props:{logEvent:n}}=this;let r=0,i="";this.onDetach.addOne(this.onPlayingStateChange.add(t=>{t===Fs.a.PLAY&&e()})),e(),this.onDetach.addOne(()=>clearTimeout(r))}destroyYandexPlayer(){this.video.removeAttribute("yandexplayer")}updateAutoVideoTrackIfNeed(){const{videoTracks:e,videoWidth:t,videoHeight:n}=this.video,r=Sa(function(e){let{videoTracks:t=[],videoHeight:n,videoWidth:r}=e;const i=Object(qo.a)(t),a=i.find(e=>{let{selected:t}=e;return t});return a&&"auto"!==a.id?a:i.sort((e,t)=>{const{width:i=0,height:a=0}=e,{width:o=0,height:s=0}=t;return Math.abs(a-n)-Math.abs(s-n)||Math.abs(i-r)-Math.abs(o-r)})[0]}({videoTracks:e,videoWidth:t,videoHeight:n}));this.videoTrackValueSignal.dispatch(r?r.value:void 0)}initBandwidthEstimateUpdater(){const{yandexRpc:e}=this;if(!e)return;const t=setInterval(()=>{e.getBandwidth().then(e=>{this.playerStore.dispatch(ed(e))}).catch(Xo.a)},sm);this.onDetach.addOne(()=>{clearInterval(t)})}async updateViewPortSize(e){let{width:t,height:n}=e;const{yandexRpc:r}=this;return r?r.setViewPortSize({width:Math.floor(t),height:Math.floor(n)}).then(()=>({width:t,height:n})).catch(()=>({width:NaN,height:NaN})):{width:NaN,height:NaN}}initViewPortSizeUpdater(){const{yandexRpc:e}=this;if(!e)return;let t=NaN,n=NaN;this.updateViewPortSize(this.getCapSizes()).then(e=>{let{width:r,height:i}=e;t=r,n=i});const r=setInterval(()=>{const{width:e,height:r}=this.getCapSizes();e===t&&r===n||this.updateViewPortSize({width:e,height:r}).then(e=>{let{width:r,height:i}=e;t=r,n=i})},lm);this.onDetach.addOne(()=>{clearInterval(r)})}}var Am=n(112);let Sm;!function(e){e.FRAME_API="video-player-iframe-api-bundle.js",e.FRAME_API_MODERN="video-player-iframe-api-bundle.modern.js",e.STREAM_PLAYER="stream_player_js.js",e.STREAM_PLAYER_MODERN="stream_player_js.modern.js",e.FRAME_PLAYER="player.js"}(Sm||(Sm={}));n(227),n(249);var Tm=n(85),bm=n(187);Object(bm.a)([{id:6125,percent:100}]);n(225),n(234);n(48),n(184);new RegExp(["https?://","(\\w+\\.)?","(?:","(?:yandex|yastatic|yandex-team|yastat)\\.","(?:ru|net)\\/","|","localhost\\/",")",".*"].join(""),"i");n(202),n(185);const Om=Object(Am.a)(window);Sm.FRAME_PLAYER;var Rm=n(57);const _m=Tm.c?"./js/hlsjs_controller.lite.modern.js":"./js/hlsjs_controller.lite.js";n(331);const Pm={droppedVideoFrames:0,corruptedVideoFrames:0,totalVideoFrames:0};class Cm extends fc.a{constructor(e){super(),this.video=void 0,this.playbackQuality=Pm,this.persistedPlaybackQuality=Pm,this.accumulatedPlaybackQuality=Pm,this.video=e,this.addDestroyHandler(()=>{this.reset(),this.video=void 0})}update(){if(!this.video)return;const e=function(e){if("function"===typeof e.getVideoPlaybackQuality){const{droppedVideoFrames:t,corruptedVideoFrames:n,totalVideoFrames:r}=e.getVideoPlaybackQuality();return{droppedVideoFrames:t,corruptedVideoFrames:n,totalVideoFrames:r}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?po({},Pm,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):Pm}(this.video);this.playbackQuality=e,0!==this.persistedPlaybackQuality.totalVideoFrames&&(this.persistedPlaybackQuality.totalVideoFrames>e.totalVideoFrames&&(this.accumulatedPlaybackQuality={droppedVideoFrames:this.accumulatedPlaybackQuality.droppedVideoFrames+this.persistedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.accumulatedPlaybackQuality.corruptedVideoFrames+this.persistedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.accumulatedPlaybackQuality.totalVideoFrames+this.persistedPlaybackQuality.totalVideoFrames}),this.persistedPlaybackQuality=Pm)}persist(){0!==this.playbackQuality.totalVideoFrames&&(this.persistedPlaybackQuality=this.playbackQuality,this.playbackQuality=Pm)}reset(){this.playbackQuality=Pm,this.persistedPlaybackQuality=Pm,this.accumulatedPlaybackQuality=Pm}getPlaybackQuality(){return this.persistedPlaybackQuality.totalVideoFrames>0?Pm:{droppedVideoFrames:this.playbackQuality.droppedVideoFrames+this.accumulatedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.playbackQuality.corruptedVideoFrames+this.accumulatedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.playbackQuality.totalVideoFrames+this.accumulatedPlaybackQuality.totalVideoFrames}}}const Im=Object(xs.h)(2592e5),wm=Object(xs.h)(500);class km{constructor(e,t,n,r){var i=this;this.api=void 0,this.destroySkin=void 0,this.videoController=void 0,this.maxBufferLength=void 0,this.multiroll=Jv,this.visibilityDetectPromise=void 0,this.defineAutoplaySettingsPromise=void 0,this.abortRequestAutoplaySettings=Xo.a,this.clearRequestAutoplaySettingsTimeout=Xo.a,this.onlineMonitor=new oE,this.resourceTimingsMonitor=void 0,this.playbackProgressStorage=new lE,this.visualState=void 0,this.debug=!1,this.container=void 0,this.video=void 0,this.div=void 0,this.adDiv=void 0,this.slotsController=void 0,this.sizeSensor=void 0,this.playbackQualityController=void 0,this.videoTrackValueSignal=new ls.a(void 0),this.onControllerVideoTracksChange=new ss.a,this.audioTrackValueSignal=new ls.a(void 0),this.onControllerAudioTracksChange=new ss.a,this.textTrackValueSignal=new ls.a(void 0),this.onControllerTextTracksChange=new ss.a,this.onVideoDurationChange=new ls.a(Ap.a.duration),this.onVideoCurrentTimeChange=new ls.a(Object(xs.j)(NaN)),this.onVideoProgramDateTimeChange=new ls.a(Ap.a.programDateTime),this.onVisualStateChange=new ls.a(void 0,Bs.a),this.onVideoPlayingStateChange=new ss.a,this.onVideoTypeChange=new ss.a,this.onChangeBufferingRanges=new ss.a,this.onLoadedData=new ss.a,this.onCanPlay=new ss.a,this.onContentImpression=new ss.a,this.onMetadata=new ss.a,this.onDestroy=new ss.a,this.playerStore=void 0,this.externalRequestController=void 0,this.unsubscribeSignalsOnSetSource=[],this.broadcastAd=void 0,this.badFragmentSender=void 0,this.playCallbacks=[],this.preferNative=void 0,this.config=void 0,this.mediaInternalsHistory=void 0,this.forceUsingSeamlessAd=void 0,this.currentAdPlaybackQueue=void 0,this.stopLoadSource=Xo.a,this.onApiReady=void 0,this.canRenderSkin=()=>{this.api.logEvent({event:"CanRenderSkinCalledBeforeSkinIsReady",params:{}})},this.handleSizeSensorUpdate=e=>{let{width:t,height:n}=e;this.onVisualStateChange.dispatch(go({},this.visualState.getState(),{width:t,height:n}))},this.defineAutoplaySettingsAndLoadSource=()=>{const e=this.config.source,t=this.playerStore.getState(),{initialAutoplay:n,allowMuted:r,muted:a,volume:o,togglePlaybackOnVisibilityChangeSetting:s}=t.controller;this.defineAutoplaySettings(this.video,{autoplay:n,muted:a||0===o,allowMuted:!(!s||!s.forceAutoplay)||r}),this.playerStore.dispatch(kd(Date.now())),this.loadSource(e,{adSessionIdConfig:{keepAdSession:this.config.keepAdSession,adSessionWatchedTime:this.config.adSessionWatchedTime,countableNonLinearInAdSession:this.config.countableNonLinearInAdSession},shouldSaveProgress:!1}).catch(e=>{Ic.a.error("load source error",e),Ai(e,Tp.b.INIT),this.onError(e)}).then(()=>{this.onApiReady(this.api.publicApi),this.store.controller.autoplay||this.playerStore.dispatch(hl(!0)),this.canRenderSkin()}).then(()=>{void 0!==e.params.adConfig&&(ou.a?ne({method:"GET",url:au.b,retries:2,checkStatus:e=>e>=200&&e<400}).then(e=>{if(-1===e.responseText.trim().indexOf('<VAST version="3.0">'))throw new Error("Invalid XML in response from ["+au.b+"]")}):Promise.resolve()).catch((function(e){let{message:t}=void 0===e?{}:e;i.playerStore.dispatch(qc(!0)),i.onError(new Oc({code:Rc.a.STRM_ABD_INVALID_RESPONSE,isFatal:!0,details:{reason:t}}))}))})},this.subscribeHandlers=()=>{this.onlineMonitor.onOnline.add(()=>{this.playerStore.dispatch(_d(!0)),nn(this.store)||this.videoController&&this.videoController.onOnline(),this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.Offline,void 0)))}),this.onlineMonitor.onOffline.add(()=>{this.playerStore.dispatch(_d(!1)),this.videoController&&this.videoController.onOffline()}),this.onVideoTypeChange.add(e=>{this.playerStore.dispatch(fd(e))}),this.onVideoDurationChange.add(e=>{this.playerStore.dispatch(hd(e)),this.updateVideoInfo()}),this.onVideoProgramDateTimeChange.add(e=>{this.playerStore.dispatch(Cd(e))});const e=h(()=>{this.saveDataToStorage()},tc.a*ds.a);this.onVideoCurrentTimeChange.add(e),this.onVideoCurrentTimeChange.add(this.handleVideoControllerCurrentTimeChange),this.onChangeBufferingRanges.add(e=>{this.playerStore.dispatch(jd(e))}),this.videoTrackValueSignal.add(e=>{this.playerStore.dispatch(xd({videoTrackValue:e,isAbrEnabled:this.store.controller.isAbrEnabled}))}),this.onControllerVideoTracksChange.add(e=>{this.playerStore.dispatch(Hd(e))}),this.audioTrackValueSignal.add(e=>{this.playerStore.dispatch(Kd(e))}),this.onControllerAudioTracksChange.add(e=>{this.playerStore.dispatch(Yd(e))}),this.textTrackValueSignal.add(e=>{this.playerStore.dispatch(Zd({enabled:void 0!==e,textTrackValue:e}))}),this.onControllerTextTracksChange.add(e=>{this.playerStore.dispatch(qd(e))}),this.onVideoPlayingStateChange.add(e=>{this.playerStore.dispatch(Il(e))}),this.unsubscribeSignalsOnSetSource.push(this.onCanPlay.addOne(this.logCanPlay(Tp.b.INIT))),this.unsubscribeSignalsOnSetSource.push(this.onLoadedData.addOne(this.logLoadStartHavingCurrentData(Tp.b.INIT))),this.onDestroy.addOne(()=>{this.onContentImpression.removeAll()});const t=Object(Go.a)(this.getContainerDocument(),e=>{this.playerStore.dispatch(il(e))});var n;this.onDestroy.addOne(t),this.onDestroy.addOne((n=e=>{this.api.logEvent({event:_c.a.DrmSystemsSupportDetected,params:e})},void 0===Gv?(Yv.push(n),()=>{const e=Yv.indexOf(n);-1!==e&&Yv.splice(e,1)}):(n(Gv),Xo.a)))},this.showContextMenu=e=>{const{contextMenuVisibility:t,hiddenControls:n,isMobileSkin:r,useNativeControls:i}=this.store.skin;if(n.includes(qs.b.CONTEXT_MENU))return;if(void 0!==e){if(e.ctrlKey||e.altKey)return;e.preventDefault()}if(this.playerStore.dispatch(bl(!0)),t&&(r||i))return;const a={x:0,y:0},{left:o,top:s}=this.container.getBoundingClientRect();e&&("touches"in e?(a.x=e.touches[0].clientX-o,a.y=e.touches[0].clientY-s):(a.x=e.clientX-o,a.y=e.clientY-s)),this.playerStore.dispatch(Ol(a))},this.stopAd=()=>Promise.resolve(),this.playAdViewers=async(e,t,n)=>{try{await this.playAdViewersInternal(e,t,n)}catch(r){kr({reason:"PLAY_AD_VIEWERS_ERROR",adSdkVersion:$(),adSdkLoaderVersion:Z(),adblockDetected:this.store.ad.adblockDetected,adType:e,bandwidth:oi(void 0)}),this.onError(new Oc(r,{code:Rc.a.PLAY_AD_VIEWERS_ERROR,isFatal:!1,details:{adType:e,adViewersWithData:t,adDisplayConfig:n}}))}},this.playAdViewersInternal=async(e,t,n)=>{const{ad:{adInfo:r,adSyncInit:i},controller:{isFullscreen:a,isPip:o,sourceParams:{promoConfig:s={}}={}}}=this.store,c=a&&Object($o.a)(this.getContainerDocument().defaultView,this.video)===this.video,d=c||o,l=d?t.filter(e=>{const{adViewer:t}=e;return t.filterAdPodsIndependentOnHtmlControls("StreamPlayer can't play CPC ads: ["+(o?"PiP":c?"FullScreen":"unknown")+"] mode"),t.getAdPodsCount()>0}):t,u=d?l:await Pr(e,l,s),h=u.map(e=>{let{adViewer:t}=e;return t}),p=function(e){return e.reduce((e,t)=>Object(xs.a)(e,Object(xs.l)(t.getAdPodsCount())),Object(xs.l)(0))}(h),f=Q(h);if(0===p)return kr({reason:"NO_AD_PODS_TO_PLAY_AD",adSdkVersion:$(),adSdkLoaderVersion:Z(),adblockDetected:this.store.ad.adblockDetected,adType:e,bandwidth:oi(void 0)}),void this.api.logEvent({event:"NoAdPodsToPlayAd",params:void 0});r&&this.onError(new Oc({code:Rc.a.AD_IS_ALREADY_PLAYING,isFatal:!1,details:{currentAdType:r.adType,adType:e}})),this.prepareBeforeOrAfterAd(!1,e);const v=Jl.includes(e),E=this.slotsController.createAdElementsSet({adType:e,useSeamlessAdIfPossible:v});if(!E)return void this.onError(new Oc({code:Rc.a.AD_CANNOT_FIND_CONTAINER_TO_PLAY,isFatal:!1}));const g="boolean"===typeof this.forceUsingSeamlessAd?this.forceUsingSeamlessAd:!E.isOriginalVideoSlot;this.api.logEvent({event:"PlayAdViewers",params:{adType:e,adPodsCount:p,useSeamlessAd:g,forceUsingSeamlessAd:this.forceUsingSeamlessAd}});const m=e===Pc.a.inroll?{cueId:this.store.ad.originalBroadcastAdCueId,startProgramDateTime:Object(xs.j)(this.store.controller.programDateTime/1e3),startVideoTime:Object(xs.j)(this.videoController?this.videoController.getCurrentTime():this.store.controller.currentTime),startTimestamp:Object(xs.j)(Date.now()/1e3)}:{},y=()=>{this.playerStore.dispatch(Yc({adType:e,params:m})),e!==Pc.a.overlay&&this.slotsController.showAdElementsSet(E)};let A={},S=!1;const T=Object(ts.a)(async t=>{let{data:n,stopAdReason:r}=t;if(e===Pc.a.overlay&&r===Cc.a.AdTypeChange){const t=jp(n.adType);h.forEach(n=>{n.preventPlaying("PriorityAdWillBePlaying",{adTypeBefore:jp(e),adTypeAfter:t})})}S=!0,this.currentAdPlaybackQueue&&(this.currentAdPlaybackQueue.destroy(r),this.currentAdPlaybackQueue=void 0),e!==Pc.a.postroll&&e!==Pc.a.overlay&&Object(ns.a)(this.videoController.play()),this.playerStore.dispatch(Yc(void 0)),e===Pc.a.overlay?this.slotsController.clearAdSlots():this.slotsController.showSkinAndOriginalVideo(),this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.AdEnd,{adType:e}))),this.prepareBeforeOrAfterAd(!0,e);const i=async()=>{e!==Pc.a.overlay&&await this.attachEncoder()};if(r===Cc.a.InsertIntoCalled)return i();const{loadPositionAfterAd:a}=n;if(a){if(g)return this.seek(a),void this.videoController.play();this.playerStore.dispatch(Rd(a)),await i()}});if(this.stopAd=T,!g&&(A=this.getSeekPositionAfterAd({adType:e,adViewersDuration:f}),this.playerStore.dispatch(Rd(A)),e!==Pc.a.overlay&&await this.detachEncoder(),y(),S))return;const b=[Object(Ko.a)(this.video,"firstframedecoded",()=>{Lr("AD",{},i)},{once:!0}),Object(Ko.a)(this.video,"firstframeshown",()=>{jr("AD",{},i)},{once:!0})],O=new kc({onFirstAdPodStarted:()=>{this.hidePoster(),g?(A=this.getSeekPositionAfterAd({adType:e,adViewersDuration:f}),this.seek(A,!0),this.videoController.pause(),y()):!this.videoController||e===Pc.a.postroll&&e===Pc.a.overlay||this.videoController.preloadSource()},onAdPodStarted:()=>{Dr("AD",{adblockDetected:this.store.ad.adblockDetected,adType:e,bandwidth:oi(void 0)},this.store.ad.adSyncInit),this.playerStore.dispatch(hl(!0)),this.api.onAdPodStart()},onAdPodStopped:()=>{Object(es.a)(b),Or(this.store)||this.playerStore.dispatch(td(void 0))},onAdPodImpression:()=>{this.api.onSaveDataOutsideIframe({[ec.a.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD]:0}),(this.config.countableNonLinearInAdSession||Rr(this.store))&&this.playerStore.dispatch(dl(Object(xs.j)(0)))},onAdPodPlayingStateChange:e=>{Ct(this.store)!==Pc.a.overlay&&this.playerStore.dispatch(td(e))},onAdClickThru:()=>{e===Pc.a.overlay&&this.pause()},onAdSizeChange:e=>{this.playerStore.dispatch(pd({videoWidth:Object(xs.i)(void 0===e.width?NaN:e.width),videoHeight:Object(xs.i)(void 0===e.height?NaN:e.height)}))},logEvent:this.api.logEvent,onError:e=>this.onError(e)});this.currentAdPlaybackQueue=O,u.forEach(t=>{let{adViewer:r,additionalData:i,adType:a}=t;O.playAdViewers({adType:e,adPodType:a,adViewer:r,additionalData:i,adDisplayConfig:n,adElementsSet:E})}),await O.getDestroyPromise(),S||await T({stopAdReason:Cc.a.AdCompleted,data:{loadPositionAfterAd:A}})},this.handleVideoControllerCurrentTimeChange=e=>{this.playerStore.dispatch(Ed(e)),this.playerStore.getState().ad.adInfo||this.playbackProgressStorage.saveProgress(e),this.updateVideoInfo()},this.handleVisualStateChange=e=>{let{isPip:t,isFullScreen:n,isVisible:r}=e;this.playerStore.dispatch(tl(n));const{isSupportedPipMode:i,isYandexPipMode:a,isVisibilitySupported:o}=this.visualState;this.onVisualStateChange.dispatch(go({isPip:t,isVisible:r,isFullScreen:n,isSupportedPipMode:i,isYandexPipMode:a,isVisibilitySupported:o},this.sizeSensor.getSize())),i&&!a&&(this.playerStore.dispatch(nl(t)),o&&this.playerStore.dispatch(rl(r)))},this.setHiddenControls=e=>{e.indexOf(qs.b.ALL)>-1?this.playerStore.dispatch(fl(qs.a)):this.playerStore.dispatch(fl(e)),this.videoController&&!this.playerStore.getState().ad.adInfo&&this.videoController.updateNativeControlsVisibility()},this.seekToLive=()=>{if(!this.videoController||!this.videoController.isDvrEnabled())return;const{skinDVRStartTime:e,skinDVRDuration:t}=this.store.skin,n=Object(xs.a)(e,t);this.seek({videoTime:n}),this.playerStore.dispatch(np({reason:Qs.SEEK_TO_LIVE,step:Object(xs.j)(0),videoPosition:n}))},this.setPlaybackRate=e=>{const{max:t,min:n}=function(e){let{controller:{videoType:t,currentTime:n},skin:{skinDVRStartTime:r,skinDVRDuration:i}}=e;return Object(Rf.a)({videoType:t,currentTime:n,dvrStartTime:r,dvrDuration:i})}(this.store);this.videoController.setPlaybackRate(d(e,n,t))},this.seek=function(e,t){let{videoTime:n,utc:r}=e;if(void 0===t&&(t=!1),"number"===typeof r){const e=i.videoController.getUtcStartTime(),n=Object(xs.d)(r,e);i.seekToVideoPosition(n,t)}else"number"===typeof n&&i.seekToVideoPosition(n,t)},this.getDebugInfo=()=>{const{resourceTimingsMonitor:e}=this,t=this.videoController;return{recoverHelperState:t?t.getRecoverHelperState():cv.OFF,logHistory:Ic.a.getHistory(),state:this.store,remainingBufferedTime:Dn(this.store),resourceTimings:e.getAllResourcesTimings(),connectionQuality:t?t.getConnectionQuality():of.UNKNOWN,mediaInternalsHistory:this.mediaInternalsHistory.getHistory()}},this.setVolume=e=>{const t=ci(Fp.a.publicToInternal(e));if(!this.videoController)return this.playerStore.dispatch(cd({muted:this.store.controller.muted,volume:t,changeReason:hf.a.SetVolume})),void this.abortRequestAutoplaySettings(Pf.VolumeChange);if(di(t)&&this.videoController){const{muted:e,volume:n}=this.store.controller;let r=t,i=e;if(0===t){const{userVolume:e}=this.store.controller;r=e||n||Mf.b,i=!0}this.playerStore.dispatch(cd({volume:r,muted:i,changeReason:hf.a.SetVolume})),this.videoController.setVolume(r),this.videoController.setMuted(i)}else Ic.a.warn("cannot change video volume")},this.setMuted=e=>{const t={volume:this.store.controller.volume,muted:e,changeReason:hf.a.SetMuted};if(!this.videoController)return this.playerStore.dispatch(cd(t)),void this.abortRequestAutoplaySettings(Pf.MuteChange);"boolean"===typeof e&&this.videoController?(this.playerStore.dispatch(cd(t)),this.videoController.setMuted(e)):Ic.a.warn("cannot change video muted")},this.onBadFragmentReport=e=>{this.badFragmentSender.sendData(e,this.getDebugInfo())},this.onRecover=e=>{const t=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(this.getDebugInfo(),["resourceTimings"]);this.api.onRecover(go({},e,t)),this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.Recover,{recoverReason:e.reason})))},this.logLoadStartHavingCurrentData=e=>()=>{Ho||(this.video.readyState<lv.HAVE_CURRENT_DATA?this.unsubscribeSignalsOnSetSource.push(this.onLoadedData.addOne(this.logLoadStartHavingCurrentData(e))):this.isCanPlayAndStartHavingCurrentDataLog()&&this.onContentImpression.dispatch(void 0))},this.logCanPlay=e=>()=>{Ho||this.isCanPlayAndStartHavingCurrentDataLog()&&(this.api.logEvent({event:_c.a.CanPlay,params:{stage:e}}),this.onContentImpression.dispatch(void 0))},this.isCanPlayAndStartHavingCurrentDataLog=()=>!this.store.ad.hasPreroll&&this.store.controller.preload,this.startStream=()=>this.store.controller.encoderAttached?Promise.resolve():this.attachEncoder().catch(Ic.a.error),this.container=e,this.preferNative=!0===t.preferNative,this.config=t;{const e=Object(us.getHardcodedParam)(window,"videoplayer-seamless-ad");"true"===e?this.forceUsingSeamlessAd=!0:"false"===e?this.forceUsingSeamlessAd=!1:"boolean"===typeof t.forceUsingSeamlessAd&&(this.forceUsingSeamlessAd=t.forceUsingSeamlessAd)}const o=Object(ff.a)(),s=Object(pE.a)(),l=Object(eE.a)();l&&t.source&&t.source.params&&t.source.params.features&&(t.source.params.features.Xray=!1),this.onApiReady=Object(ts.a)(r);const p=t.source,{params:f=Lf}=p,{additionalParams:v=Cf.a}=f;var E;E={vsid:v.vsid,contentPlayerVersion:"1.0-6125"},tE.ya||(tE.ya={}),tE.ya.videoAd||(tE.ya.videoAd={}),tE.ya.videoAd.statsRootParams=E,this.badFragmentSender=new uv(v.vsid);const g=ci(void 0===t.volume?Mf.b:Fp.a.publicToInternal(t.volume)),{muted:m=Nf,skinConfig:y,togglePlaybackOnVisibilityChange:A}=t;this.api=function(e,t){void 0===t&&(t={});let n=e;return Mr({publicApi:Object(ov.a)(n,(e,r)=>function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];if(void 0===n){console.warn("Unable to call ["+r+"] after player was destroyed");const{logEvent:e=Xo.a}=t;e({event:_c.a.CallPublicApiAfterDestroy,params:{args:i,method:r}})}else try{return n[r](...i)}catch(e){const{onError:n=Xo.a}=t;n(new Oc(e,{code:Rc.a.PUBLIC_API_CALL_ERROR,isFatal:!1,details:{args:i,methodName:r}}))}})},sv,t,{destroyApi:()=>{n=void 0}})}({play:()=>this.play(),pause:()=>this.pause(),seek:this.seek,seekToLive:this.seekToLive,stop:()=>this.stop(),destroy:()=>this.destroy(),recoverStream:()=>this.videoController?this.videoController.recoverStream():Promise.resolve(),getRecoverHelper:()=>{if(this.videoController)return this.videoController.recoverHelper},setPlaybackRate:this.setPlaybackRate,getPlaybackRate:()=>this.store.controller.playbackRate,getState:()=>this.store.controller.playingState,getDuration:()=>this.store.controller.duration,getCurrentTime:()=>this.store.controller.currentTime,getWatchedTime:()=>this.store.controller.watchedTime,getAdSessionWatchedTime:()=>this.store.ad.adSessionWatchedTime,getCurrentStream:()=>this.store.controller.stream,getVideoPlaybackQuality:()=>this.playbackQualityController.getPlaybackQuality(),setTitleSettings:e=>{this.playerStore.dispatch(ep(e))},setSource:function(e,t){let{adSessionIdConfig:n={},shouldSaveProgress:r=!1}=void 0===t?{}:t;i.loadSource(e,{shouldSaveProgress:r,adSessionIdConfig:n}).catch(e=>{Ai(e,Tp.b.SET_SOURCE),i.onError(e)}),i.saveDataToStorage(),Object(es.a)(i.unsubscribeSignalsOnSetSource),i.unsubscribeSignalsOnSetSource=[],i.unsubscribeSignalsOnSetSource.push(i.onCanPlay.addOne(i.logCanPlay(Tp.b.SET_SOURCE))),i.unsubscribeSignalsOnSetSource.push(i.onLoadedData.addOne(i.logLoadStartHavingCurrentData(Tp.b.SET_SOURCE))),i.updateExternalPlayerConfig(e.params.externalPlayerConfig),i.updateLogoWidgetConfig(e)},getUtcPosition:()=>this.getUtcPosition(),getLiveLatency:()=>void 0===this.videoController?void 0:this.videoController.getLiveLatency(),setVolume:this.setVolume,getVolume:()=>Fp.a.internalToPublic(this.store.controller.volume),setMuted:this.setMuted,getMuted:()=>this.store.controller.muted,setFullscreen:e=>this.setFullscreen(e),setHiddenControls:this.setHiddenControls,setVideoStyle:e=>{this.playerStore.dispatch(Cl(e)),Object(Uo.a)(this.video,e)},setPictureInPictureEnabled:e=>Ti(window,e,this.video),getVideoTrack:()=>Gn(this.store),getVideoTracks:()=>this.store.controller.videoTracks,setVideoTrack:e=>this.onApiVideoTrackChange(e),getMaxCapAllowedVideoTrack:()=>{if(this.videoController)return this.videoController.getMaxCapAllowedVideoTrack()},getAudioTrack:()=>sn(this.store),getAudioTracks:()=>this.store.controller.audioTracks,setAudioTrack:e=>this.onApiAudioTrackChange(e),getTextTrack:()=>function(e){const{textTrackEnabled:t}=e.controller;if(t)return tr(e)}(this.store),getTextTracks:()=>this.store.controller.textTracks,setTextTrack:e=>this.onApiTextTrackChange(e),getDebugInfo:this.getDebugInfo,getExpectedStalled:()=>this.store.controller.expectedStalled,getRemainingBufferedTime:()=>this.videoController?this.videoController.getRemainingBufferedTime():{total:Object(xs.j)(0)},getConnectionQuality:()=>this.videoController?this.videoController.getConnectionQuality():of.UNKNOWN,toggleNativeSubtitles:e=>{this.videoController&&this.videoController.toggleNativeSubtitles(e)},setNativeTextTrackVisibility:e=>{this.playerStore.dispatch(zd(e))},dispatchFeatureAction:e=>{try{this.playerStore.dispatch(Ll(e))}catch(t){this.onError(new Oc(t,{code:Rc.a.FEATURE_ACTION_DISPATCH_ERROR,details:{featureAction:e},isFatal:!1}))}},getMultiroll:()=>this.multiroll,playAdViewers:(e,t,n)=>this.playAdViewers(e,t,n),stopAd:e=>this.stopAd(e),playInrollAd:()=>this.playInrollAd(),setExternalRequestController:e=>{this.externalRequestController&&this.externalRequestController.destroy(),this.externalRequestController=e},getExternalRequestController:()=>(this.externalRequestController||(this.externalRequestController=new rc.a({sender:window,receiver:window})),this.externalRequestController),updateVideoControllerNativeControlsVisibility:()=>{this.videoController&&this.videoController.updateNativeControlsVisibility()},getTimelineInfo:()=>{const{controller:{duration:e,currentTime:t},skin:{skinDVRStartTime:n,skinDVRDuration:r}}=this.store;return{currentTime:t,duration:e,utcStartTime:this.getUtcStartTime(),dvrStartTime:n,dvrDuration:r}},setLogoWidgetExpanded:e=>{this.playerStore.dispatch(Ep(e))},setLogoWidgetActionCompleted:e=>{this.playerStore.dispatch(gp(e?Js.COMPLETED:Js.DEFAULT))},getSourceId:()=>this.playerStore.getState().controller.sourceId,addPromoConfig:e=>{let{promoConfig:t}=e;this.playerStore.dispatch(wl(t))},getBandwidthEstimate:()=>(void 0===this.videoController?this.store.controller.lastKnownBandwidthEstimate:this.videoController.getBandwidthEstimate())||void 0},t.callbacks),this.maxBufferLength=t.maxBufferLength,this.resourceTimingsMonitor=new hE(t.resourceTimingsMonitor),this.playbackProgressStorage.setEnabled(t.restoreTabSessionPlaybackProgress);const{primaryColor:S,secondaryColor:T}=function(e){if(void 0===e||!Object(Lo.a)(e))return sE;const t=fi(e.primaryColor)?e.primaryColor:void 0,n=fi(e.secondaryColor)?e.secondaryColor:void 0;if(void 0===t&&void 0===n)return sE;if(void 0===n&&"string"===typeof t){const e=vi(t);return{primaryColor:t,secondaryColor:pi(e)?Ei(gi(e,97/255)):t}}if(void 0===t&&"string"===typeof n){const e=vi(n);return{primaryColor:pi(e)?n:Ei(gi(e,157/255)),secondaryColor:n}}return{primaryColor:t,secondaryColor:n}}(y);this.onDestroy.addOne(Object(Ko.a)(this.getContainerDocument(),"click",e=>{this.playerStore.dispatch(mp())},{capture:!0})),this.onDestroy.addOne(Object(Ko.a)(this.getMainContainer(),"click",e=>{if(this.store.controller.watchedTime>0)return;if(void 0!==this.store.ad.inStreamPlayingState)return;if(this.store.skin.startPositionConfirmation&&this.store.skin.startPositionConfirmation.enabled)return;(void 0===t.shouldPlayOnFirstClick?!o:t.shouldPlayOnFirstClick)&&this.play()},{once:!0})),Object(Jo.a)(()=>{this.saveDataToStorage()}),xo.a&&this.onDestroy.addOne(Object(Jo.a)(()=>this.destroy()));const{autoplay:b=If.a}=t,{manifestTimeout:O=jf.c}=f.netParams||{},{levelTimeout:_=jf.b}=f.netParams||{},{chunkTimeout:P=jf.a}=f.netParams||{};let C;if("undefined"===typeof t.hidden)C=[];else{if(!Array.isArray(t.hidden))throw new Error('StreamPlayer: "hidden" property must be an array or undefined');C=t.hidden.indexOf(qs.b.ALL)>-1?qs.a:t.hidden}-1===C.indexOf(qs.b.REPORT)&&!1===t.report&&C.push(qs.b.REPORT),this.debug=Boolean(t.debug),this.debug&&Ic.a.enableConsole(),this.div=document.createElement("div"),this.div.className="StreamPlayer",this.adDiv=document.createElement("div"),this.adDiv.className="StreamPlayer_ui",this.div.tabIndex=-1,this.onDestroy.addOne(Object(Ko.a)(this.div,"selectstart",e=>{e.preventDefault(),e.stopPropagation()})),this.container.appendChild(this.div),this.container.appendChild(this.adDiv);const I=Jn(),w=Boolean(t.allowMuted),{featuresEnabled:k=[]}=t,N={controller:go({},Ap.a,{autoplay:b,initialAutoplay:b,allowMuted:w,preload:void 0===t.preload||Boolean(t.preload),from:v.from,vsid:v.vsid,volume:g||Mf.b,muted:0===g||m,userVolume:void 0===t.volume?NaN:g,isFullscreen:!1,togglePlaybackOnVisibilityChangeSetting:A,isDocumentVisible:Object(Wo.a)(this.getContainerDocument()),isOnline:!0,liveOffset:void 0===t.liveOffset?kf.a:Object(xs.j)(Math.max(t.liveOffset,Ff)),isAbrEnabled:void 0===t.autoQuality||Boolean(t.autoQuality),netParams:{manifestTimeout:O,levelTimeout:_,chunkTimeout:P},preview:f.preview||Lf.preview,featuresEnabled:k,videoInfo:f.videoInfo||Lf.videoInfo}),ad:go({},yp.a,{adSessionWatchedTime:void 0===t.adSessionWatchedTime?yp.a.adSessionWatchedTime:t.adSessionWatchedTime,adblockDetected:ou.a,watchedTimeSinceAd:"number"===typeof t.watchedTimeSinceAd?t.watchedTimeSinceAd:yp.a.watchedTimeSinceAd}),skin:go({},bf,{hiddenControls:C,useNativeControls:o,useNativeFullscreen:s,useNativeSubtitles:I,nativeControlsVisibility:!Zs(C),primaryColor:S,secondaryColor:T,isMobileSkin:l,showReportButton:!0===t.report,showBrandLogo:!0===t.showBrandLogo,showUnmuteButtonForAll:!0===t.showUnmuteButtonForAll,showPreloader:!1,logoConfig:f.logoConfig,startPositionConfirmation:t.startPositionConfirmation,handleVideoTagClickWhenHidingNativeControls:!0===t.handleVideoTagClickWhenHidingNativeControls}),externalPlayback:go({},zs,{externalPlaybackPossible:R(f.externalPlayerConfig),externalPlayerConfig:f.externalPlayerConfig}),sharing:go({},yf,{link:f.shareConfig&&f.shareConfig.link,html:f.shareConfig&&f.shareConfig.html}),features:{Xray:void 0,SkippableFragments:void 0,NonStop:void 0,Recommendations:void 0,CloseButton:void 0}};Ic.a.log("initialState",N);const D=br(this.api,N);this.playerStore=D,this.updateLogoWidgetConfig(p),this.updateRumInfo(),this.onDestroy.addOne(Object(Ms.a)(()=>{D.dispatch($c())}));const L=function(e){let{preferNative:t=!1,logger:n}=e;return a({preferNative:t})?Ks.b.avplayProxyController.createElement(n):null}({preferNative:this.preferNative,logger:Ic.a})||(j=Ic.a,Co?Ks.b.orsayVideoElement.createElement(j):null)||function(e){let{preferNative:t,logger:n}=e;const{webOSController:r}=Ks.b;return c({preferNative:t})&&r?r.createElement(n):null}({preferNative:this.preferNative,logger:Ic.a})||this.container.getElementsByTagName("video")[0]||document.createElement("video");var j;this.video=L,L.poster||(L.poster=$s.a),this.playbackQualityController=new Cm(L),this.mediaInternalsHistory=new aE(L),this.slotsController=new RE({parentElement:this.div,adElement:this.adDiv,originalVideoElement:L,useNativeControls:o,forceUsingSeamlessAd:this.forceUsingSeamlessAd}),Object(Yo.a)(L,Ws.a.player__video),Object(cs.a)(()=>window.Ya.Rum.sendHeroElement());const M=o?L:this.div,V=o||l?u(M,this.showContextMenu,{touchesCount:2,handleContextmenu:!1}):Object(Ko.a)(this.div,"contextmenu",this.showContextMenu);this.onDestroy.addOne(V),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(L),this.destroySkin=su({waitForPromise:new Promise(e=>{this.canRenderSkin=e}),playerStore:D,onError:e=>this.onError(e),skinContainer:this.slotsController.getSkinElement(),callback:this.api.onSkinReady});const F=s?this.video:this.container;this.visualState=n.visualState,this.visualState.setVideoElement(L),this.onVisualStateChange.add(e=>{e&&this.api.onVisualStateChange(e)});const U=h(e=>{let{height:t,width:n}=e;D.dispatch(pl({width:n,height:t,size:Object(ic.a)(n)})),this.handleSizeSensorUpdate({height:t,width:n})},wm);this.sizeSensor=new Zo.a(F),this.sizeSensor.onResize.add(e=>{let{width:t,height:n}=e;return U({width:Object(xs.i)(t),height:Object(xs.i)(n)})}),U(this.sizeSensor.getSize()),this.onDestroy.addOne(()=>this.sizeSensor.destroy()),A&&this.visualState.isYandexPipMode&&Ti(window,!1,this.video),this.visualState.observe(this.handleVisualStateChange),this.handleVisualStateChange(this.visualState.getState()),this.visibilityDetectPromise=Promise.resolve(this.visualState.getState()),this.onDestroy.addOne(()=>{this.onVisualStateChange.removeAll()}),this.initClickerEventListener(this.div),this.initTouchZoomPreventor(this.div),this.defineAutoplaySettingsAndLoadSource(),this.subscribeHandlers()}initClickerEventListener(e){const t=new Ec(e);this.onDestroy.addOne(()=>t.destroy()),t.onEvent.add(e=>{let{type:t,event:n}=e;const r=go({},n);r.preventDefault=void 0,this.api.onVideoClickerEvent({type:t,event:r})})}initTouchZoomPreventor(e){const t=new Sc(e);this.onDestroy.addOne(()=>t.destroy())}updateRumInfo(){const{controller:e}=this.store;Object(Kf.d)({apiVersion:2,isMobile:this.config.isMobile,autoQuality:this.config.autoQuality,useFriendlyFrame:this.config.useFriendlyFrame,vsid:e.vsid,from:e.from,hasPreview:Boolean(e.preview),saveData:Object($v.a)()})}requestAutoplaySettings(e,t,n){return function(e){return void 0===e&&(e=window),Object(Eg.a)(e).some(e=>{const{hasBeenActive:t}=Object(cs.a)(()=>f(e))||{hasBeenActive:!1};return t})}(window)?{promise:Promise.resolve({autoplay:t.autoplay,muted:t.muted,detectionMethod:"ACTIVATED_WINDOW"}),abort:Xo.a,skipCacheUpdate:!0}:O(go({},t,n,{videoSlot:e}))}defineAutoplaySettings(e,t){if(this.store.controller.autoplay&&!this.store.controller.isDocumentVisible)return this.playerStore.dispatch(ad(Yp.a.waitForDocumentVisibility)),this.playerStore.dispatch(id(!1)),void(this.defineAutoplaySettingsPromise=Promise.resolve());let n;Object(Yf.b)("detect.autoplay");const r=Eo(t),{promise:i,skipCacheUpdate:a=!1,abort:o}=this.requestAutoplaySettings(e,t,r);i.then(()=>{Object(Yf.a)("detect.autoplay")});const{promise:s,clear:c}=os(Uf);this.clearRequestAutoplaySettingsTimeout=()=>{c()},s.then(()=>{this.playerStore.dispatch(ad(Yp.a.waitForUserPlay))});const d=Object(as.a)();this.abortRequestAutoplaySettings=e=>{void 0===n&&this.api.logEvent({event:"PlayWithoutRAAResults",params:{delay:Object(xs.h)(d()),reason:e}}),o()},this.runRequestAutoplaySettingsLogger(i,t,r),i.then(e=>{var n,i;a||(i=e,function(e,t){return!t||e.allowMuted!==t.allowMuted||e.autoplay!==t.autoplay||e.muted!==t.muted}(n=t,r)&&Object(cs.a)(()=>{Iv.a.setItem(vo(n),JSON.stringify(fo({},i,{time:Date.now()})))}))}),this.defineAutoplaySettingsPromise=Promise.all([i,this.visibilityDetectPromise]).then(e=>{let[t]=e;n=t,this.clearRequestAutoplaySettingsTimeout();const{isVisible:r}=this.store.controller;Ic.a.log("Autoplay settings defined",n);const{autoplay:i,muted:a,requireUserGestureToUnmute:o,autoplayImpossible:s,requireAllowMutedToAutoplay:c}=n;this.playerStore.dispatch(cd({muted:a,volume:this.store.controller.volume,changeReason:hf.a.RequestAutoplaySettings}));const d=function(e){const{controller:{togglePlaybackOnVisibilityChangeSetting:t,muted:n}}=e;return!!t&&!(t.onlyMuted&&!n)}(this.store)&&!1===r;d&&this.api.logEvent({event:"HiddenAutoplayPrevented",params:{autoplaySettingsRequestResult:n}});const l=i&&!d;Ic.a.log("autoplay status:",i),Ic.a.log("isVisible",r),Ic.a.log("preventHiddenAutoplay",d);const u=l?Yp.a.starting:Yp.a.waitForUserPlay;if(this.playerStore.dispatch(ad(u)),l?this.playerStore.dispatch(od(!0)):wr(),this.playerStore.dispatch(id(l)),this.playerStore.dispatch(dd(Boolean(o))),s){this.playerStore.dispatch(ld(!0)),this.api.logEvent({event:"AutoplayImpossible",params:{autoplaySettingsRequestResult:n}});try{console.warn("Cannot autoplay video"+(c?" with sound":"")+" in this environment."+(c?" Use autoplay={allowMuted: true} if you prefer mute video and enable autoplay.":""))}catch(e){}}})}async createVideoController(e,t){let{stream:n,supportInfo:r}=e;const i={playerStore:this.playerStore,video:this.video,stream:n,sourceParams:t,debug:this.debug,liveOffset:this.store.controller.liveOffset,maxBufferLength:this.maxBufferLength,preferNative:this.preferNative,bandwidthEstimateOffset:this.config.bandwidthEstimateOffset,resourceTimingsMonitor:this.resourceTimingsMonitor,onMetadata:this.onMetadata,onPlayingStateChange:this.onVideoPlayingStateChange,onVideoTypeChange:this.onVideoTypeChange,onCurrentTimeChange:this.onVideoCurrentTimeChange,onDurationChange:this.onVideoDurationChange,onProgramDateTimeChange:this.onVideoProgramDateTimeChange,onChangeBufferingRanges:this.onChangeBufferingRanges,videoTrackValueSignal:this.videoTrackValueSignal,onVideoTracksChange:this.onControllerVideoTracksChange,audioTrackValueSignal:this.audioTrackValueSignal,onAudioTracksChange:this.onControllerAudioTracksChange,textTrackValueSignal:this.textTrackValueSignal,onTextTracksChange:this.onControllerTextTracksChange,onLoadedData:this.onLoadedData,onCanPlay:this.onCanPlay,onError:e=>this.onError(e),onRecover:this.onRecover,onBadFragment:this.onBadFragmentReport,onContentImpression:this.onContentImpression,logEvent:this.api.logEvent,getPipWindowSize:()=>this.visualState.getPipWindowSize()};var a,o;this.videoController=await(a=r.engine,o=i,a===ef.YANDEX?new ym(o):a===ef.HLS?new bg(o):a===ef.MPD?new tm(o):a===ef.MP4?new Pg(o):new am(o)),this.playerStore.dispatch(rd(r.engine)),this.api.onEngineChange(r.engine,this.playerStore.getState().controller.sourceId),Object(Kf.e)("engine",r.engine)}getPreparedSourceParams(e,t){return go({},Lf,t,{startPosition:this.getInitialStartPosition(t),withCredentials:si(e,t)})}getInitialStartPosition(e){const t=e&&e.startPosition||Lf.startPosition;if(t){if(Object(is.a)(t).some(e=>Object(rs.a)(t[e])))return t}const n=this.playbackProgressStorage.getProgress();return void 0===n?t:{videoTime:n}}async loadSource(e,t){let{adSessionIdConfig:n,shouldSaveProgress:r}=t;Ic.a.log("loadSource start",e),this.api.onEngineChange(void 0,this.playerStore.getState().controller.sourceId);const i=r?"LoadSourceWithSaveProgress":"LoadSource";this.api.logEvent({event:i,params:{source:e}}),function(){iv++,av.sourceStart=!1;const e=0===iv;e?Object(qf.a)(Xf.firstLoadSource):Object(Gf.b)();try{rv=window.Ya.Rum.makeSubPage(e?"Init":"SetSource"),Object(Kf.c)(rv.additional||{})}catch(e){}}(),this.stopAd({stopAdReason:Cc.a.LoadSource,data:{loadPositionAfterAd:void 0}}),this.stopLoadSource(dv.setSource),this.playbackProgressStorage.clearKey(),this.playerStore.dispatch(Od(void 0)),this.playerStore.dispatch(Ad(void 0)),this.playerStore.dispatch(Sd(void 0)),this.playerStore.dispatch(bd(e.streams)),this.playerStore.dispatch(hl(!1)),this.playerStore.dispatch(md(e.params.videoInfo||Ap.a.videoInfo));const a=new Zl;this.stopLoadSource=e=>a.stop(e);try{this.multiroll.destroy()}catch(e){!function(e,t){Object(cs.a)(()=>window.Ya.Rum.logError(_r({},e,{additional:Object(Kf.b)()}),t))}({message:"Can not destroy multiroll instance",method:"loadSource",source:"multiroll",sourceMethod:"destroy",type:"logic"},e)}this.multiroll=Jv;const o=!this.videoController,{streams:s}=e,c=ti({streams:s,video:this.video,preferNative:this.preferNative}),d=ai(e.params),l=function(e,t,n){let{keepAdSession:r}=n;if(!Object(Lo.a)(e))return!1;if(void 0!==t&&t.intro&&t.intro.length>0)return!1;const i=Boolean(r),a=!1===e.hasPreroll;return i||a}(d,e.params.promoConfig,n);this.playerStore.dispatch(Zc(Object(Lo.a)(d)&&!l));let u=l?null:this.initMultirollModule(d,n);Object(Kf.e)("hasPreroll",!l);const h=this.destroyVideoController(),p=await c;if(this.playerStore.dispatch(Od(p.streamsWithSupportInfo)),"error"===p.status)throw p.error;const{supportedStream:f}=p;var v;(v=f).supportInfo.engine===ef.MPD?ho(Rm.e):v.supportInfo.engine===ef.HLS&&(ho(_m),ho(Rm.c));const{stream:E}=f;if(a.stopReason)return void this.api.logEvent({event:_c.a.StreamStopWhileChoosingStream,params:void 0});this.playbackProgressStorage.setKeyByStream(E);const g=this.getPreparedSourceParams(E,e.params);if(await h,a.stopReason)return void this.api.logEvent({event:_c.a.StreamStopWhileDestroyVideoController,params:void 0});if(m=E.url,!Object(rE.a)(m))throw new Oc({code:Rc.a.INVALID_STREAM_URL,details:{streamUrl:E.url},isFatal:!0});var m;if(this.resetPlayerStore(E,g,{adSessionIdConfig:n,shouldSaveProgress:r,isFirstLoad:o}),await this.defineAutoplaySettingsPromise,a.stopReason)return void this.api.logEvent({event:_c.a.StreamStopDuringDefineAutoplaySettings,params:void 0});await this.createVideoController(f,g),this.store.ad.hasPreroll||!this.store.controller.preload&&!this.store.controller.autoplay||this.videoController.preloadSource(),Object(Kf.e)("bandwidthEstimate",oi(Object(xs.b)(this.videoController.getBandwidthEstimate(),1e3))),Object(Kf.e)("drm","none"),o?(this.initBroadcastAd(),ri(E.url,Boolean(g.withCredentials)).then(e=>{this.playerStore.dispatch(qc(e||ou.a))}),this.setMuted(this.store.controller.muted),this.setVolume(Fp.a.internalToPublic(this.store.controller.volume))):this.prepareNextSource(E,g),this.setPosterFitStyle(),this.unsubscribeSignalsOnSetSource.push(this.onContentImpression.addOne(()=>this.handleFirstContentImpression()));const y=async()=>{u||(u=this.initMultirollModule(d,n));const e=await u;if(a.stopReason)return this.api.logEvent({event:_c.a.StreamStopWhileLoadingMultiroll,params:{streamStopReason:a.stopReason}}),void e.destroy();this.multiroll=e};l?this.unsubscribeSignalsOnSetSource.push(this.onContentImpression.addOne(y)):await y(),this.startPrerollAndContent(a),g.shareConfig&&this.playerStore.dispatch(mf(g.shareConfig))}async initMultirollModule(e,t){let n=Jv;if(!e)return n;Nr("AD",!0);try{const{loadMultiroll:r}=await ee(e=>{Object(Kf.e)("adSdkVersion",e.adSdkVersion),Object(Kf.e)("adSdkLoaderVersion",e.adSdkLoaderVersion),this.api.onAdSDKVersionDefined(e)}),i=this.config.useFriendlyFrame?js.OnlyYandexCreatives:js.Unsafe;n=await r(go({},e,{secureMode:i,getSTRMChunkHost:()=>{const e=In(this.resourceTimingsMonitor.getAllResourcesTimings());if(0===e.length)return;const{hostname:t,protocol:n}=Object(Do.g)(e[0]);return n+"//"+t+"/"}}),{preroll:{shouldPreload:()=>{const{preload:e,startStage:t}=this.store.controller;return e&&(t===Yp.a.waitForUserPlay||t===Yp.a.waitForDocumentVisibility)}},midroll:{preloadOffset:20,preloadMinTime:Object(xs.j)(5)},postroll:{preloadOffset:20,preloadMinTime:Object(xs.j)(5)},getPreloadParams:()=>{const e={videoSlot:this.video};if(!this.videoController||!this.store.ad.nextAdInfo)return e;const t=this.videoController.getBandwidthEstimate();return t?go({},e,{desiredBitrate:t/1e3}):e},startWatchedTime:Boolean(t.keepAdSession)?this.store.ad.adSessionWatchedTime:yp.a.adSessionWatchedTime,watchedTimeSinceAd:this.store.ad.watchedTimeSinceAd})}catch(t){kr({reason:"MULTIROLL_INIT_ERROR",adSdkVersion:$(),adSdkLoaderVersion:Z(),adblockDetected:this.store.ad.adblockDetected,bandwidth:oi(void 0)}),this.onError(new Oc({isFatal:!1,code:Rc.a.MULTIROLL_INIT_ERROR,details:{error:t,adConfig:e}}))}return n}async startPrerollAndContent(e){Ic.a.log("startPrerollAndContent");let t=[];const n=Object(ts.a)(()=>this.startStream()),r=Object(ts.a)(async()=>{t=await this.multiroll.preroll.loadViewers({});const e=function(e){const{sourceParams:t}=e.controller;if(void 0===t)return{};const{promoConfig:n}=t;return void 0===n?{}:n}(this.store),n=t.length>0,r=void 0!==e.intro&&e.intro.length>0,i=n||r;this.playerStore.dispatch(Jc(i)),i&&this.api.logEvent({event:_c.a.PrerollInit,params:{}})}),{startStage:i,preload:a}=this.store.controller;if(i===Yp.a.waitForUserPlay||i===Yp.a.waitForDocumentVisibility){if(Ic.a.log("Waiting for "+(i===Yp.a.waitForUserPlay?"user gesture":"document visibility")),this.api.logEvent({event:i===Yp.a.waitForUserPlay?_c.a.WaitForUserGesture:_c.a.WaitForDocumentVisibility,params:{preload:a}}),a){if(Ic.a.log("Preload preroll in player"),await r(),e.stopReason)return void this.api.logEvent({event:_c.a.StreamStopWhilePreloadingPreroll,params:{streamStopReason:e.stopReason}});this.store.ad.hasPreroll||(Ic.a.log("No preroll, preload content"),n())}if(i===Yp.a.waitForUserPlay?await this.waitForPlay():await function(e,t){return Object(Wo.a)(e)===t?Promise.resolve():new Promise(n=>{Object(Go.a)(e,e=>{e===t&&n()})})}(this.getContainerDocument(),!0),e.stopReason)return void this.api.logEvent({event:i===Yp.a.waitForUserPlay?_c.a.StreamStopWhileWaitingForPlay:_c.a.StreamStopWhileWaitingForDocumentVisibility,params:{streamStopReason:e.stopReason}})}if(Ic.a.log("Start playing"),this.playerStore.dispatch(id(!0)),this.play(),await r(),e.stopReason)this.api.logEvent({event:_c.a.StreamStopWhileLoadingPreroll,params:{streamStopReason:e.stopReason}});else{if(!this.store.ad.hasPreroll)return await n(),this.playAfterWaitingForDocumentVisibility(),void this.performPlayCallbacks();this.playerStore.dispatch(od(!0)),Ic.a.log("Start preroll"),this.playAdViewers(Pc.a.preroll,Rt(t,Pc.a.preroll),{videoSlotCanAutoPlay:i!==Yp.a.waitForDocumentVisibility||void 0})}}waitForPlay(){const e=Object(as.a)();return new Promise(t=>{let n=Xo.a,r=0;const i=i=>{n(),clearInterval(r),this.api.logEvent({event:_c.a.WaitForPlayCompleted,params:{reason:i,timeout:Object(xs.h)(e())}}),this.playerStore.getState().controller.startStage!==Yp.a.started&&this.playerStore.dispatch(ad(Yp.a.starting)),t()};this.video.paused?(this.playCallbacks.push(()=>{i(Bf.PlayCallback)}),n=Object(Ko.a)(this.video,"play",()=>{i(Bf.VideoPlayEvent)}),r=window.setInterval(()=>{this.video.paused||i(Bf.DetectByInterval)},Vs.a)):i(Bf.VideoIsNotPausedOnInit)})}initBroadcastAd(){const{video:e,playerStore:t}=this;if(this.broadcastAd=new Ql(e,e.parentElement,t,this.api,e=>this.onError(e)),this.videoController&&this.videoController.engine===ef.NATIVE){let t=0;e.addEventListener("timeupdate",()=>{const{currentTime:n}=e;this.isLive()&&n<t&&this.broadcastAd&&this.playerStore.dispatch(Xc({})),t=n})}this.onMetadata.add(e=>{const{fragmentMetadataArray:t,fragmentStart:n}=e;if(Ic.a.log("receive metadata: ",t),!this.broadcastAd)return;const{programDateTime:r}=this.store.controller;if(void 0===r)return;const i=Object(xs.a)(r,Object(xs.c)(n,1e3));let a;Math.random()<.01&&this.api.logEvent({event:_c.a.StreamPlayerReceivedMetadata,params:e}),t.forEach(e=>{try{const t=JSON.parse(e);if(!function(e){return Object(Lo.a)(e)&&Object(ru.a)(e.cue_id)&&Object(rs.a)(e.offset)}(t))return;a=go({},t,{pts:i})}catch(t){Ic.a.log("metadata is not valid ["+e+"]")}}),a&&this.broadcastAd.handleInrollFrame(a).catch(e=>{Ic.a.error(e),this.onError(new Oc(e,{code:Rc.a.BROADCAST_AD_BLOCK_INIT_ERROR,isFatal:!1,details:{code:e.code,message:e.message,id:e.id,details:e.details,stack:e.stack,metadata:{cueId:a.cue_id,podStart:i+a.offset}}}))})}),this.broadcastAd.onAdIntervalRemoved.add(e=>{this.playerStore.dispatch(Qc(e))}),this.broadcastAd.onAdIntervalUpdated.add(e=>{let{cueId:t,start:n,end:r}=e;this.playerStore.dispatch(zc({cueId:t,start:Object(xs.b)(n,1e3),end:Object(xs.b)(r,1e3)}))}),this.broadcastAd.onInrollAdPlayRequest.add(e=>{this.playAdViewers(Pc.a.inroll,e,{skipDelay:0})}),this.broadcastAd.onOverlayAdPlayRequest.add(e=>{this.playAdViewers(Pc.a.overlay,e,{skipDelay:0})})}prepareBeforeOrAfterAd(e,t){this.broadcastAd&&t!==Pc.a.overlay&&t!==Pc.a.inroll&&this.broadcastAd.setEnabled(e)}getSeekPositionAfterAd(e){let{adType:t,adViewersDuration:n}=e;const r=this.getUtcPosition();if(t===Pc.a.inroll){const e=Object(xs.a)(this.store.controller.currentTime,n);return{utc:r?Object(xs.a)(r,n):void 0,videoTime:e}}if(t===Pc.a.preroll)return this.store.controller.startPosition;if(t===Pc.a.midroll||t===Pc.a.externalInroll){const e=function(e){const{rewindTime:t=Of.a}=e.ad.adConfig||{};return t}(this.store);return{utc:Object(xs.j)(Math.max(r-e,0))||void 0,videoTime:Object(xs.j)(Math.max(this.videoController.getCurrentTime()-e,0))}}return t===Pc.a.postroll?{videoTime:Object(xs.j)(0)}:{}}updateVideoInfo(){const{startTime:e,fragmentDuration:t,totalDuration:n}=this.videoController.getFragmentsData();this.playerStore.dispatch(Pd(t)),this.playerStore.dispatch(Id(e)),this.playerStore.dispatch(wd(n));const{videoWidth:r,videoHeight:i}=this.video;this.playerStore.dispatch(pd({videoWidth:Object(xs.i)(r),videoHeight:Object(xs.i)(i)})),Rr(this.store)?this.playbackQualityController.persist():this.playbackQualityController.update()}getUtcPosition(){return this.videoController?this.videoController.getUtcPosition():Sg}resetPlayerStore(e,t,n){let{adSessionIdConfig:r,shouldSaveProgress:i,isFirstLoad:a}=n;this.playerStore.dispatch(Td()),this.playerStore.dispatch(Ad(e)),this.playerStore.dispatch(Sd(t));const o=this.getStartPositionForLoadSource(t,{shouldSaveProgress:i});if(this.playerStore.dispatch(Rd(o)),!a){const{additionalParams:e=Cf.a}=t,{from:n=wf.a}=e;this.playerStore.dispatch(yd(n)),this.playerStore.dispatch(sl(t.preview||Lf.preview)),this.playerStore.dispatch(jd(Ap.a.bufferingRanges)),i||this.playerStore.dispatch(cl(Ap.a.watchedTime)),i||r.keepAdSession||this.playerStore.dispatch(ll(yp.a.adSessionWatchedTime)),this.playerStore.dispatch(fd(void 0)),this.playerStore.dispatch(Cd(void 0)),this.playerStore.dispatch(Sl(t.logoConfig)),this.playerStore.dispatch(Hd(Ap.a.videoTracks)),this.playerStore.dispatch(Kd(Ap.a.audioTrackValue)),this.playerStore.dispatch(Yd(Ap.a.audioTracks)),this.playerStore.dispatch(Xd(Ap.a.textTrackEnabled)),this.playerStore.dispatch(Qd(Ap.a.textTrackValue)),this.playerStore.dispatch(qd(Ap.a.textTracks)),this.playerStore.dispatch(el([])),this.playerStore.dispatch(ul(void 0)),this.playerStore.dispatch(dp()),this.playerStore.dispatch(Xc({})),this.playerStore.dispatch(td(void 0)),this.playerStore.dispatch(Jc(!1)),this.playerStore.dispatch(nd(void 0)),this.playerStore.dispatch(ep(bf.title))}this.playerStore.dispatch(Kc(ai(t))),this.playerStore.dispatch(Dl(t.features||{}))}prepareNextSource(e,t){this.playerStore.dispatch(Md({})),this.playerStore.dispatch(El(!1)),this.onVideoDurationChange.dispatch(Object(xs.j)(NaN)),this.playerStore.dispatch(gf()),this.playerStore.dispatch(od(!0)),this.playbackQualityController.reset(),this.playCallbacks=[],this.playerStore.dispatch(xd({videoTrackValue:Ap.a.videoTrackValue,isAbrEnabled:this.store.controller.isAbrEnabled})),this.broadcastAd&&this.playerStore.dispatch(Xc({})),this.playerStore.dispatch(vh({delay:Gs,condition:()=>this.store.controller.videoTrackValue===Ap.a.videoTrackValue,action:vl(!0)}));-1===[Fs.a.PLAY,Fs.a.BUFFERING].indexOf(this.store.controller.playingState)&&this.videoTrackValueSignal.addOne(()=>{this.playerStore.dispatch(vl(!1))}),this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.SetSource,{stream:e,params:t})))}performPlayCallbacks(){this.playCallbacks.length>0&&(Object(es.a)(this.playCallbacks),this.playCallbacks=[])}play(){if(this.performPlayCallbacks(),this.currentAdPlaybackQueue&&Ct(this.store)!==Pc.a.overlay)return void this.currentAdPlaybackQueue.resumeAd();if(!this.videoController)return this.playerStore.dispatch(id(!0)),void this.abortRequestAutoplaySettings(Pf.ApiPlay);const e=this.videoController.getCurrentTime(),t=this.videoController.getDuration();t>0&&e>=t&&this.seek({videoTime:Object(xs.j)(0)}),Object(ns.a)(this.videoController.play())}pause(){wr(),this.playerStore.dispatch(hl(!0)),this.currentAdPlaybackQueue&&Ct(this.store)!==Pc.a.overlay?this.currentAdPlaybackQueue.pauseAd():this.videoController&&this.videoController.pause()}stop(){this.seek({videoTime:Object(xs.j)(0)}),this.pause()}seekToVideoPosition(e,t){Number.isNaN(e)||(this.api.onSeek({newPosition:e,oldPosition:this.store.controller.currentTime}),nn(this.store)&&!t?this.playerStore.dispatch(Rd({videoTime:e})):this.videoController.seek(e))}isLive(){return this.store.controller.videoType===Us.a.LIVE}getStartPositionForLoadSource(e,t){let{shouldSaveProgress:n}=t;const{controller:{currentTime:r,watchedTime:i}}=this.store,a=this.getUtcStartTime(),o=void 0===a?void 0:Object(xs.a)(a,r),s=Object(Lo.a)(e.startPosition)?e.startPosition:{};return n&&i>0?{videoTime:r,utc:o}:s}getUtcStartTime(){const{controller:{programDateTime:e}}=this.store;return void 0===e?void 0:Object(xs.b)(e,1e3)}onApiVideoTrackChange(e){this.playerStore.dispatch(Ud(e===Hf.value));const t=e===Hf.value&&this.store.controller.isAbrSupported?Hf:this.store.controller.videoTracks.find(t=>t.value===String(e));if(this.playerStore.dispatch(Bd({name:t&&t.value!==Hf.value&&t.name||void 0,height:t&&t.height?Object(xs.i)(t.height):void 0})),!t)return;const n=this.api.publicApi.getVideoTrack();this.videoController.setVideoTrack(t),this.playerStore.dispatch(ol(Object(zp.a)(Xp.a.VideoTrackChange,{newTrack:t,oldTrack:n}))),Ic.a.log("SELECTED VIDEO TRACK: ",t)}onApiAudioTrackChange(e){const t=this.store.controller.audioTracks.find(t=>t.value===String(e));t&&(this.playerStore.dispatch(Wd({name:t.name||void 0,lang:t.lang||void 0})),this.videoController.setAudioTrack(t),Ic.a.log("SELECTED AUDIO TRACK: ",t))}onApiTextTrackChange(e){const{textTracks:t,userTextTrackLang:n,userTextTrackName:r}=this.store.controller;if("auto"===e)return void this.playerStore.dispatch($d());const i=void 0===e?void 0:t.find(t=>t.value===e),a={enabled:Boolean(i),lang:i?i.lang||void 0:n,name:i?i.name||void 0:r};this.playerStore.dispatch(Jd(a)),i?(this.videoController.setTextTrack(i),Ic.a.log("SELECTED TEXT TRACK: ",i)):(this.videoController.disableTextTrack(),Ic.a.log("DISABLE TEXT TRACK"))}setFullscreen(e){if(e)try{this.visualState.change({isFullScreen:!0})}catch(e){Ic.a.error("Request fullscreen for element:",e)}else try{this.visualState.change({isFullScreen:!1})}catch(e){Ic.a.error("Exit fullscreen for element:",e)}}onError(e){this.playerStore.dispatch(Md({error:e})),e.isFatal&&(this.api.logEvent({event:"MediaInternalsHistoryOnFatal",params:{history:this.mediaInternalsHistory.getHistory()}}),!nn(this.store)&&this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(Cc.a.PlayerError),this.playerStore.dispatch(Il(Fs.a.PAUSE)),this.resourceTimingsMonitor.updateInfo(),this.destroyVideoController())}async detachEncoder(){this.videoController&&(await this.videoController.detachEncoder(),this.playerStore.dispatch(sd(!1)))}async attachEncoder(){this.store.controller.isOnline||await this.onlineMonitor.onOnline.promise(),await this.videoController.attachEncoder(),this.playerStore.dispatch(sd(!0))}async destroyVideoController(){this.videoController&&(await this.videoController.destroy(),this.playerStore.dispatch(sd(!1)))}async destroy(){this.saveDataToStorage(),this.stopAd({stopAdReason:Cc.a.PlayerDestroy,data:{loadPositionAfterAd:void 0}}),this.stopLoadSource(dv.destroy),this.multiroll.destroy(),this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(Cc.a.PlayerDestroy),this.onlineMonitor.destroy(),this.visualState.destroy(),this.resourceTimingsMonitor.destroy(),o(this.video)&&"function"===typeof this.video.destroy&&this.video.destroy(),this.destroySkin(),this.mediaInternalsHistory.destroy(),this.playbackQualityController.destroy(),this.api.destroyApi(),this.onDestroy.dispatch(void 0),await this.destroyVideoController(),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(this.container),Object(es.a)(this.unsubscribeSignalsOnSetSource)}runRequestAutoplaySettingsLogger(e,t,n){e.then(e=>{this.api.logEvent({event:e.autoplay?"AutoplayAllowed":"AutoplayDisabled",params:{autoplaySettingsRequestResult:e,initialAutoplayParams:t,cachedAutoplayParams:n}})}),Object(is.a)(Vf).forEach(n=>{const{promise:r,clear:i}=os(1e3*Number(n));e.then(i),r.then(()=>{const{isDocumentVisible:e}=this.store.controller;Ic.a.log("requestAutoplaySettings taking ["+n+"]s, isDocumentVisible=["+e+"]"),e&&this.onError(new Oc({code:Vf[n],details:{initialAutoplayParams:t},isFatal:!1}))})})}get store(){return this.playerStore.getState()}async playAfterWaitingForDocumentVisibility(){const{videoController:e}=this,{startStage:t,initialAutoplay:n}=this.store.controller;if(t===Yp.a.waitForDocumentVisibility&&n&&e){this.api.logEvent({event:_c.a.PlayAfterWaitingForDocumentVisibility,params:{}});try{this.performPlayCallbacks(),await e.play()}catch(t){const{allowMuted:n,muted:r}=this.store.controller;if(!(n&&!r))return;this.setMuted(!0),Object(ns.a)(e.play())}}}updateExternalPlayerConfig(e){this.playerStore.dispatch(Eh(e)),this.playerStore.dispatch(bh(Xs.CLOSED))}getContainerDocument(){return this.container.ownerDocument||document}getMainContainer(){return this.config.useFriendlyFrame?this.container:document}saveDataToStorage(){this.api.onSaveDataOutsideIframe({[ec.a.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD]:this.store.ad.watchedTimeSinceAd,[ec.a.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD_UTC_TIMESTAMP]:Object(nc.a)()})}setPosterFitStyle(){Object(Uo.a)(this.video,go({objectFit:"cover"},this.playerStore.getState().controller.videoElementStyle))}resetPosterFitStyle(){Object(Uo.a)(this.video,go({objectFit:"contain"},this.playerStore.getState().controller.videoElementStyle))}hidePoster(){this.video.poster=$s.a}async playInrollAd(){const e=await this.multiroll.inroll.loadViewers({});if(0===e.length)return;await this.stopAd({stopAdReason:Cc.a.PlayInrollAd,data:{loadPositionAfterAd:void 0}});const t=Rt(e,Pc.a.externalInroll);this.playAdViewers(Pc.a.externalInroll,t,{skipDelay:0})}updateLogoWidgetConfig(e){const{logoWidgetConfig:t}=e.params;this.playerStore.dispatch(vp(function(e){return void 0===e?e:{caption:e.caption,avatarSrc:e.avatarSrc,forceExpanded:!1,action:{status:e.action.completed?Js.COMPLETED:Js.DEFAULT,caption:e.action.caption,progressCaption:e.action.progressCaption,completedCaption:e.action.completedCaption,url:e.action.url}}}(t)))}handleFirstContentImpression(){this.resetPosterFitStyle();const{controller:e}=this.playerStore.getState(),t=e.videoTracks.find(t=>{let{value:n}=t;return n===e.videoTrackValue});Dr(this.videoController.engine,{videoType:e.videoType,bandwidth:oi(t&&t.bitrate)},this.store.ad.adSyncInit),this.api.logEvent({event:_c.a.ContentImpression,params:{}}),this.api.onContentImpression({hasPreroll:this.store.ad.adSyncInit,engine:this.store.controller.engine}),this.playerStore.dispatch(hl(!0)),this.hidePoster()}}const Nm=async(e,t,n)=>{const r=function(e){const{isMobile:t,preferNative:n}=e;return mo({},e,{isMobile:void 0===t?Ov.a.isMobile():t,preferNative:void 0!==n&&n})}(t);r.env&&Ov.a.setDeviceType(r.env.deviceType),Object(wo.a)().forEach(t=>Object(ko.a)(t,e));const i=a({preferNative:o=r.preferNative})?Object($l.a)():c({preferNative:o})?Object($l.f)():Co?Object($l.d)():Promise.resolve();var o;return new Promise(t=>{i.then(()=>new km(e,r,n,t))})};Ks.b.createJsPlayer=Nm},,function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!t)return e;const n=r({},e);return Object(z.a)(t).forEach(e=>{let[t,i]=e;n[t]=r({},n[t],i)}),n}function a(e){void 0===e&&(e=window);const t=Object(de.a)(e).match(/YaBrowser\/([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,n,r]=t;return{major:parseInt(n,10),minor:parseInt(r,10)}}function o(){return Object(ce.a)(window)&&!V.a&&!ue.a}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){let{url:t,adConfig:n,additionalParams:r}=e;const i=((e,t)=>{if(!e||!t)return e;const n={"partner-id":"number"===typeof t.partnerId?String(t.partnerId):t.partnerId,"video-category-id":"number"===typeof t.category?String(t.category):t.category,"imp-id":String(t.impId),gzip:"1"};return Object(He.b)(e,n,{override:!0,saveOriginalPath:!0})})(t,n);return r?Object(He.b)(Object(He.b)(i,{from:r.from},{override:!0,saveOriginalPath:!0}),r,{override:!1,saveOriginalPath:!0}):i}function d(e){return[...e.hash.substr(1).split("&"),...e.search.substr(1).split("&")].reduce((e,t)=>{const[n,r]=t.split("=");return void 0!==r&&(e[n]=decodeURIComponent(r.replace(/\+/g," "))),e},{})}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t,n){if(void 0===n&&(n=window),!n.history)return;if(-1<qe.a&&qe.a<=15)return;const r=((e,t,n)=>{const r=l({},d(e));r.mq_url=void 0,r.lq_url=void 0,r.hq_url=void 0,r.hd_url=void 0,r.stream_url=n?Object(Xe.f)(n,["vsid","adsid","partner-id","video-category-id","imp-id","gzip"]):"",r.additional_params="object"===typeof t.additionalParams?JSON.stringify(t.additionalParams):void 0;const{adConfig:i={}}=t;return r.partner_id=ze(i.partnerId),r.category=ze(i.category),r.imp_id=ze(i.impId),r.distr_id=ze(i.distrId),r.video_content_id=ze(i.videoContentId),r.video_content_name=ze(i.videoContentName),r.video_publisher_id=ze(i.videoPublisherId),r.video_publisher_name=ze(i.videoPublisherName),r.video_genre_id=ze(i.videoGenreId),r.video_genre_name=ze(i.videoGenreName),r.start_position=ze(t.startPosition),r.loop=ze(t.loop),r.with_credentials=ze(t.withCredentials),r.preview=ze(t.preview),r.host=e.hostname,r})(n.location,e,t),i=Object(Xe.c)(n.location.href.split("?")[0].split("#")[0],r);try{n.history.replaceState(void 0,"",i)}catch(e){}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return Object(Ye.a)(e.toJSON)?e.toJSON():e}n.r(t);n(262);var v=n(112),E=n(238);Object(E.b)();var g=n(27),m=n(113),y=n(76),A=n(3),S=n(5),T=n(49),b=n(46),O=n(106),R=n(18),_=n(22),P=n(35),C=n(50),I=n(7),w=n(0),k=n(133),N=n.n(k),D=n(280),L=n.n(D),j=n(42),M=n.n(j),V=n(39),F=n(152),U=n(240);const x=Object(U.a)(),H=V.a?F.a:!x;var B=n(29),K=n(241),Y=n(81),W=n(53),G=n(98),q=n(235),X=n(134),z=n(41);const Q="3036",J="2923";var Z=n(141),$=n(15),ee=n(244),te=n(250);class ne{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new R.a,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=Object(ee.a)(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&V.a&&(this.onDestroy.addOne(Object($.a)(t,"webkitbeginfullscreen",()=>{this.setFullscreenElement(t)})),this.onDestroy.addOne(Object($.a)(t,"webkitendfullscreen",()=>{this.setFullscreenElement(null)}))),this.names=Object(te.a)(e,t),this.names&&(this.onDestroy.addOne(Object($.a)(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error("Fullscreen is not supported");{const{request:n}=this.names;if(!(n in e))throw new this.win.Error("Fullscreen is not supported");e[n](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error("Fullscreen is not supported");this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,this.handlers.forEach(t=>t(e))}}var re=n(207),ie=n(210),ae=n(229),oe=n(208),se=n(167),ce=n(114),de=n(17),le=n(2),ue=n(154);let he;!function(e){e.PiP="PiP",e.YaBroEarly="YaBroEarly",e.YaBroAttrLegacy="YaBroAttrLegacy",e.YaBroAttrCurrent="YaBroAttrCurrent",e.OperaPopOut="OperaPopOut",e.SafariPresentationMode="SafariPresentationMode"}(he||(he={}));const pe={[he.PiP]:{isSupported:e=>{if("pictureInPictureEnabled"in e.document){if(o()){const t=a(e);return 20===t.major&&t.minor>4||t.major>20}return!0}return!1},getCurrent:e=>e.document.pictureInPictureElement||null,observe:(e,t,n)=>t?(t.addEventListener("enterpictureinpicture",n),t.addEventListener("leavepictureinpicture",n),()=>{t.removeEventListener("enterpictureinpicture",n),t.removeEventListener("leavepictureinpicture",n)}):le.a,getPipWindow:e=>e.pictureInPictureWindow||null},[he.YaBroEarly]:{isSupported:(e,t)=>"broughtOut"in t,getCurrent:(e,t)=>t&&"broughtOut"in t&&t.broughtOut?t:null,observe:(e,t,n)=>t?(t.addEventListener("oowvideobringin",n),t.addEventListener("oowvideobringout",n),()=>{t.removeEventListener("oowvideobringin",n),t.removeEventListener("oowvideobringout",n)}):le.a},[he.YaBroAttrCurrent]:{isSupported:e=>{if(o()){const t=a(e);return 18===t.major&&t.minor>=6||t.major>18}return!1}},[he.YaBroAttrLegacy]:{isSupported:e=>o()&&a(e).major<18},[he.SafariPresentationMode]:{isSupported:(e,t)=>"webkitPresentationMode"in t,getCurrent:(e,t)=>t&&"picture-in-picture"===t.webkitPresentationMode?t:null,observe:(e,t,n)=>t?(t.addEventListener("webkitpresentationmodechanged",n),()=>t.removeEventListener("webkitpresentationmodechanged",n)):le.a},[he.OperaPopOut]:{isSupported:(e,t)=>"onoperadetachedviewcontrol"in t&&"onoperadetachedviewchange"in t}},fe=[he.PiP,he.YaBroEarly,he.YaBroAttrCurrent,he.YaBroAttrLegacy,he.SafariPresentationMode,he.OperaPopOut];class ve{constructor(e,t){void 0===e&&(e=window),this.onChange=new R.a,this.api=null,this.apiName=null,this.window=void 0,this.pipWindow=null,this.currentElement=null,this.unsubscribeFromApi=le.a,this.handlePipEvent=e=>{var t;const n=e.target;this.digestCurrentElement(n);const r=Boolean(this.getCurrentElement());this.pipWindow=(null==(t=this.api)||null==t.getPipWindow?void 0:t.getPipWindow(e))||null,this.onChange.dispatch(r)},this.window=e;const n=t||window.HTMLVideoElement.prototype;for(let e=0;e<fe.length;e++){const t=fe[e],r=pe[t];try{if(r.isSupported(this.window,n)){this.api=r,this.apiName=t;break}}catch(e){}}this.digestCurrentElement(t),this.api&&this.api.observe&&(this.unsubscribeFromApi=this.api.observe(this.window,t,this.handlePipEvent))}getSupportedApiName(){return this.apiName}getCurrentElement(){return this.currentElement}addHandler(e){return this.api&&this.api.observe?this.onChange.add(e):null}getPipWindowSize(){if(!this.pipWindow)return null;const{width:e,height:t}=this.pipWindow;return e&&t?{width:e,height:t}:null}destroy(){this.currentElement=null,this.onChange.removeAll(),this.unsubscribeFromApi()}digestCurrentElement(e){this.api&&this.api.getCurrent&&(this.currentElement=this.api.getCurrent(this.window,e))}}let Ee=null;try{"undefined"!==typeof IntersectionObserver&&(Ee=re.a.from(ae.a.factory,ie.a.factory))}catch(e){}const ge=Object(se.a)();class me{constructor(e){this.isSupportedPipMode=!0,this.isYandexPipMode=!1,this.isVisibilitySupported=Boolean(Ee),this.window=void 0,this.element=void 0,this.fullscreenApi=void 0,this.pipApi=void 0,this.video=void 0,this.onChange=new R.a,this.onDestroy=new R.a,this.state={isPip:!1,isFullScreen:!1,isVisible:!0},this.observe=e=>this.onChange.add(e),this.fireVisualStateHandlers=()=>{const{isPip:e,isVisible:t,isFullScreen:n}=this.state;this.onChange.dispatch({isPip:e,isVisible:t,isFullScreen:n,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode})},this.handleVisibilityChange=e=>{this.state.isVisible=e,this.fireVisualStateHandlers()},this.handlePipChange=e=>{this.state.isPip=e,this.fireVisualStateHandlers()},this.handleFullscreenChange=e=>{const t=ge?this.video:this.element;this.state.isFullScreen=t===e,this.fireVisualStateHandlers()},this.element=e,this.window=Object(oe.a)(this.element)}setVideoElement(e){void 0===this.video&&(this.video=e,this.observeFullscreen(),this.observePip())}setExternalVisibility(e){this.handleVisibilityChange(e)}change(e){e.isFullScreen!==this.state.isFullScreen&&(e.isFullScreen?this.fullscreenApi.requestFullscreenForElement(ge?this.video:this.element,{navigationUI:"hide"}):this.fullscreenApi.exit())}destroy(){this.onDestroy.dispatch(void 0),this.onDestroy.removeAll()}getState(){const{isPip:e,isVisible:t,isFullScreen:n}=this.state;return{isPip:e,isVisible:t,isFullScreen:n,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode}}getPipWindowSize(){return this.pipApi.getPipWindowSize()}observePip(){this.pipApi=new ve(Object(oe.a)(this.video),this.video),this.pipApi.addHandler(this.handlePipChange),this.onDestroy.add(()=>{this.pipApi.destroy()});const e=this.pipApi.getSupportedApiName();this.isSupportedPipMode=e!==he.OperaPopOut,this.isYandexPipMode=e===he.YaBroAttrCurrent||e===he.YaBroAttrLegacy}observeFullscreen(){this.fullscreenApi=new ne(this.window,this.video),this.fullscreenApi.addHandler(this.handleFullscreenChange),this.onDestroy.add(()=>{this.fullscreenApi.destroy()})}}var ye=n(59),Ae=n(80),Se=n(34),Te=n(51),be=n(64);"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value(){const e={};return Object(_.a)(()=>{Object.getOwnPropertyNames(this).forEach((function(t){e[t]=this[t]}),this)}),e},configurable:!0,writable:!0});var Oe=n(209),Re=n(36),_e=n(221),Pe=n(164);const Ce=Object(w.h)(1e4),Ie=Object(w.h)(1e3),we=Object(w.h)(5e3),ke=Object(w.h)(3e4);class Ne extends P.a{constructor(e){super(),this.props=e,this.timer=new Pe.b(e=>{let{time:t}=e;this.writeState();return t>0&&(t===Ce||t%ke===0)&&this.flushStates(),t<Ce?Ie:we}),this.states=[],this.prevState=void 0,this.timer.start()}destroy(){super.destroy(),this.timer.destroy(),this.flushStates()}getStates(){return[...this.states]}flushStates(){const e=this.getStates();e.length>0&&this.props.onFlushStates(e),this.states.length=0}writeState(){const e=this.props.getState();void 0!==e&&(M()(this.prevState,e)||(this.prevState=e,this.states.push(s({},e,{timestamp:Object(w.h)(Date.now())}))))}}var De=n(77);const Le=[0,1,4,5];let je=Object(w.j)(0);const Me=Le.map(e=>(je=Object(w.a)(Object(w.j)(e),je),je)),Ve=Object(w.c)(Me[Me.length-1],1e3),Fe=[ye.a.Init];class Ue{constructor(e){this.getPlayerExpectedStalled=e,this.onSendStalled=new R.a,this.isBuffering=!1,this.timer=void 0,this.stalledId=1,this.currentStalled=void 0,this.stalledTime=Object(w.j)(0),this.stalledCount=0}setBuffering(e){var t;if(e!==this.isBuffering)if(this.isBuffering=e,this.isBuffering)this.timer=new Pe.b(e=>{let{count:t}=e;const n=this.getExpectedStalled();if(t>0){const e=Object(w.j)(Me[t-1]),r=this.currentStalled?this.currentStalled.id:this.stalledId++;this.currentStalled||this.stalledCount++,this.currentStalled={id:r,expectedStalled:n,duration:e,getElapsedTime:Object(De.a)()},this.send(!1,n,e,r)}return t>=Le.length?(this.destroyTimer(),1/0):1e3*Le[t]}),this.timer.start();else{if(this.currentStalled){const{expectedStalled:e,id:n}=this.currentStalled,r=void 0===(t=this.currentStalled)?Object(w.j)(0):Object(w.a)(t.duration,Object(w.b)(t.getElapsedTime(),1e3));this.send(!0,e,r,n),this.currentStalled=void 0,this.stalledTime=Object(w.a)(r,this.stalledTime)}this.destroyTimer()}}getStalledHistory(){const{stalledCount:e,stalledTime:t}=this;return{stalledCount:e,stalledTime:t}}clearStalledHistory(){this.stalledCount=0,this.stalledTime=Object(w.j)(0)}destroy(){this.destroyTimer()}isExpiredStalled(e){const{getElapsedTime:t,reason:n}=e;return!(Fe.indexOf(n)>-1)&&((!this.currentStalled||this.currentStalled.expectedStalled!==e)&&t()>=Ve)}getExpectedStalled(){const e=this.getPlayerExpectedStalled();return this.isExpiredStalled(e)?Object(be.a)(ye.a.Other,void 0):e}destroyTimer(){this.timer&&(this.timer.destroy(),this.timer=void 0)}send(e,t,n,r){const{reason:i,details:a}=t,o={id:r,isStalledEnd:e,reason:i,details:a,stalledDuration:n};this.onSendStalled.dispatch(o)}}var xe=n(33),He=n(13);var Be=n(245),Ke=n(222),Ye=n(11);n(116),n(237),n(263),n(169);n(67).a;n(57);var We=n(206),Ge=n(140),qe=n(139),Xe=n(70);const ze=e=>void 0===e?void 0:String(e);class Qe extends R.a{}class Je extends C.a{}const Ze={sourceId:NaN,data:void 0};class $e extends P.a{constructor(e,t,n,r,i){super(),this.container=e,this.vsid=t,this.iFrameParameters=n,this.streamPlayerUrl=r,this.externalRequestController=i,this.isReady=!1,this.readyPromise=void 0,this.onInitError=new Qe,this.onError=new Qe,this.onChangeStream=new Qe,this.onStateChange=new Qe,this.onSeek=new Qe,this.onAdStateChange=new Qe,this.onAdPodStart=new Qe,this.onDurationChange=new Je({sourceId:NaN,data:Object(w.j)(NaN)},M.a),this.onCurrentTimeChange=new Je({sourceId:NaN,data:NaN},M.a),this.onFullScreenChange=new Qe,this.onVolumeChange=new Qe,this.onUserAction=new Qe,this.onVideoTypeChange=new Qe,this.onRecover=new Qe,this.onFeatureEvent=new Qe,this.onErrorScreenVisibilityChange=new Qe,this.onSkinReady=new Qe,this.onContentImpression=new Qe,this.onAdSDKVersionDefined=new Qe,this.onResourcesIdle=new Qe,this.onSetSourceRequest=new Qe,this.onVisualStateChange=new Qe,this.onSaveDataOutsideIframe=new Qe,this.onBufferingRangesChange=new Qe,this.onStartStageChange=new Qe,this.onVideoSizeChange=new Qe,this.onVideoReadyStateChange=new Qe,this.onNetworkScoreChange=new Qe,this.onLogoWidgetActionCall=new Qe,this.onNextAdRemainingTimeChange=new Qe,this.onStreamsWithSupportInfoChange=new Qe,this.onEngineChange=new Qe,this.onVideoTrackChange=new Qe,this.onVideoTracksChange=new Qe,this.onAudioTrackChange=new Qe,this.onAudioTracksChange=new Qe,this.onTextTrackChange=new Qe,this.onTextTracksChange=new Qe,this.onPlaybackRateChange=new Qe,this.onSubtitlesChange=new Qe,this.onThumbnailTileGeneralMetaInfoChange=new Qe,this.onOriginalBroadcastAdStateChange=new Qe,this.onVideoClickerEvent=new Qe,this.onLogEvent=new Qe,this.visualState=void 0,this.state=void 0,this.htmlPlayerApi=void 0,this.onPlayerStateChange=new Qe,this.stalledController=void 0,this.playerAliveController=void 0,this.playingStateReason=Ae.a.Unknown,this.additionalParams=void 0,this.isAdblockDetected=Y.a,this.callFeatureAction=e=>{if(!this.isReady)throw new S.a("callFeatureAction: Player is not ready");this.htmlPlayerApi.dispatchFeatureAction(e)};const{additionalParams:a=h({},G.a,{vsid:this.vsid}),adConfig:o}=n.source,s=o.partnerId||o.adBreaks?o:void 0;this.additionalParams=a,n.source.streams=n.source.streams.map(e=>h({},e,{url:c({url:e.url,adConfig:s,additionalParams:this.additionalParams})}));const[d]=this.iFrameParameters.source.streams;this.state={playingState:xe.a.UNSTARTED,startPosition:n.source.startPosition,env:n.env,withCredentials:n.source.withCredentials,preview:n.source.preview,stream:d,adConfig:Object(Ge.a)(s||{}),adState:_e.a},this.onPlayerStateChange.add(e=>{const{sourceId:t,data:n}=e;this.state.playingState!==n&&(this.state.playingState=n,this.onStateChange.dispatch({sourceId:t,data:{playingState:n,reason:this.playingStateReason}}),this.playingStateReason=Ae.a.Unknown)}),this.visualState=new me(this.container),this.readyPromise=this.createHTMLPlayer().then(()=>{this.isReady=!0}).catch(e=>{throw this.onInitError.dispatch({sourceId:this.getSourceId(),data:new S.a(e)}),e}),this.onAdStateChange.add(e=>{let{data:t}=e;const{adState:n,playingState:r}=this.state;n.state===Se.a.NOT_PLAYING&&t.state===Se.a.PLAYING&&this.stalledController.setBuffering(!1);n.state===Se.a.PLAYING&&t.state===Se.a.NOT_PLAYING&&r===xe.a.BUFFERING&&this.stalledController.setBuffering(!0),n.state!==t.state&&(this.playingStateReason=Ae.a.Unknown),this.state.adState=t}),this.playerAliveController=this.setupPlayerAliveController(),this.addDestroyHandler(()=>{this.externalRequestController.destroy()}),this.stalledController=new Ue(()=>this.htmlPlayerApi?this.htmlPlayerApi.getExpectedStalled():Object(be.a)(ye.a.Other,void 0))}play(e){if(!this.isReady)throw new S.a("Play method: Player is not ready");this.playingStateReason=e,this.htmlPlayerApi.play()}pause(e){if(!this.isReady)throw new S.a("Pause method: Player is not ready");this.playingStateReason=e,this.htmlPlayerApi.pause()}seek(e){if("number"!==typeof e)throw new S.a("seek method receive a number");this.readyPromise.then(()=>{this.htmlPlayerApi.seek({videoTime:e})})}setPlaybackRate(e){this.isReady&&this.htmlPlayerApi.setPlaybackRate(e)}setSource(e,t){let{adSessionIdConfig:n,shouldSaveProgress:r}=t;if(!e)throw new S.a("setSource method receives an object");this.playerAliveController.flushStates(),this.stalledController.clearStalledHistory(),this.state.adConfig=void 0===e.adConfig?void 0:Object(Ge.a)(e.adConfig),this.state.startPosition=e.startPosition,this.state.withCredentials=e.withCredentials,this.state.stream=e.streams[0],this.state.preview=e.preview;const{additionalParams:i}=e;i&&(this.additionalParams=i),e.streams=e.streams.map(e=>h({},e,{url:c({url:e.url,adConfig:this.state.adConfig,additionalParams:this.additionalParams})})),this.readyPromise.then(()=>{u(e,e.streams[0].url);const{streams:t,shareConfig:i}=e,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["trackings","streams","shareConfig"]);this.htmlPlayerApi.setSource({streams:t,params:h({},a,{startPosition:{videoTime:e.startPosition},shareConfig:i})},{shouldSaveProgress:r,adSessionIdConfig:n})}).catch(e=>{this.onError.dispatch({sourceId:this.getSourceId(),data:new S.a(e)})})}getDuration(){return void 0===this.htmlPlayerApi?W.a.duration:this.htmlPlayerApi.getDuration()}getCurrentTime(){return this.isReady?this.htmlPlayerApi.getCurrentTime():q.a}getUtcPosition(){if(this.isReady)return this.htmlPlayerApi.getUtcPosition();throw new S.a("getUtcPosition: Player is not ready")}getWatchedTime(){return void 0===this.htmlPlayerApi?Object(w.j)(0):this.htmlPlayerApi.getWatchedTime()}getAdSessionWatchedTime(){if(!this.isReady)throw new S.a("getAdSessionWatchedTime: Player is not ready");return this.htmlPlayerApi.getAdSessionWatchedTime()}getVideoPlaybackQuality(){if(!this.isReady)throw new S.a("getVideoPlaybackQuality: Player is not ready");return this.htmlPlayerApi.getVideoPlaybackQuality()}getVolume(){if(this.isReady)return this.htmlPlayerApi.getVolume();throw new S.a("getVolume: Player is not ready")}setHiddenControls(e){if(this.isReady)return this.htmlPlayerApi.setHiddenControls(e);throw new S.a("setHiddenControls: Player is not ready")}setVideoStyle(e){if(this.isReady)return this.htmlPlayerApi.setVideoStyle(e);throw new S.a("setVideoStyle: Player is not ready")}setPictureInPictureEnabled(e){if(!this.isReady)throw new S.a("setPictureInPictureEnabled: Player is not ready");this.htmlPlayerApi.setPictureInPictureEnabled(e)}setVolume(e){if(!this.isReady)throw new S.a("setVolume: Player is not ready");e>0&&this.htmlPlayerApi.setMuted(!1),this.htmlPlayerApi.setVolume(e)}setMuted(e){if(!this.isReady)throw new S.a("setMuted: Player is not ready");this.htmlPlayerApi.setMuted(e)}setVideoTrack(e){if(!this.isReady)throw new S.a("setVideoTrack: Player is not ready");this.htmlPlayerApi.setVideoTrack(e)}setAudioTrack(e){if(!this.isReady)throw new S.a("setAudioTrack: Player is not ready");this.htmlPlayerApi.setAudioTrack(e)}setTextTrack(e){if(!this.isReady)throw new S.a("setTextTrack: Player is not ready");this.htmlPlayerApi.setTextTrack(e)}setNativeTextTrackVisibility(e){if(!this.isReady)throw new S.a("setNativeTextTrackVisibility: Player is not ready");this.htmlPlayerApi.setNativeTextTrackVisibility(e)}setFullscreen(e){if(!this.isReady)throw new S.a("setFullscreen: Player is not ready");this.htmlPlayerApi.setFullscreen(e)}async downloadDebugInfo(){const e=JSON.stringify(this.getDebugInfo());try{H?L()(T.a?e:new Blob([e]),"yandex-video-player-"+Date.now()+".json","text/plain"):await N()(e)}catch(e){this.onError.dispatch({sourceId:this.getSourceId(),data:new S.a(h({},e,{code:A.a.FAILED_TO_DOWNLOAD_DEBUG_INFO,isFatal:!1}))})}}setTitleSettings(e){this.htmlPlayerApi.setTitleSettings(e)}getDebugInfo(){let e={};void 0!==this.htmlPlayerApi&&(e=this.htmlPlayerApi.getDebugInfo());const{playingState:t}=this.state;return h({},e,this.state,{playingState:xe.a[t],vsid:this.vsid,version:"1.0-6125",utcPosition:this.getUtcPosition(),currentTime:this.getCurrentTime(),system:Object(Ke.a)(),clientTimestamp:Date.now(),streamUrl:this.state.stream.url,internalInitialConfig:this.iFrameParameters})}stopAd(){return void 0===this.htmlPlayerApi?Promise.resolve():this.htmlPlayerApi.stopAd({stopAdReason:Te.a.InsertIntoCalled,data:{loadPositionAfterAd:void 0}})}getPosition(){if(!this.isReady)throw new S.a("getTimelineInfo: Player is not ready");return{time:this.getCurrentTime(),utcTime:this.getUtcPosition(),watchedTime:this.getWatchedTime(),adSessionWatchedTime:this.getAdSessionWatchedTime(),videoPlaybackQuality:this.getVideoPlaybackQuality()}}setExternalVisualState(e){this.visualState.setExternalVisibility(e.isVisible)}getTimelineInfo(){if(!this.isReady)throw new S.a("getTimelineInfo: Player is not ready");return this.htmlPlayerApi.getTimelineInfo()}playInrollAd(){if(!this.isReady)throw new S.a("playInrollAd: Player is not ready");this.htmlPlayerApi.playInrollAd()}setLogoWidgetExpanded(e){this.readyPromise.then(()=>{this.htmlPlayerApi.setLogoWidgetExpanded(e)})}setLogoWidgetActionCompleted(e){this.readyPromise.then(()=>{this.htmlPlayerApi.setLogoWidgetActionCompleted(e)})}addPromoConfig(e){this.readyPromise.then(()=>this.htmlPlayerApi.addPromoConfig(e))}getSourceId(){return this.htmlPlayerApi?this.htmlPlayerApi.getSourceId():NaN}async createHTMLPlayer(){const{source:{loop:e,streams:t},featuresEnabled:r}=this.iFrameParameters,a=await async function(e){let{featuresEnabled:t,streamPlayerUrl:r,container:i}=e;return n(336),Promise.resolve(Re.b.createJsPlayer)}({featuresEnabled:r,streamPlayerUrl:this.streamPlayerUrl,container:this.container});this.stalledController.onSendStalled.add(e=>{const{htmlPlayerApi:t}=this,n=e.isStalledEnd?"StalledEnd":"Stalled";let r,i;t&&(r=t.getRemainingBufferedTime(),i=t.getVideoTrack()),this.logEvent({event:n,params:h({},e.details,{stalledDuration:e.stalledDuration,remainingBufferedTime:r,videoTrack:i,stalledId:e.id,isMuted:this.htmlPlayerApi?this.htmlPlayerApi.getMuted():void 0}),additionalStatsLabels:{reason:e.reason,stalledDuration:e.isStalledEnd?void 0:String(e.stalledDuration)}})});const{showBrandLogo:o,showUnmuteButtonForAll:s,featuresParams:c,allowMuted:d,togglePlaybackOnVisibilityChange:l,restoreTabSessionPlaybackProgress:p,startPositionConfirmation:f,source:{externalPlayerConfig:v,videoInfo:E,shareConfig:g,features:m,logoConfig:y,subtitles:A,logoWidgetConfig:T,promoConfig:b,preview:O},liveOffset:R,useFriendlyFrame:P,debug:C,autoplay:w,autoQuality:k,preload:N,volume:D,muted:L,maxBufferLength:j,preferNative:M,report:V,skinConfig:F,handleVideoTagClickWhenHidingNativeControls:U,shouldPlayOnFirstClick:x,bandwidthEstimateOffset:H}=this.iFrameParameters;this.htmlPlayerApi=await a(this.container,h({source:{streams:t,params:{startPosition:{videoTime:this.state.startPosition},additionalParams:this.additionalParams,adConfig:this.state.adConfig,promoConfig:b,withCredentials:this.state.withCredentials,loop:e,preview:O,logoConfig:y,logoWidgetConfig:T,shareConfig:g,features:i(c,m),externalPlayerConfig:v,videoInfo:E,subtitles:A}},debug:C.logInternals,hidden:Object(B.c)(this.iFrameParameters.hidden),autoplay:w,allowMuted:d,autoQuality:k,preload:N,env:this.state.env,togglePlaybackOnVisibilityChange:l,restoreTabSessionPlaybackProgress:p,startPositionConfirmation:f,volume:D,muted:L,maxBufferLength:j,liveOffset:R,preferNative:M,report:V.enabled,showBrandLogo:o,showUnmuteButtonForAll:s,useFriendlyFrame:P,skinConfig:F,featuresEnabled:r,handleVideoTagClickWhenHidingNativeControls:U,shouldPlayOnFirstClick:x,bandwidthEstimateOffset:H},this.iFrameParameters.adSessionIdConfig,{callbacks:{onChangeStream:e=>{this.onChangeStream.dispatch({sourceId:this.getSourceId(),data:e}),e&&(u({preview:this.state.preview,adConfig:this.state.adConfig,additionalParams:this.additionalParams},e.url),this.state.stream=e)},onError:e=>{const t=e.isFatal?Object(X.a)(e.code,this.isAdblockDetected):void 0;this.onError.dispatch({sourceId:this.getSourceId(),data:new S.a(h({},e,{messageDetails:t}))})},onRecover:e=>{this.onRecover.dispatch({sourceId:this.getSourceId(),data:e})},onStateChange:e=>{if(e===I.a.BUFFERING){const{adState:e}=this.state;e.state===Se.a.NOT_PLAYING&&this.stalledController.setBuffering(!0)}else this.stalledController.setBuffering(!1);this.onPlayerStateChange.dispatch({sourceId:this.getSourceId(),data:Object(We.a)(e)})},onSeek:e=>this.onSeek.dispatch({sourceId:this.getSourceId(),data:e}),onAdStateChange:e=>{this.onAdStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onAdPodStart:()=>{this.onAdPodStart.dispatch({sourceId:this.getSourceId(),data:void 0})},onVideoTypeChange:e=>{this.onVideoTypeChange.dispatch({sourceId:this.getSourceId(),data:e})},onDurationChange:e=>this.onDurationChange.dispatch({sourceId:this.getSourceId(),data:e}),onCurrentTimeChange:e=>this.onCurrentTimeChange.dispatch({sourceId:this.getSourceId(),data:e}),onFullScreenChange:e=>this.onFullScreenChange.dispatch({sourceId:this.getSourceId(),data:e}),onVolumeChange:e=>{this.onVolumeChange.dispatch({sourceId:this.getSourceId(),data:e})},onUserAction:e=>{switch(this.onUserAction.dispatch({sourceId:this.getSourceId(),data:e}),e.name){case"DOWNLOAD_DEBUG":this.downloadDebugInfo()}},onErrorScreenVisibilityChange:e=>this.onErrorScreenVisibilityChange.dispatch({sourceId:this.getSourceId(),data:e}),onVideoTrackChange:e=>this.onVideoTrackChange.dispatch({sourceId:this.getSourceId(),data:e}),onVideoTracksChange:e=>this.onVideoTracksChange.dispatch({sourceId:this.getSourceId(),data:e}),onAudioTrackChange:e=>this.onAudioTrackChange.dispatch({sourceId:this.getSourceId(),data:e}),onAudioTracksChange:e=>this.onAudioTracksChange.dispatch({sourceId:this.getSourceId(),data:e}),onTextTrackChange:e=>this.onTextTrackChange.dispatch({sourceId:this.getSourceId(),data:e}),onTextTracksChange:e=>this.onTextTracksChange.dispatch({sourceId:this.getSourceId(),data:e}),onSubtitlesChange:e=>this.onSubtitlesChange.dispatch({sourceId:this.getSourceId(),data:e}),onPlaybackRateChange:e=>this.onPlaybackRateChange.dispatch({sourceId:this.getSourceId(),data:e}),onThumbnailTileGeneralMetaInfoChange:e=>{this.onThumbnailTileGeneralMetaInfoChange.dispatch({sourceId:this.getSourceId(),data:e})},onOriginalBroadcastAdStateChange:e=>{this.onOriginalBroadcastAdStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onAdblockDetected:e=>{this.isAdblockDetected=e,Object(_.a)(()=>{window.Ya.Rum.updateErrors({blocker:e}),window.Ya.Rum.setVars({"-blocker":e}),Object(Z.a)(J,window.Ya.Rum.getTime(),!1,{[J]:Number(e)})})},onFeatureEvent:e=>{this.onFeatureEvent.dispatch({sourceId:this.getSourceId(),data:e})},onSkinReady:()=>{this.onSkinReady.dispatch({sourceId:this.getSourceId(),data:void 0})},onContentImpression:e=>{this.onContentImpression.dispatch({sourceId:this.getSourceId(),data:e})},onResourcesIdle:()=>{this.onResourcesIdle.dispatch({sourceId:this.getSourceId(),data:void 0})},onSetSourceRequest:e=>{this.onSetSourceRequest.dispatch({sourceId:this.getSourceId(),data:e})},onVisualStateChange:e=>{this.onVisualStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onSaveDataOutsideIframe:e=>{this.onSaveDataOutsideIframe.dispatch({sourceId:this.getSourceId(),data:e})},onBufferingRangesChange:e=>{this.onBufferingRangesChange.dispatch({sourceId:this.getSourceId(),data:e})},onStartStageChange:e=>{this.onStartStageChange.dispatch({sourceId:this.getSourceId(),data:e})},onVideoSizeChange:e=>{this.onVideoSizeChange.dispatch({sourceId:this.getSourceId(),data:e})},onVideoReadyStateChange:e=>{this.onVideoReadyStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onNetworkScoreChange:e=>{this.onNetworkScoreChange.dispatch({sourceId:this.getSourceId(),data:e})},onNextAdRemainingTimeChange:e=>{this.onNextAdRemainingTimeChange.dispatch({sourceId:this.getSourceId(),data:e})},onVideoClickerEvent:e=>{this.onVideoClickerEvent.dispatch({sourceId:this.getSourceId(),data:e})},logEvent:e=>{this.logEvent(e)},onLogoWidgetActionCall:()=>{this.onLogoWidgetActionCall.dispatch({sourceId:this.getSourceId(),data:void 0})},onAdSDKVersionDefined:e=>{this.onAdSDKVersionDefined.dispatch({sourceId:this.getSourceId(),data:e})},onStreamsWithSupportInfoChange:e=>{this.onStreamsWithSupportInfoChange.dispatch({sourceId:this.getSourceId(),data:e})},onEngineChange:(e,t)=>{this.onEngineChange.dispatch({sourceId:t,data:e})}}}),{visualState:this.visualState}),this.htmlPlayerApi.setExternalRequestController(this.externalRequestController),this.addDestroyHandler(this.htmlPlayerApi.destroy),Object(Z.a)(Q)}setupPlayerAliveController(){const e=new Ne({getState:()=>{var e;const t=h({isVisible:Object(b.a)(document),remainingBufferedTime:Object(w.j)(0),state:I.a.BUFFERING,currentTime:this.getCurrentTime(),watchedTime:this.getWatchedTime(),duration:this.getDuration(),isMuted:this.iFrameParameters.muted,saveData:Object(Oe.a)()},this.stalledController.getStalledHistory()),{htmlPlayerApi:n}=this;if(void 0===n)return t;const r=n.getVideoTrack(),i=n.getAudioTrack(),{droppedVideoFrames:a,totalVideoFrames:o}=n.getVideoPlaybackQuality(),{state:s}=n.getDebugInfo(),{videoWidth:c,videoHeight:d,networkScore:l}=s.controller,u=n.getBandwidthEstimate(),p=n.getVideoTracks()[0],f=n.getMaxCapAllowedVideoTrack(),v=n.getLiveLatency(),E=n.getRemainingBufferedTime(),g=null==(e=s.ad.adInfo)?void 0:e.adType,m=!g||Object(K.a)(g);return h({},t,{liveLatency:v,isMuted:s.controller.muted,ad:g,remainingBufferedTime:E.total,remainingVideoBufferedTime:E.video,remainingAudioBufferedTime:E.audio,state:n.getState(),auto:void 0===r?void 0:r.auto,bitrate:r&&r.bitrate?Object(w.c)(r.bitrate,1e3):void 0,width:c||void 0,height:d||void 0,maxWidth:m&&(null==p?void 0:p.width)?Object(w.i)(p.width):void 0,maxHeight:m&&(null==p?void 0:p.height)?Object(w.i)(p.height):void 0,capWidth:m&&(null==f?void 0:f.width)?Object(w.i)(f.width):void 0,capHeight:m&&(null==f?void 0:f.height)?Object(w.i)(f.height):void 0,audioBitrate:i&&i.bitrate?Object(w.c)(i.bitrate,1e3):void 0,audioTrack:i&&i.value||void 0,audioLang:i&&i.lang||void 0,droppedFrames:a||void 0,shownFrames:o-a||void 0,networkScore:l,bandwidthEstimate:u,rtt:Object(Be.a)()||void 0})},onFlushStates:e=>{this.logEvent({event:"PlayerAlive",params:{states:e}})}});this.addDestroyHandler(()=>this.playerAliveController.destroy());const t=Object(O.a)(document,e=>{e||this.playerAliveController.flushStates()});return this.addDestroyHandler(t),e}logEvent(e){this.onLogEvent.dispatch({sourceId:-1,data:e})}}Object(Re.a)(window).playerJsLoaded=!0;var et=n(195),tt=n(186);n(333),n(334),Object(tt.a)()&&Object(et.a)({win:window,src:"https://yastatic.net/s3/home/rum/debug/blockstat.js"});var nt=n(196),rt=n(198),it=n(223),at=n(249),ot=(n(286),n(4));class st{constructor(e){this.postMessenger=e,this.PROXY_KEYS=[{key:"Escape",keyCode:27}],document.addEventListener("keydown",e=>this.eventHandler(e)),document.addEventListener("keypress",e=>this.eventHandler(e)),document.addEventListener("keyup",e=>this.eventHandler(e))}eventHandler(e){if(0===this.PROXY_KEYS.filter(t=>t.key===e.key||t.keyCode===e.keyCode).length)return;const t={event:e.type,keyCode:e.keyCode,charCode:e.charCode,key:e.key,code:e.code};this.postMessenger.sendEvent(ot.a.onKeyEvent,p({},Ze,{data:t}))}}var ct=n(19),dt=n(158),lt=n(85),ut=n(248),ht=n(246);const pt=d(window.location),ft=pt.vsid||Object(rt.a)(),vt=new dt.a({id:ft,sender:window.parent,receiver:window});(async()=>{const e=new nt.a({sender:window.parent,receiver:window}),t="true"===pt.use_friendly_frame,n=await async function(e){return e.sendRequest(ct.a.getConfig,void 0)}(vt);vt.sendEvent(ot.a.onInit,Ze),new st(vt);const r=t?window.parent.document.getElementById(Object(it.a)(ft)):document.getElementById("q");if(!r){const e=new S.a({code:A.a.PLAYER_CONTAINER_NOT_FOUND,isFatal:!0,details:n,message:"Player container was not found"});throw vt.sendEvent(ot.a.onError,{sourceId:1,data:f(e)}),e}Object(ut.a)().forEach(e=>Object(ht.a)(e,r));const i=function(e){let{featuresEnabled:t,shouldLoadModern:n}=e;const r=Object(at.a)({featuresEnabled:t,shouldLoadModern:n});return{js:"js/"+r+".js",css:"css/"+r+".css"}}({featuresEnabled:n.featuresEnabled,shouldLoadModern:lt.c&&lt.b});if(n.source.streams.some(e=>{let{url:t}=e;return Object(m.a)(t)})){const e=Object(v.a)(window),t=document.createElement("link");t.rel="preconnect",t.href="https://strm.yandex.ru",e.appendChild(t)}const a=new $e(r,ft,n,i,e);a.readyPromise.then(()=>{vt.sendEvent(ot.a.onReady,Ze)}).catch(e=>{0}),vt.onCommand.add(e=>{switch(e.commandName){case ct.a.pause:a.pause(e.params);break;case ct.a.play:a.play(e.params);break;case ct.a.seek:a.seek(e.params);break;case ct.a.setPlaybackRate:a.setPlaybackRate(e.params);break;case ct.a.setSource:const{sourceConfig:t,adSessionIdConfig:n,shouldSaveProgress:r}=e.params;a.setSource(t,{adSessionIdConfig:n,shouldSaveProgress:r});break;case ct.a.getPosition:e.sendAnswer(a.getPosition());break;case ct.a.setVolume:a.setVolume(e.params);break;case ct.a.setMuted:a.setMuted(e.params);break;case ct.a.setVideoTrack:a.setVideoTrack(e.params);break;case ct.a.setAudioTrack:a.setAudioTrack(e.params);break;case ct.a.setTextTrack:a.setTextTrack(e.params);break;case ct.a.setNativeTextTrackVisibility:a.setNativeTextTrackVisibility(e.params);break;case ct.a.setFullscreen:a.setFullscreen(e.params);break;case ct.a.setHiddenControls:a.setHiddenControls(e.params);break;case ct.a.setVideoStyle:a.setVideoStyle(e.params);break;case ct.a.setPictureInPictureEnabled:a.setPictureInPictureEnabled(e.params);break;case ct.a.callFeatureAction:a.callFeatureAction(e.params);break;case ct.a.setTitleSettings:a.setTitleSettings(e.params),e.sendAnswer(e.params);break;case ct.a.requestDebugInfo:e.sendAnswer(a.getDebugInfo());break;case ct.a.stopAd:a.stopAd().then(()=>{e.sendAnswer({})});break;case ct.a.playInrollAd:a.playInrollAd();break;case ct.a.destroy:const{reason:i}=e.params;a.destroy(i),e.sendAnswer(e.params);break;case ct.a.setLogoWidgetExpanded:a.setLogoWidgetExpanded(e.params);break;case ct.a.setLogoWidgetActionCompleted:a.setLogoWidgetActionCompleted(e.params);break;case ct.a.setExternalVisualState:a.setExternalVisualState(e.params);break;case ct.a.addPromoConfig:a.addPromoConfig(e.params);break;default:throw new Error("IFrameApi Error: unexpected command in MessageEvent: "+e.commandName)}}),vt.onError.add(e=>{const t=new y.a(e,{code:A.a.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR,details:{},isFatal:!1});vt.sendEvent(ot.a.onError,{sourceId:a.getSourceId(),data:t.toJSON()})}),a.onStateChange.add(e=>{vt.sendEvent(ot.a.onStateChange,e)}),a.onSeek.add(e=>{a.isReady&&vt.sendEvent(ot.a.onSeek,e)}),a.onDurationChange.add(e=>{a.isReady&&(vt.sendEvent(ot.a.onDurationChange,e),vt.sendEvent(ot.a.onTimelineInfoChange,{sourceId:e.sourceId,data:a.getTimelineInfo()}))}),a.onCurrentTimeChange.add(e=>{a.isReady&&(vt.sendEvent(ot.a.onPositionChange,{sourceId:e.sourceId,data:a.getPosition()}),vt.sendEvent(ot.a.onTimelineInfoChange,{sourceId:e.sourceId,data:a.getTimelineInfo()}))}),a.onFullScreenChange.add(e=>{a.isReady&&vt.sendEvent(ot.a.onFullScreenChange,e)}),a.onVolumeChange.add(e=>{vt.sendEvent(ot.a.onVolumeChange,e)}),a.onAdStateChange.add(e=>{vt.sendEvent(ot.a.onAdStateChange,e)}),a.onAdPodStart.add(e=>{vt.sendEvent(ot.a.onAdPodStart,e)}),a.onInitError.add(e=>{let{data:t,sourceId:n}=e;vt.sendEvent(ot.a.onInitError,{sourceId:n,data:f(t)})}),a.onError.add(e=>{let{data:t,sourceId:n}=e;vt.sendEvent(ot.a.onError,{sourceId:n,data:f(t)})}),a.onUserAction.add(e=>{vt.sendEvent(ot.a.onUserAction,e)}),a.onErrorScreenVisibilityChange.add(e=>{vt.sendEvent(ot.a.onErrorScreenVisibilityChange,e)}),a.onRecover.add(e=>{vt.sendEvent(ot.a.onRecover,e)}),a.onVideoTrackChange.add(e=>{vt.sendEvent(ot.a.onVideoTrackChange,e)}),a.onVideoTracksChange.add(e=>{vt.sendEvent(ot.a.onVideoTracksChange,e)}),a.onAudioTrackChange.add(e=>{vt.sendEvent(ot.a.onAudioTrackChange,e)}),a.onAudioTracksChange.add(e=>{vt.sendEvent(ot.a.onAudioTracksChange,e)}),a.onTextTrackChange.add(e=>{vt.sendEvent(ot.a.onTextTrackChange,e)}),a.onTextTracksChange.add(e=>{vt.sendEvent(ot.a.onTextTracksChange,e)}),a.onPlaybackRateChange.add(e=>{vt.sendEvent(ot.a.onPlaybackRateChange,e)}),a.onSubtitlesChange.add(e=>{vt.sendEvent(ot.a.onSubtitlesChange,e)}),a.onThumbnailTileGeneralMetaInfoChange.add(e=>{vt.sendEvent(ot.a.onThumbnailTileGeneralMetaInfoChange,e)}),a.onVideoTypeChange.add(e=>{vt.sendEvent(ot.a.onVideoTypeChange,e)}),a.onOriginalBroadcastAdStateChange.add(e=>{vt.sendEvent(ot.a.onOriginalBroadcastAdStateChange,e)}),a.onChangeStream.add(e=>{vt.sendEvent(ot.a.onChangeStream,e)}),a.onStreamsWithSupportInfoChange.add(e=>{vt.sendEvent(ot.a.onStreamsWithSupportInfoChange,e)}),a.onEngineChange.add(e=>{vt.sendEvent(ot.a.onEngineChange,e)}),a.onFeatureEvent.add(e=>{vt.sendEvent(ot.a.onFeatureEvent,e)}),a.onSkinReady.add(e=>{vt.sendEvent(ot.a.onSkinReady,e)}),a.onContentImpression.add(e=>{vt.sendEvent(ot.a.onContentImpression,e)}),a.onResourcesIdle.add(e=>{vt.sendEvent(ot.a.onResourcesIdle,e)}),a.onSetSourceRequest.add(e=>{vt.sendEvent(ot.a.onSetSourceRequest,e)}),a.onVisualStateChange.add(e=>{vt.sendEvent(ot.a.onVisualStateChange,e)}),a.onSaveDataOutsideIframe.add(e=>{vt.sendEvent(ot.a.onSaveDataOutsideIframe,e)}),a.onBufferingRangesChange.add(e=>{vt.sendEvent(ot.a.onBufferingRangesChange,e)}),a.onStartStageChange.add(e=>{vt.sendEvent(ot.a.onStartStageChange,e)}),a.onVideoSizeChange.add(e=>{vt.sendEvent(ot.a.onVideoSizeChange,e)}),a.onVideoReadyStateChange.add(e=>{vt.sendEvent(ot.a.onVideoReadyStateChange,e)}),a.onNextAdRemainingTimeChange.add(e=>{vt.sendEvent(ot.a.onNextAdRemainingTimeChange,e)}),a.onVideoClickerEvent.add(e=>{vt.sendEvent(ot.a.onVideoClickerEvent,e)}),a.onNetworkScoreChange.add(e=>{vt.sendEvent(ot.a.onNetworkScoreChange,e)}),a.onLogoWidgetActionCall.add(e=>{vt.sendEvent(ot.a.onLogoWidgetActionCall,e)}),a.onAdSDKVersionDefined.add(e=>{vt.sendEvent(ot.a.onAdSDKVersionDefined,e)}),a.onLogEvent.add(e=>{vt.sendEvent(ot.a.onLogEvent,e)}),Object(g.b)("detect.visibility"),vt.sendRequest(ct.a.getExternalVisualState,void 0).then(e=>{a.setExternalVisualState(e),Object(g.a)("detect.visibility")})})().catch(e=>{vt.sendEvent(ot.a.onInitError,{sourceId:1,data:f(new y.a(e,{isFatal:!0}))})})},function(e,t,n){"use strict";function r(){const e=function(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!r}n.r(t),n.d(t,"isSupported",(function(){return r}))}]);